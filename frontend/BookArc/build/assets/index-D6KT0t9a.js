function d2(a,n){for(var l=0;l<n.length;l++){const i=n[l];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in a)){const u=Object.getOwnPropertyDescriptor(i,c);u&&Object.defineProperty(a,c,u.get?u:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=l(c);fetch(c.href,u)}})();function Ib(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var uf={exports:{}},ei={};var Tv;function u2(){if(Tv)return ei;Tv=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(i,c,u){var h=null;if(u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),"key"in c){u={};for(var x in c)x!=="key"&&(u[x]=c[x])}else u=c;return c=u.ref,{$$typeof:a,type:i,key:h,ref:c!==void 0?c:null,props:u}}return ei.Fragment=n,ei.jsx=l,ei.jsxs=l,ei}var Dv;function m2(){return Dv||(Dv=1,uf.exports=u2()),uf.exports}var e=m2(),mf={exports:{}},ti={},ff={exports:{}},hf={};var Mv;function f2(){return Mv||(Mv=1,(function(a){function n(A,q){var M=A.length;A.push(q);e:for(;0<M;){var ae=M-1>>>1,ve=A[ae];if(0<c(ve,q))A[ae]=q,A[M]=ve,M=ae;else break e}}function l(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var q=A[0],M=A.pop();if(M!==q){A[0]=M;e:for(var ae=0,ve=A.length,B=ve>>>1;ae<B;){var Z=2*(ae+1)-1,U=A[Z],Q=Z+1,le=A[Q];if(0>c(U,M))Q<ve&&0>c(le,U)?(A[ae]=le,A[Q]=M,ae=Q):(A[ae]=U,A[Z]=M,ae=Z);else if(Q<ve&&0>c(le,M))A[ae]=le,A[Q]=M,ae=Q;else break e}}return q}function c(A,q){var M=A.sortIndex-q.sortIndex;return M!==0?M:A.id-q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,x=h.now();a.unstable_now=function(){return h.now()-x}}var p=[],v=[],b=1,g=null,j=3,w=!1,C=!1,S=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(A){for(var q=l(v);q!==null;){if(q.callback===null)i(v);else if(q.startTime<=A)i(v),q.sortIndex=q.expirationTime,n(p,q);else break;q=l(v)}}function _(A){if(S=!1,D(A),!C)if(l(p)!==null)C=!0,O||(O=!0,W());else{var q=l(v);q!==null&&ce(_,q.startTime-A)}}var O=!1,P=-1,$=5,se=-1;function xe(){return E?!0:!(a.unstable_now()-se<$)}function oe(){if(E=!1,O){var A=a.unstable_now();se=A;var q=!0;try{e:{C=!1,S&&(S=!1,T(P),P=-1),w=!0;var M=j;try{t:{for(D(A),g=l(p);g!==null&&!(g.expirationTime>A&&xe());){var ae=g.callback;if(typeof ae=="function"){g.callback=null,j=g.priorityLevel;var ve=ae(g.expirationTime<=A);if(A=a.unstable_now(),typeof ve=="function"){g.callback=ve,D(A),q=!0;break t}g===l(p)&&i(p),D(A)}else i(p);g=l(p)}if(g!==null)q=!0;else{var B=l(v);B!==null&&ce(_,B.startTime-A),q=!1}}break e}finally{g=null,j=M,w=!1}q=void 0}}finally{q?W():O=!1}}}var W;if(typeof R=="function")W=function(){R(oe)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ue=me.port2;me.port1.onmessage=oe,W=function(){ue.postMessage(null)}}else W=function(){N(oe,0)};function ce(A,q){P=N(function(){A(a.unstable_now())},q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(A){A.callback=null},a.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<A?Math.floor(1e3/A):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_next=function(A){switch(j){case 1:case 2:case 3:var q=3;break;default:q=j}var M=j;j=q;try{return A()}finally{j=M}},a.unstable_requestPaint=function(){E=!0},a.unstable_runWithPriority=function(A,q){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=j;j=A;try{return q()}finally{j=M}},a.unstable_scheduleCallback=function(A,q,M){var ae=a.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ae+M:ae):M=ae,A){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=M+ve,A={id:b++,callback:q,priorityLevel:A,startTime:M,expirationTime:ve,sortIndex:-1},M>ae?(A.sortIndex=M,n(v,A),l(p)===null&&A===l(v)&&(S?(T(P),P=-1):S=!0,ce(_,M-ae))):(A.sortIndex=ve,n(p,A),C||w||(C=!0,O||(O=!0,W()))),A},a.unstable_shouldYield=xe,a.unstable_wrapCallback=function(A){var q=j;return function(){var M=j;j=q;try{return A.apply(this,arguments)}finally{j=M}}}})(hf)),hf}var Ov;function h2(){return Ov||(Ov=1,ff.exports=f2()),ff.exports}var xf={exports:{}},dt={};var Pv;function x2(){if(Pv)return dt;Pv=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),j=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=j&&B[j]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function N(B,Z,U){this.props=B,this.context=Z,this.refs=E,this.updater=U||C}N.prototype.isReactComponent={},N.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=N.prototype;function R(B,Z,U){this.props=B,this.context=Z,this.refs=E,this.updater=U||C}var D=R.prototype=new T;D.constructor=R,S(D,N.prototype),D.isPureReactComponent=!0;var _=Array.isArray;function O(){}var P={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function se(B,Z,U){var Q=U.ref;return{$$typeof:a,type:B,key:Z,ref:Q!==void 0?Q:null,props:U}}function xe(B,Z){return se(B.type,Z,B.props)}function oe(B){return typeof B=="object"&&B!==null&&B.$$typeof===a}function W(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(U){return Z[U]})}var me=/\/+/g;function ue(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?W(""+B.key):Z.toString(36)}function ce(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(O,O):(B.status="pending",B.then(function(Z){B.status==="pending"&&(B.status="fulfilled",B.value=Z)},function(Z){B.status==="pending"&&(B.status="rejected",B.reason=Z)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function A(B,Z,U,Q,le){var te=typeof B;(te==="undefined"||te==="boolean")&&(B=null);var G=!1;if(B===null)G=!0;else switch(te){case"bigint":case"string":case"number":G=!0;break;case"object":switch(B.$$typeof){case a:case n:G=!0;break;case b:return G=B._init,A(G(B._payload),Z,U,Q,le)}}if(G)return le=le(B),G=Q===""?"."+ue(B,0):Q,_(le)?(U="",G!=null&&(U=G.replace(me,"$&/")+"/"),A(le,Z,U,"",function(_e){return _e})):le!=null&&(oe(le)&&(le=xe(le,U+(le.key==null||B&&B.key===le.key?"":(""+le.key).replace(me,"$&/")+"/")+G)),Z.push(le)),1;G=0;var he=Q===""?".":Q+":";if(_(B))for(var Ne=0;Ne<B.length;Ne++)Q=B[Ne],te=he+ue(Q,Ne),G+=A(Q,Z,U,te,le);else if(Ne=w(B),typeof Ne=="function")for(B=Ne.call(B),Ne=0;!(Q=B.next()).done;)Q=Q.value,te=he+ue(Q,Ne++),G+=A(Q,Z,U,te,le);else if(te==="object"){if(typeof B.then=="function")return A(ce(B),Z,U,Q,le);throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return G}function q(B,Z,U){if(B==null)return B;var Q=[],le=0;return A(B,Q,"","",function(te){return Z.call(U,te,le++)}),Q}function M(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(U){(B._status===0||B._status===-1)&&(B._status=1,B._result=U)},function(U){(B._status===0||B._status===-1)&&(B._status=2,B._result=U)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var ae=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},ve={map:q,forEach:function(B,Z,U){q(B,function(){Z.apply(this,arguments)},U)},count:function(B){var Z=0;return q(B,function(){Z++}),Z},toArray:function(B){return q(B,function(Z){return Z})||[]},only:function(B){if(!oe(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return dt.Activity=g,dt.Children=ve,dt.Component=N,dt.Fragment=l,dt.Profiler=c,dt.PureComponent=R,dt.StrictMode=i,dt.Suspense=p,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,dt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return P.H.useMemoCache(B)}},dt.cache=function(B){return function(){return B.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(B,Z,U){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Q=S({},B.props),le=B.key;if(Z!=null)for(te in Z.key!==void 0&&(le=""+Z.key),Z)!$.call(Z,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&Z.ref===void 0||(Q[te]=Z[te]);var te=arguments.length-2;if(te===1)Q.children=U;else if(1<te){for(var G=Array(te),he=0;he<te;he++)G[he]=arguments[he+2];Q.children=G}return se(B.type,le,Q)},dt.createContext=function(B){return B={$$typeof:h,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},dt.createElement=function(B,Z,U){var Q,le={},te=null;if(Z!=null)for(Q in Z.key!==void 0&&(te=""+Z.key),Z)$.call(Z,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(le[Q]=Z[Q]);var G=arguments.length-2;if(G===1)le.children=U;else if(1<G){for(var he=Array(G),Ne=0;Ne<G;Ne++)he[Ne]=arguments[Ne+2];le.children=he}if(B&&B.defaultProps)for(Q in G=B.defaultProps,G)le[Q]===void 0&&(le[Q]=G[Q]);return se(B,te,le)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(B){return{$$typeof:x,render:B}},dt.isValidElement=oe,dt.lazy=function(B){return{$$typeof:b,_payload:{_status:-1,_result:B},_init:M}},dt.memo=function(B,Z){return{$$typeof:v,type:B,compare:Z===void 0?null:Z}},dt.startTransition=function(B){var Z=P.T,U={};P.T=U;try{var Q=B(),le=P.S;le!==null&&le(U,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(O,ae)}catch(te){ae(te)}finally{Z!==null&&U.types!==null&&(Z.types=U.types),P.T=Z}},dt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},dt.use=function(B){return P.H.use(B)},dt.useActionState=function(B,Z,U){return P.H.useActionState(B,Z,U)},dt.useCallback=function(B,Z){return P.H.useCallback(B,Z)},dt.useContext=function(B){return P.H.useContext(B)},dt.useDebugValue=function(){},dt.useDeferredValue=function(B,Z){return P.H.useDeferredValue(B,Z)},dt.useEffect=function(B,Z){return P.H.useEffect(B,Z)},dt.useEffectEvent=function(B){return P.H.useEffectEvent(B)},dt.useId=function(){return P.H.useId()},dt.useImperativeHandle=function(B,Z,U){return P.H.useImperativeHandle(B,Z,U)},dt.useInsertionEffect=function(B,Z){return P.H.useInsertionEffect(B,Z)},dt.useLayoutEffect=function(B,Z){return P.H.useLayoutEffect(B,Z)},dt.useMemo=function(B,Z){return P.H.useMemo(B,Z)},dt.useOptimistic=function(B,Z){return P.H.useOptimistic(B,Z)},dt.useReducer=function(B,Z,U){return P.H.useReducer(B,Z,U)},dt.useRef=function(B){return P.H.useRef(B)},dt.useState=function(B){return P.H.useState(B)},dt.useSyncExternalStore=function(B,Z,U){return P.H.useSyncExternalStore(B,Z,U)},dt.useTransition=function(){return P.H.useTransition()},dt.version="19.2.3",dt}var zv;function kd(){return zv||(zv=1,xf.exports=x2()),xf.exports}var gf={exports:{}},Hs={};var Bv;function g2(){if(Bv)return Hs;Bv=1;var a=kd();function n(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var i={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,v,b){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:g==null?null:""+g,children:p,containerInfo:v,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Hs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Hs.createPortal=function(p,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return u(p,v,null,b)},Hs.flushSync=function(p){var v=h.T,b=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=v,i.p=b,i.d.f()}},Hs.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(p,v))},Hs.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Hs.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var b=v.as,g=x(b,v.crossOrigin),j=typeof v.integrity=="string"?v.integrity:void 0,w=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?i.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:g,integrity:j,fetchPriority:w}):b==="script"&&i.d.X(p,{crossOrigin:g,integrity:j,fetchPriority:w,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Hs.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=x(v.as,v.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(p)},Hs.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,g=x(b,v.crossOrigin);i.d.L(p,b,{crossOrigin:g,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Hs.preloadModule=function(p,v){if(typeof p=="string")if(v){var b=x(v.as,v.crossOrigin);i.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(p)},Hs.requestFormReset=function(p){i.d.r(p)},Hs.unstable_batchedUpdates=function(p,v){return p(v)},Hs.useFormState=function(p,v,b){return h.H.useFormState(p,v,b)},Hs.useFormStatus=function(){return h.H.useHostTransitionStatus()},Hs.version="19.2.3",Hs}var Lv;function $b(){if(Lv)return gf.exports;Lv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),gf.exports=g2(),gf.exports}var Uv;function p2(){if(Uv)return ti;Uv=1;var a=h2(),n=kd(),l=$b();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function x(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(i(188))}function v(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var r=t,o=s;;){var d=r.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===r)return p(d),t;if(f===o)return p(d),s;f=f.sibling}throw Error(i(188))}if(r.return!==o.return)r=d,o=f;else{for(var y=!1,k=d.child;k;){if(k===r){y=!0,r=d,o=f;break}if(k===o){y=!0,o=d,r=f;break}k=k.sibling}if(!y){for(k=f.child;k;){if(k===r){y=!0,r=f,o=d;break}if(k===o){y=!0,o=f,r=d;break}k=k.sibling}if(!y)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var g=Object.assign,j=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function W(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var me=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===me?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case N:return"Profiler";case E:return"StrictMode";case _:return"Suspense";case O:return"SuspenseList";case se:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case R:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case D:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return s=t.displayName||null,s!==null?s:ue(t.type)||"Memo";case $:s=t._payload,t=t._init;try{return ue(t(s))}catch{}}return null}var ce=Array.isArray,A=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},ae=[],ve=-1;function B(t){return{current:t}}function Z(t){0>ve||(t.current=ae[ve],ae[ve]=null,ve--)}function U(t,s){ve++,ae[ve]=t.current,t.current=s}var Q=B(null),le=B(null),te=B(null),G=B(null);function he(t,s){switch(U(te,s),U(le,t),U(Q,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?ev(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=ev(s),t=tv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(Q),U(Q,t)}function Ne(){Z(Q),Z(le),Z(te)}function _e(t){t.memoizedState!==null&&U(G,t);var s=Q.current,r=tv(s,t.type);s!==r&&(U(le,t),U(Q,r))}function Be(t){le.current===t&&(Z(Q),Z(le)),G.current===t&&(Z(G),Zl._currentValue=M)}var Pe,ct;function Se(t){if(Pe===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Pe=s&&s[1]||"",ct=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+t+ct}var L=!1;function we(t,s){if(!t||L)return"";L=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(de){var ie=de}Reflect.construct(t,[],pe)}else{try{pe.call()}catch(de){ie=de}t.call(pe.prototype)}}else{try{throw Error()}catch(de){ie=de}(pe=t())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(de){if(de&&ie&&typeof de.stack=="string")return[de.stack,ie.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],k=f[1];if(y&&k){var F=y.split(`
`),ne=k.split(`
`);for(d=o=0;o<F.length&&!F[o].includes("DetermineComponentFrameRoot");)o++;for(;d<ne.length&&!ne[d].includes("DetermineComponentFrameRoot");)d++;if(o===F.length||d===ne.length)for(o=F.length-1,d=ne.length-1;1<=o&&0<=d&&F[o]!==ne[d];)d--;for(;1<=o&&0<=d;o--,d--)if(F[o]!==ne[d]){if(o!==1||d!==1)do if(o--,d--,0>d||F[o]!==ne[d]){var fe=`
`+F[o].replace(" at new "," at ");return t.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",t.displayName)),fe}while(1<=o&&0<=d);break}}}finally{L=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Se(r):""}function Le(t,s){switch(t.tag){case 26:case 27:case 5:return Se(t.type);case 16:return Se("Lazy");case 13:return t.child!==s&&s!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return we(t.type,!1);case 11:return we(t.type.render,!1);case 1:return we(t.type,!0);case 31:return Se("Activity");default:return""}}function ee(t){try{var s="",r=null;do s+=Le(t,r),r=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Qe=Object.prototype.hasOwnProperty,ke=a.unstable_scheduleCallback,Ue=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,nt=a.unstable_requestPaint,Gt=a.unstable_now,Es=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,lt=a.unstable_UserBlockingPriority,Et=a.unstable_NormalPriority,Pt=a.unstable_LowPriority,Te=a.unstable_IdlePriority,De=a.log,_t=a.unstable_setDisableYieldValue,gt=null,Tt=null;function jt(t){if(typeof De=="function"&&_t(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(gt,t)}catch{}}var Xt=Math.clz32?Math.clz32:Ts,Fs=Math.log,Ma=Math.LN2;function Ts(t){return t>>>=0,t===0?32:31-(Fs(t)/Ma|0)|0}var Wt=256,la=262144,Ds=4194304;function ms(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Je(t,s,r){var o=t.pendingLanes;if(o===0)return 0;var d=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var k=o&134217727;return k!==0?(o=k&~f,o!==0?d=ms(o):(y&=k,y!==0?d=ms(y):r||(r=k&~t,r!==0&&(d=ms(r))))):(k=o&~f,k!==0?d=ms(k):y!==0?d=ms(y):r||(r=o&~t,r!==0&&(d=ms(r)))),d===0?0:s!==0&&s!==d&&(s&f)===0&&(f=d&-d,r=s&-s,f>=r||f===32&&(r&4194048)!==0)?s:d}function At(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Vt(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ts(){var t=Ds;return Ds<<=1,(Ds&62914560)===0&&(Ds=4194304),t}function V(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Y(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function be(t,s,r,o,d,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var k=t.entanglements,F=t.expirationTimes,ne=t.hiddenUpdates;for(r=y&~r;0<r;){var fe=31-Xt(r),pe=1<<fe;k[fe]=0,F[fe]=-1;var ie=ne[fe];if(ie!==null)for(ne[fe]=null,fe=0;fe<ie.length;fe++){var de=ie[fe];de!==null&&(de.lane&=-536870913)}r&=~pe}o!==0&&at(t,o,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~s))}function at(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-Xt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function mt(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var o=31-Xt(r),d=1<<o;d&s|t[o]&s&&(t[o]|=s),r&=~d}}function X(t,s){var r=s&-s;return r=(r&42)!==0?1:je(r),(r&(t.suspendedLanes|s))!==0?0:r}function je(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function tt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ut(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Sv(t.type))}function ur(t,s){var r=q.p;try{return q.p=t,s()}finally{q.p=r}}var Yt=Math.random().toString(36).slice(2),ss="__reactFiber$"+Yt,ht="__reactProps$"+Yt,mr="__reactContainer$"+Yt,Ht="__reactEvents$"+Yt,Is="__reactListeners$"+Yt,Mi="__reactHandles$"+Yt,ll="__reactResources$"+Yt,jn="__reactMarker$"+Yt;function no(t){delete t[ss],delete t[ht],delete t[Ht],delete t[Is],delete t[Mi]}function fr(t){var s=t[ss];if(s)return s;for(var r=t.parentNode;r;){if(s=r[mr]||r[ss]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=iv(t);t!==null;){if(r=t[ss])return r;t=iv(t)}return s}t=r,r=t.parentNode}return null}function Va(t){if(t=t[ss]||t[mr]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function wn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function hr(t){var s=t[ll];return s||(s=t[ll]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function is(t){t[jn]=!0}var il=new Set,cl={};function Ya(t,s){Fr(t,s),Fr(t+"Capture",s)}function Fr(t,s){for(cl[t]=s,t=0;t<s.length;t++)il.add(s[t])}var Oi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pi={},dl={};function zi(t){return Qe.call(dl,t)?!0:Qe.call(Pi,t)?!1:Oi.test(t)?dl[t]=!0:(Pi[t]=!0,!1)}function Nn(t,s,r){if(zi(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function Sn(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function Oa(t,s,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+o)}}function $s(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bi(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ru(t,s,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ul(t){if(!t._valueTracker){var s=Bi(t)?"checked":"value";t._valueTracker=ru(t,s,""+t[s])}}function Li(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),o="";return t&&(o=Bi(t)?t.checked?"true":"false":t.value),t=o,t!==r?(s.setValue(t),!0):!1}function oo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nu=/[\n"\\]/g;function Ks(t){return t.replace(nu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ml(t,s,r,o,d,f,y,k){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),s!=null?y==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+$s(s)):t.value!==""+$s(s)&&(t.value=""+$s(s)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),s!=null?z(t,y,$s(s)):r!=null?z(t,y,$s(r)):o!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.name=""+$s(k):t.removeAttribute("name")}function Ui(t,s,r,o,d,f,y,k){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){ul(t);return}r=r!=null?""+$s(r):"",s=s!=null?""+$s(s):r,k||s===t.value||(t.value=s),t.defaultValue=s}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=k?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),ul(t)}function z(t,s,r){s==="number"&&oo(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ie(t,s,r,o){if(t=t.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=s.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&o&&(t[r].defaultSelected=!0)}else{for(r=""+$s(r),s=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function pt(t,s,r){if(s!=null&&(s=""+$s(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+$s(r):""}function cs(t,s,r,o){if(s==null){if(o!=null){if(r!=null)throw Error(i(92));if(ce(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),s=r}r=$s(s),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),ul(t)}function Xa(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var nN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qh(t,s,r){var o=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,r):typeof r!="number"||r===0||nN.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function Jh(t,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in s)o=s[d],s.hasOwnProperty(d)&&r[d]!==o&&Qh(t,d,o)}else for(var f in s)s.hasOwnProperty(f)&&Qh(t,f,s[f])}function ou(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fi(t){return lN.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xr(){}var lu=null;function iu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lo=null,io=null;function Wh(t){var s=Va(t);if(s&&(t=s.stateNode)){var r=t[ht]||null;e:switch(t=s.stateNode,s.type){case"input":if(ml(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ks(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var o=r[s];if(o!==t&&o.form===t.form){var d=o[ht]||null;if(!d)throw Error(i(90));ml(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)o=r[s],o.form===t.form&&Li(o)}break e;case"textarea":pt(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&Ie(t,!!r.multiple,s,!1)}}}var cu=!1;function ex(t,s,r){if(cu)return t(s,r);cu=!0;try{var o=t(s);return o}finally{if(cu=!1,(lo!==null||io!==null)&&(Rc(),lo&&(s=lo,t=io,io=lo=null,Wh(s),t)))for(s=0;s<t.length;s++)Wh(t[s])}}function fl(t,s){var r=t.stateNode;if(r===null)return null;var o=r[ht]||null;if(o===null)return null;r=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=!1;if(gr)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){du=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{du=!1}var Ir=null,uu=null,Ii=null;function tx(){if(Ii)return Ii;var t,s=uu,r=s.length,o,d="value"in Ir?Ir.value:Ir.textContent,f=d.length;for(t=0;t<r&&s[t]===d[t];t++);var y=r-t;for(o=1;o<=y&&s[r-o]===d[f-o];o++);return Ii=d.slice(t,1<o?1-o:void 0)}function $i(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function sx(){return!1}function Zs(t){function s(r,o,d,f,y){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(r=t[k],this[k]=r?r(f):f[k]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:sx,this.isPropagationStopped=sx,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),s}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Zs(kn),xl=g({},kn,{view:0,detail:0}),iN=Zs(xl),mu,fu,gl,Gi=g({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gl&&(gl&&t.type==="mousemove"?(mu=t.screenX-gl.screenX,fu=t.screenY-gl.screenY):fu=mu=0,gl=t),mu)},movementY:function(t){return"movementY"in t?t.movementY:fu}}),ax=Zs(Gi),cN=g({},Gi,{dataTransfer:0}),dN=Zs(cN),uN=g({},xl,{relatedTarget:0}),hu=Zs(uN),mN=g({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),fN=Zs(mN),hN=g({},kn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xN=Zs(hN),gN=g({},kn,{data:0}),rx=Zs(gN),pN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yN(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=bN[t])?!!s[t]:!1}function xu(){return yN}var jN=g({},xl,{key:function(t){if(t.key){var s=pN[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=$i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(t){return t.type==="keypress"?$i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wN=Zs(jN),NN=g({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nx=Zs(NN),SN=g({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),kN=Zs(SN),CN=g({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),RN=Zs(CN),AN=g({},Gi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_N=Zs(AN),EN=g({},kn,{newState:0,oldState:0}),TN=Zs(EN),DN=[9,13,27,32],gu=gr&&"CompositionEvent"in window,pl=null;gr&&"documentMode"in document&&(pl=document.documentMode);var MN=gr&&"TextEvent"in window&&!pl,ox=gr&&(!gu||pl&&8<pl&&11>=pl),lx=" ",ix=!1;function cx(t,s){switch(t){case"keyup":return DN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var co=!1;function ON(t,s){switch(t){case"compositionend":return dx(s);case"keypress":return s.which!==32?null:(ix=!0,lx);case"textInput":return t=s.data,t===lx&&ix?null:t;default:return null}}function PN(t,s){if(co)return t==="compositionend"||!gu&&cx(t,s)?(t=tx(),Ii=uu=Ir=null,co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ox&&s.locale!=="ko"?null:s.data;default:return null}}var zN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ux(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!zN[t.type]:s==="textarea"}function mx(t,s,r,o){lo?io?io.push(o):io=[o]:lo=o,s=Oc(s,"onChange"),0<s.length&&(r=new qi("onChange","change",null,r,o),t.push({event:r,listeners:s}))}var vl=null,bl=null;function BN(t){Xp(t,0)}function Vi(t){var s=wn(t);if(Li(s))return t}function fx(t,s){if(t==="change")return s}var hx=!1;if(gr){var pu;if(gr){var vu="oninput"in document;if(!vu){var xx=document.createElement("div");xx.setAttribute("oninput","return;"),vu=typeof xx.oninput=="function"}pu=vu}else pu=!1;hx=pu&&(!document.documentMode||9<document.documentMode)}function gx(){vl&&(vl.detachEvent("onpropertychange",px),bl=vl=null)}function px(t){if(t.propertyName==="value"&&Vi(bl)){var s=[];mx(s,bl,t,iu(t)),ex(BN,s)}}function LN(t,s,r){t==="focusin"?(gx(),vl=s,bl=r,vl.attachEvent("onpropertychange",px)):t==="focusout"&&gx()}function UN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vi(bl)}function FN(t,s){if(t==="click")return Vi(s)}function IN(t,s){if(t==="input"||t==="change")return Vi(s)}function $N(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ia=typeof Object.is=="function"?Object.is:$N;function yl(t,s){if(ia(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),o=Object.keys(s);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!Qe.call(s,d)||!ia(t[d],s[d]))return!1}return!0}function vx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bx(t,s){var r=vx(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=s&&o>=s)return{node:r,offset:s-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vx(r)}}function yx(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?yx(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function jx(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=oo(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=oo(t.document)}return s}function bu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var HN=gr&&"documentMode"in document&&11>=document.documentMode,uo=null,yu=null,jl=null,ju=!1;function wx(t,s,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ju||uo==null||uo!==oo(o)||(o=uo,"selectionStart"in o&&bu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jl&&yl(jl,o)||(jl=o,o=Oc(yu,"onSelect"),0<o.length&&(s=new qi("onSelect","select",null,s,r),t.push({event:s,listeners:o}),s.target=uo)))}function Cn(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var mo={animationend:Cn("Animation","AnimationEnd"),animationiteration:Cn("Animation","AnimationIteration"),animationstart:Cn("Animation","AnimationStart"),transitionrun:Cn("Transition","TransitionRun"),transitionstart:Cn("Transition","TransitionStart"),transitioncancel:Cn("Transition","TransitionCancel"),transitionend:Cn("Transition","TransitionEnd")},wu={},Nx={};gr&&(Nx=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Rn(t){if(wu[t])return wu[t];if(!mo[t])return t;var s=mo[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Nx)return wu[t]=s[r];return t}var Sx=Rn("animationend"),kx=Rn("animationiteration"),Cx=Rn("animationstart"),qN=Rn("transitionrun"),GN=Rn("transitionstart"),VN=Rn("transitioncancel"),Rx=Rn("transitionend"),Ax=new Map,Nu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nu.push("scrollEnd");function Pa(t,s){Ax.set(t,s),Ya(s,[t])}var Yi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ya=[],fo=0,Su=0;function Xi(){for(var t=fo,s=Su=fo=0;s<t;){var r=ya[s];ya[s++]=null;var o=ya[s];ya[s++]=null;var d=ya[s];ya[s++]=null;var f=ya[s];if(ya[s++]=null,o!==null&&d!==null){var y=o.pending;y===null?d.next=d:(d.next=y.next,y.next=d),o.pending=d}f!==0&&_x(r,d,f)}}function Ki(t,s,r,o){ya[fo++]=t,ya[fo++]=s,ya[fo++]=r,ya[fo++]=o,Su|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ku(t,s,r,o){return Ki(t,s,r,o),Zi(t)}function An(t,s){return Ki(t,null,null,s),Zi(t)}function _x(t,s,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var d=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&s!==null&&(d=31-Xt(r),t=f.hiddenUpdates,o=t[d],o===null?t[d]=[s]:o.push(s),s.lane=r|536870912),f):null}function Zi(t){if(50<Hl)throw Hl=0,Om=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ho={};function YN(t,s,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(t,s,r,o){return new YN(t,s,r,o)}function Cu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pr(t,s){var r=t.alternate;return r===null?(r=ca(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ex(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Qi(t,s,r,o,d,f){var y=0;if(o=t,typeof t=="function")Cu(t)&&(y=1);else if(typeof t=="string")y=J1(t,r,Q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case se:return t=ca(31,r,s,d),t.elementType=se,t.lanes=f,t;case S:return _n(r.children,d,f,s);case E:y=8,d|=24;break;case N:return t=ca(12,r,s,d|2),t.elementType=N,t.lanes=f,t;case _:return t=ca(13,r,s,d),t.elementType=_,t.lanes=f,t;case O:return t=ca(19,r,s,d),t.elementType=O,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:y=10;break e;case T:y=9;break e;case D:y=11;break e;case P:y=14;break e;case $:y=16,o=null;break e}y=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return s=ca(y,r,s,d),s.elementType=t,s.type=o,s.lanes=f,s}function _n(t,s,r,o){return t=ca(7,t,o,s),t.lanes=r,t}function Ru(t,s,r){return t=ca(6,t,null,s),t.lanes=r,t}function Tx(t){var s=ca(18,null,null,0);return s.stateNode=t,s}function Au(t,s,r){return s=ca(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Dx=new WeakMap;function ja(t,s){if(typeof t=="object"&&t!==null){var r=Dx.get(t);return r!==void 0?r:(s={value:t,source:s,stack:ee(s)},Dx.set(t,s),s)}return{value:t,source:s,stack:ee(s)}}var xo=[],go=0,Ji=null,wl=0,wa=[],Na=0,$r=null,Ka=1,Za="";function vr(t,s){xo[go++]=wl,xo[go++]=Ji,Ji=t,wl=s}function Mx(t,s,r){wa[Na++]=Ka,wa[Na++]=Za,wa[Na++]=$r,$r=t;var o=Ka;t=Za;var d=32-Xt(o)-1;o&=~(1<<d),r+=1;var f=32-Xt(s)+d;if(30<f){var y=d-d%5;f=(o&(1<<y)-1).toString(32),o>>=y,d-=y,Ka=1<<32-Xt(s)+d|r<<d|o,Za=f+t}else Ka=1<<f|r<<d|o,Za=t}function _u(t){t.return!==null&&(vr(t,1),Mx(t,1,0))}function Eu(t){for(;t===Ji;)Ji=xo[--go],xo[go]=null,wl=xo[--go],xo[go]=null;for(;t===$r;)$r=wa[--Na],wa[Na]=null,Za=wa[--Na],wa[Na]=null,Ka=wa[--Na],wa[Na]=null}function Ox(t,s){wa[Na++]=Ka,wa[Na++]=Za,wa[Na++]=$r,Ka=s.id,Za=s.overflow,$r=t}var Ps=null,Kt=null,Rt=!1,Hr=null,Sa=!1,Tu=Error(i(519));function qr(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(ja(s,t)),Tu}function Px(t){var s=t.stateNode,r=t.type,o=t.memoizedProps;switch(s[ss]=t,s[ht]=o,r){case"dialog":bt("cancel",s),bt("close",s);break;case"iframe":case"object":case"embed":bt("load",s);break;case"video":case"audio":for(r=0;r<Gl.length;r++)bt(Gl[r],s);break;case"source":bt("error",s);break;case"img":case"image":case"link":bt("error",s),bt("load",s);break;case"details":bt("toggle",s);break;case"input":bt("invalid",s),Ui(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":bt("invalid",s);break;case"textarea":bt("invalid",s),cs(s,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||o.suppressHydrationWarning===!0||Jp(s.textContent,r)?(o.popover!=null&&(bt("beforetoggle",s),bt("toggle",s)),o.onScroll!=null&&bt("scroll",s),o.onScrollEnd!=null&&bt("scrollend",s),o.onClick!=null&&(s.onclick=xr),s=!0):s=!1,s||qr(t,!0)}function zx(t){for(Ps=t.return;Ps;)switch(Ps.tag){case 5:case 31:case 13:Sa=!1;return;case 27:case 3:Sa=!0;return;default:Ps=Ps.return}}function po(t){if(t!==Ps)return!1;if(!Rt)return zx(t),Rt=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Km(t.type,t.memoizedProps)),r=!r),r&&Kt&&qr(t),zx(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Kt=lv(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Kt=lv(t)}else s===27?(s=Kt,rn(t.type)?(t=ef,ef=null,Kt=t):Kt=s):Kt=Ps?Ca(t.stateNode.nextSibling):null;return!0}function En(){Kt=Ps=null,Rt=!1}function Du(){var t=Hr;return t!==null&&(ea===null?ea=t:ea.push.apply(ea,t),Hr=null),t}function Nl(t){Hr===null?Hr=[t]:Hr.push(t)}var Mu=B(null),Tn=null,br=null;function Gr(t,s,r){U(Mu,s._currentValue),s._currentValue=r}function yr(t){t._currentValue=Mu.current,Z(Mu)}function Ou(t,s,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===r)break;t=t.return}}function Pu(t,s,r,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var y=d.child;f=f.firstContext;e:for(;f!==null;){var k=f;f=d;for(var F=0;F<s.length;F++)if(k.context===s[F]){f.lanes|=r,k=f.alternate,k!==null&&(k.lanes|=r),Ou(f.return,r,t),o||(y=null);break e}f=k.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(i(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Ou(y,r,t),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===t){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function vo(t,s,r,o){t=null;for(var d=s,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var k=d.type;ia(d.pendingProps.value,y.value)||(t!==null?t.push(k):t=[k])}}else if(d===G.current){if(y=d.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}d=d.return}t!==null&&Pu(s,t,r,o),s.flags|=262144}function Wi(t){for(t=t.firstContext;t!==null;){if(!ia(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dn(t){Tn=t,br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function zs(t){return Bx(Tn,t)}function ec(t,s){return Tn===null&&Dn(t),Bx(t,s)}function Bx(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},br===null){if(t===null)throw Error(i(308));br=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else br=br.next=s;return r}var XN=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},KN=a.unstable_scheduleCallback,ZN=a.unstable_NormalPriority,fs={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new XN,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&KN(ZN,function(){t.controller.abort()})}var kl=null,Bu=0,bo=0,yo=null;function QN(t,s){if(kl===null){var r=kl=[];Bu=0,bo=Fm(),yo={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Bu++,s.then(Lx,Lx),s}function Lx(){if(--Bu===0&&kl!==null){yo!==null&&(yo.status="fulfilled");var t=kl;kl=null,bo=0,yo=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function JN(t,s){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var Ux=A.S;A.S=function(t,s){wp=Gt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&QN(t,s),Ux!==null&&Ux(t,s)};var Mn=B(null);function Lu(){var t=Mn.current;return t!==null?t:qt.pooledCache}function tc(t,s){s===null?U(Mn,Mn.current):U(Mn,s.pool)}function Fx(){var t=Lu();return t===null?null:{parent:fs._currentValue,pool:t}}var jo=Error(i(460)),Uu=Error(i(474)),sc=Error(i(542)),ac={then:function(){}};function Ix(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $x(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(xr,xr),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,qx(t),t;default:if(typeof s.status=="string")s.then(xr,xr);else{if(t=qt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=o}},function(o){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,qx(t),t}throw Pn=s,jo}}function On(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Pn=r,jo):r}}var Pn=null;function Hx(){if(Pn===null)throw Error(i(459));var t=Pn;return Pn=null,t}function qx(t){if(t===jo||t===sc)throw Error(i(483))}var wo=null,Cl=0;function rc(t){var s=Cl;return Cl+=1,wo===null&&(wo=[]),$x(wo,t,s)}function Rl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function nc(t,s){throw s.$$typeof===j?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Gx(t){function s(J,H){if(t){var re=J.deletions;re===null?(J.deletions=[H],J.flags|=16):re.push(H)}}function r(J,H){if(!t)return null;for(;H!==null;)s(J,H),H=H.sibling;return null}function o(J){for(var H=new Map;J!==null;)J.key!==null?H.set(J.key,J):H.set(J.index,J),J=J.sibling;return H}function d(J,H){return J=pr(J,H),J.index=0,J.sibling=null,J}function f(J,H,re){return J.index=re,t?(re=J.alternate,re!==null?(re=re.index,re<H?(J.flags|=67108866,H):re):(J.flags|=67108866,H)):(J.flags|=1048576,H)}function y(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function k(J,H,re,ge){return H===null||H.tag!==6?(H=Ru(re,J.mode,ge),H.return=J,H):(H=d(H,re),H.return=J,H)}function F(J,H,re,ge){var We=re.type;return We===S?fe(J,H,re.props.children,ge,re.key):H!==null&&(H.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===$&&On(We)===H.type)?(H=d(H,re.props),Rl(H,re),H.return=J,H):(H=Qi(re.type,re.key,re.props,null,J.mode,ge),Rl(H,re),H.return=J,H)}function ne(J,H,re,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==re.containerInfo||H.stateNode.implementation!==re.implementation?(H=Au(re,J.mode,ge),H.return=J,H):(H=d(H,re.children||[]),H.return=J,H)}function fe(J,H,re,ge,We){return H===null||H.tag!==7?(H=_n(re,J.mode,ge,We),H.return=J,H):(H=d(H,re),H.return=J,H)}function pe(J,H,re){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Ru(""+H,J.mode,re),H.return=J,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return re=Qi(H.type,H.key,H.props,null,J.mode,re),Rl(re,H),re.return=J,re;case C:return H=Au(H,J.mode,re),H.return=J,H;case $:return H=On(H),pe(J,H,re)}if(ce(H)||W(H))return H=_n(H,J.mode,re,null),H.return=J,H;if(typeof H.then=="function")return pe(J,rc(H),re);if(H.$$typeof===R)return pe(J,ec(J,H),re);nc(J,H)}return null}function ie(J,H,re,ge){var We=H!==null?H.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return We!==null?null:k(J,H,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return re.key===We?F(J,H,re,ge):null;case C:return re.key===We?ne(J,H,re,ge):null;case $:return re=On(re),ie(J,H,re,ge)}if(ce(re)||W(re))return We!==null?null:fe(J,H,re,ge,null);if(typeof re.then=="function")return ie(J,H,rc(re),ge);if(re.$$typeof===R)return ie(J,H,ec(J,re),ge);nc(J,re)}return null}function de(J,H,re,ge,We){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return J=J.get(re)||null,k(H,J,""+ge,We);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case w:return J=J.get(ge.key===null?re:ge.key)||null,F(H,J,ge,We);case C:return J=J.get(ge.key===null?re:ge.key)||null,ne(H,J,ge,We);case $:return ge=On(ge),de(J,H,re,ge,We)}if(ce(ge)||W(ge))return J=J.get(re)||null,fe(H,J,ge,We,null);if(typeof ge.then=="function")return de(J,H,re,rc(ge),We);if(ge.$$typeof===R)return de(J,H,re,ec(H,ge),We);nc(H,ge)}return null}function $e(J,H,re,ge){for(var We=null,Dt=null,Xe=H,ft=H=0,Nt=null;Xe!==null&&ft<re.length;ft++){Xe.index>ft?(Nt=Xe,Xe=null):Nt=Xe.sibling;var Mt=ie(J,Xe,re[ft],ge);if(Mt===null){Xe===null&&(Xe=Nt);break}t&&Xe&&Mt.alternate===null&&s(J,Xe),H=f(Mt,H,ft),Dt===null?We=Mt:Dt.sibling=Mt,Dt=Mt,Xe=Nt}if(ft===re.length)return r(J,Xe),Rt&&vr(J,ft),We;if(Xe===null){for(;ft<re.length;ft++)Xe=pe(J,re[ft],ge),Xe!==null&&(H=f(Xe,H,ft),Dt===null?We=Xe:Dt.sibling=Xe,Dt=Xe);return Rt&&vr(J,ft),We}for(Xe=o(Xe);ft<re.length;ft++)Nt=de(Xe,J,ft,re[ft],ge),Nt!==null&&(t&&Nt.alternate!==null&&Xe.delete(Nt.key===null?ft:Nt.key),H=f(Nt,H,ft),Dt===null?We=Nt:Dt.sibling=Nt,Dt=Nt);return t&&Xe.forEach(function(dn){return s(J,dn)}),Rt&&vr(J,ft),We}function st(J,H,re,ge){if(re==null)throw Error(i(151));for(var We=null,Dt=null,Xe=H,ft=H=0,Nt=null,Mt=re.next();Xe!==null&&!Mt.done;ft++,Mt=re.next()){Xe.index>ft?(Nt=Xe,Xe=null):Nt=Xe.sibling;var dn=ie(J,Xe,Mt.value,ge);if(dn===null){Xe===null&&(Xe=Nt);break}t&&Xe&&dn.alternate===null&&s(J,Xe),H=f(dn,H,ft),Dt===null?We=dn:Dt.sibling=dn,Dt=dn,Xe=Nt}if(Mt.done)return r(J,Xe),Rt&&vr(J,ft),We;if(Xe===null){for(;!Mt.done;ft++,Mt=re.next())Mt=pe(J,Mt.value,ge),Mt!==null&&(H=f(Mt,H,ft),Dt===null?We=Mt:Dt.sibling=Mt,Dt=Mt);return Rt&&vr(J,ft),We}for(Xe=o(Xe);!Mt.done;ft++,Mt=re.next())Mt=de(Xe,J,ft,Mt.value,ge),Mt!==null&&(t&&Mt.alternate!==null&&Xe.delete(Mt.key===null?ft:Mt.key),H=f(Mt,H,ft),Dt===null?We=Mt:Dt.sibling=Mt,Dt=Mt);return t&&Xe.forEach(function(c2){return s(J,c2)}),Rt&&vr(J,ft),We}function $t(J,H,re,ge){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case w:e:{for(var We=re.key;H!==null;){if(H.key===We){if(We=re.type,We===S){if(H.tag===7){r(J,H.sibling),ge=d(H,re.props.children),ge.return=J,J=ge;break e}}else if(H.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===$&&On(We)===H.type){r(J,H.sibling),ge=d(H,re.props),Rl(ge,re),ge.return=J,J=ge;break e}r(J,H);break}else s(J,H);H=H.sibling}re.type===S?(ge=_n(re.props.children,J.mode,ge,re.key),ge.return=J,J=ge):(ge=Qi(re.type,re.key,re.props,null,J.mode,ge),Rl(ge,re),ge.return=J,J=ge)}return y(J);case C:e:{for(We=re.key;H!==null;){if(H.key===We)if(H.tag===4&&H.stateNode.containerInfo===re.containerInfo&&H.stateNode.implementation===re.implementation){r(J,H.sibling),ge=d(H,re.children||[]),ge.return=J,J=ge;break e}else{r(J,H);break}else s(J,H);H=H.sibling}ge=Au(re,J.mode,ge),ge.return=J,J=ge}return y(J);case $:return re=On(re),$t(J,H,re,ge)}if(ce(re))return $e(J,H,re,ge);if(W(re)){if(We=W(re),typeof We!="function")throw Error(i(150));return re=We.call(re),st(J,H,re,ge)}if(typeof re.then=="function")return $t(J,H,rc(re),ge);if(re.$$typeof===R)return $t(J,H,ec(J,re),ge);nc(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,H!==null&&H.tag===6?(r(J,H.sibling),ge=d(H,re),ge.return=J,J=ge):(r(J,H),ge=Ru(re,J.mode,ge),ge.return=J,J=ge),y(J)):r(J,H)}return function(J,H,re,ge){try{Cl=0;var We=$t(J,H,re,ge);return wo=null,We}catch(Xe){if(Xe===jo||Xe===sc)throw Xe;var Dt=ca(29,Xe,null,J.mode);return Dt.lanes=ge,Dt.return=J,Dt}finally{}}}var zn=Gx(!0),Vx=Gx(!1),Vr=!1;function Fu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(t,s,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ot&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,s=Zi(t),_x(t,null,r),s}return Ki(t,o,s,r),Zi(t)}function Al(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,mt(t,r)}}function $u(t,s){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?d=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?d=f=s:f=f.next=s}else d=f=s;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var Hu=!1;function _l(){if(Hu){var t=yo;if(t!==null)throw t}}function El(t,s,r,o){Hu=!1;var d=t.updateQueue;Vr=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,k=d.shared.pending;if(k!==null){d.shared.pending=null;var F=k,ne=F.next;F.next=null,y===null?f=ne:y.next=ne,y=F;var fe=t.alternate;fe!==null&&(fe=fe.updateQueue,k=fe.lastBaseUpdate,k!==y&&(k===null?fe.firstBaseUpdate=ne:k.next=ne,fe.lastBaseUpdate=F))}if(f!==null){var pe=d.baseState;y=0,fe=ne=F=null,k=f;do{var ie=k.lane&-536870913,de=ie!==k.lane;if(de?(wt&ie)===ie:(o&ie)===ie){ie!==0&&ie===bo&&(Hu=!0),fe!==null&&(fe=fe.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var $e=t,st=k;ie=s;var $t=r;switch(st.tag){case 1:if($e=st.payload,typeof $e=="function"){pe=$e.call($t,pe,ie);break e}pe=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=st.payload,ie=typeof $e=="function"?$e.call($t,pe,ie):$e,ie==null)break e;pe=g({},pe,ie);break e;case 2:Vr=!0}}ie=k.callback,ie!==null&&(t.flags|=64,de&&(t.flags|=8192),de=d.callbacks,de===null?d.callbacks=[ie]:de.push(ie))}else de={lane:ie,tag:k.tag,payload:k.payload,callback:k.callback,next:null},fe===null?(ne=fe=de,F=pe):fe=fe.next=de,y|=ie;if(k=k.next,k===null){if(k=d.shared.pending,k===null)break;de=k,k=de.next,de.next=null,d.lastBaseUpdate=de,d.shared.pending=null}}while(!0);fe===null&&(F=pe),d.baseState=F,d.firstBaseUpdate=ne,d.lastBaseUpdate=fe,f===null&&(d.shared.lanes=0),Wr|=y,t.lanes=y,t.memoizedState=pe}}function Yx(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Xx(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Yx(r[t],s)}var No=B(null),oc=B(0);function Kx(t,s){t=_r,U(oc,t),U(No,s),_r=t|s.baseLanes}function qu(){U(oc,_r),U(No,No.current)}function Gu(){_r=oc.current,Z(No),Z(oc)}var da=B(null),ka=null;function Kr(t){var s=t.alternate;U(ds,ds.current&1),U(da,t),ka===null&&(s===null||No.current!==null||s.memoizedState!==null)&&(ka=t)}function Vu(t){U(ds,ds.current),U(da,t),ka===null&&(ka=t)}function Zx(t){t.tag===22?(U(ds,ds.current),U(da,t),ka===null&&(ka=t)):Zr()}function Zr(){U(ds,ds.current),U(da,da.current)}function ua(t){Z(da),ka===t&&(ka=null),Z(ds)}var ds=B(0);function lc(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Jm(r)||Wm(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jr=0,ut=null,Ft=null,hs=null,ic=!1,So=!1,Bn=!1,cc=0,Tl=0,ko=null,WN=0;function os(){throw Error(i(321))}function Yu(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!ia(t[r],s[r]))return!1;return!0}function Xu(t,s,r,o,d,f){return jr=f,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,A.H=t===null||t.memoizedState===null?Mg:cm,Bn=!1,f=r(o,d),Bn=!1,So&&(f=Jx(s,r,o,d)),Qx(t),f}function Qx(t){A.H=Ol;var s=Ft!==null&&Ft.next!==null;if(jr=0,hs=Ft=ut=null,ic=!1,Tl=0,ko=null,s)throw Error(i(300));t===null||xs||(t=t.dependencies,t!==null&&Wi(t)&&(xs=!0))}function Jx(t,s,r,o){ut=t;var d=0;do{if(So&&(ko=null),Tl=0,So=!1,25<=d)throw Error(i(301));if(d+=1,hs=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=Og,f=s(r,o)}while(So);return f}function e1(){var t=A.H,s=t.useState()[0];return s=typeof s.then=="function"?Dl(s):s,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(ut.flags|=1024),s}function Ku(){var t=cc!==0;return cc=0,t}function Zu(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function Qu(t){if(ic){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}ic=!1}jr=0,hs=Ft=ut=null,So=!1,Tl=cc=0,ko=null}function Gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hs===null?ut.memoizedState=hs=t:hs=hs.next=t,hs}function us(){if(Ft===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var s=hs===null?ut.memoizedState:hs.next;if(s!==null)hs=s,Ft=t;else{if(t===null)throw ut.alternate===null?Error(i(467)):Error(i(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},hs===null?ut.memoizedState=hs=t:hs=hs.next=t}return hs}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var s=Tl;return Tl+=1,ko===null&&(ko=[]),t=$x(ko,t,s),s=ut,(hs===null?s.memoizedState:hs.next)===null&&(s=s.alternate,A.H=s===null||s.memoizedState===null?Mg:cm),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===R)return zs(t)}throw Error(i(438,String(t)))}function Ju(t){var s=null,r=ut.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var o=ut.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=dc(),ut.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),o=0;o<t;o++)r[o]=xe;return s.index++,r}function wr(t,s){return typeof s=="function"?s(t):s}function mc(t){var s=us();return Wu(s,Ft,t)}function Wu(t,s,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var d=t.baseQueue,f=o.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}s.baseQueue=d=f,o.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{s=d.next;var k=y=null,F=null,ne=s,fe=!1;do{var pe=ne.lane&-536870913;if(pe!==ne.lane?(wt&pe)===pe:(jr&pe)===pe){var ie=ne.revertLane;if(ie===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),pe===bo&&(fe=!0);else if((jr&ie)===ie){ne=ne.next,ie===bo&&(fe=!0);continue}else pe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},F===null?(k=F=pe,y=f):F=F.next=pe,ut.lanes|=ie,Wr|=ie;pe=ne.action,Bn&&r(f,pe),f=ne.hasEagerState?ne.eagerState:r(f,pe)}else ie={lane:pe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},F===null?(k=F=ie,y=f):F=F.next=ie,ut.lanes|=pe,Wr|=pe;ne=ne.next}while(ne!==null&&ne!==s);if(F===null?y=f:F.next=k,!ia(f,t.memoizedState)&&(xs=!0,fe&&(r=yo,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=F,o.lastRenderedState=f}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function em(t){var s=us(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,d=r.pending,f=s.memoizedState;if(d!==null){r.pending=null;var y=d=d.next;do f=t(f,y.action),y=y.next;while(y!==d);ia(f,s.memoizedState)||(xs=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),r.lastRenderedState=f}return[f,o]}function Wx(t,s,r){var o=ut,d=us(),f=Rt;if(f){if(r===void 0)throw Error(i(407));r=r()}else r=s();var y=!ia((Ft||d).memoizedState,r);if(y&&(d.memoizedState=r,xs=!0),d=d.queue,am(sg.bind(null,o,d,t),[t]),d.getSnapshot!==s||y||hs!==null&&hs.memoizedState.tag&1){if(o.flags|=2048,Co(9,{destroy:void 0},tg.bind(null,o,d,r,s),null),qt===null)throw Error(i(349));f||(jr&127)!==0||eg(o,s,r)}return r}function eg(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=ut.updateQueue,s===null?(s=dc(),ut.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function tg(t,s,r,o){s.value=r,s.getSnapshot=o,ag(s)&&rg(t)}function sg(t,s,r){return r(function(){ag(s)&&rg(t)})}function ag(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!ia(t,r)}catch{return!0}}function rg(t){var s=An(t,2);s!==null&&ta(s,t,2)}function tm(t){var s=Gs();if(typeof t=="function"){var r=t;if(t=r(),Bn){jt(!0);try{r()}finally{jt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:t},s}function ng(t,s,r,o){return t.baseState=r,Wu(t,Ft,typeof o=="function"?o:wr)}function t1(t,s,r,o,d){if(xc(t))throw Error(i(485));if(t=s.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,o(f),r=s.pending,r===null?(f.next=s.pending=f,og(s,f)):(f.next=r.next,s.pending=r.next=f)}}function og(t,s){var r=s.action,o=s.payload,d=t.state;if(s.isTransition){var f=A.T,y={};A.T=y;try{var k=r(d,o),F=A.S;F!==null&&F(y,k),lg(t,s,k)}catch(ne){sm(t,s,ne)}finally{f!==null&&y.types!==null&&(f.types=y.types),A.T=f}}else try{f=r(d,o),lg(t,s,f)}catch(ne){sm(t,s,ne)}}function lg(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){ig(t,s,o)},function(o){return sm(t,s,o)}):ig(t,s,r)}function ig(t,s,r){s.status="fulfilled",s.value=r,cg(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,og(t,r)))}function sm(t,s,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=r,cg(s),s=s.next;while(s!==o)}t.action=null}function cg(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function dg(t,s){return s}function ug(t,s){if(Rt){var r=qt.formState;if(r!==null){e:{var o=ut;if(Rt){if(Kt){t:{for(var d=Kt,f=Sa;d.nodeType!==8;){if(!f){d=null;break t}if(d=Ca(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){Kt=Ca(d.nextSibling),o=d.data==="F!";break e}}qr(o)}o=!1}o&&(s=r[0])}}return r=Gs(),r.memoizedState=r.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:s},r.queue=o,r=Eg.bind(null,ut,o),o.dispatch=r,o=tm(!1),f=im.bind(null,ut,!1,o.queue),o=Gs(),d={state:s,dispatch:null,action:t,pending:null},o.queue=d,r=t1.bind(null,ut,d,f,r),d.dispatch=r,o.memoizedState=t,[s,r,!1]}function mg(t){var s=us();return fg(s,Ft,t)}function fg(t,s,r){if(s=Wu(t,s,dg)[0],t=mc(wr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=Dl(s)}catch(y){throw y===jo?sc:y}else o=s;s=us();var d=s.queue,f=d.dispatch;return r!==s.memoizedState&&(ut.flags|=2048,Co(9,{destroy:void 0},s1.bind(null,d,r),null)),[o,f,t]}function s1(t,s){t.action=s}function hg(t){var s=us(),r=Ft;if(r!==null)return fg(s,r,t);us(),s=s.memoizedState,r=us();var o=r.queue.dispatch;return r.memoizedState=t,[s,o,!1]}function Co(t,s,r,o){return t={tag:t,create:r,deps:o,inst:s,next:null},s=ut.updateQueue,s===null&&(s=dc(),ut.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,s.lastEffect=t),t}function xg(){return us().memoizedState}function fc(t,s,r,o){var d=Gs();ut.flags|=t,d.memoizedState=Co(1|s,{destroy:void 0},r,o===void 0?null:o)}function hc(t,s,r,o){var d=us();o=o===void 0?null:o;var f=d.memoizedState.inst;Ft!==null&&o!==null&&Yu(o,Ft.memoizedState.deps)?d.memoizedState=Co(s,f,r,o):(ut.flags|=t,d.memoizedState=Co(1|s,f,r,o))}function gg(t,s){fc(8390656,8,t,s)}function am(t,s){hc(2048,8,t,s)}function a1(t){ut.flags|=4;var s=ut.updateQueue;if(s===null)s=dc(),ut.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function pg(t){var s=us().memoizedState;return a1({ref:s,nextImpl:t}),function(){if((Ot&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function vg(t,s){return hc(4,2,t,s)}function bg(t,s){return hc(4,4,t,s)}function yg(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function jg(t,s,r){r=r!=null?r.concat([t]):null,hc(4,4,yg.bind(null,s,t),r)}function rm(){}function wg(t,s){var r=us();s=s===void 0?null:s;var o=r.memoizedState;return s!==null&&Yu(s,o[1])?o[0]:(r.memoizedState=[t,s],t)}function Ng(t,s){var r=us();s=s===void 0?null:s;var o=r.memoizedState;if(s!==null&&Yu(s,o[1]))return o[0];if(o=t(),Bn){jt(!0);try{t()}finally{jt(!1)}}return r.memoizedState=[o,s],o}function nm(t,s,r){return r===void 0||(jr&1073741824)!==0&&(wt&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=Sp(),ut.lanes|=t,Wr|=t,r)}function Sg(t,s,r,o){return ia(r,s)?r:No.current!==null?(t=nm(t,r,o),ia(t,s)||(xs=!0),t):(jr&42)===0||(jr&1073741824)!==0&&(wt&261930)===0?(xs=!0,t.memoizedState=r):(t=Sp(),ut.lanes|=t,Wr|=t,s)}function kg(t,s,r,o,d){var f=q.p;q.p=f!==0&&8>f?f:8;var y=A.T,k={};A.T=k,im(t,!1,s,r);try{var F=d(),ne=A.S;if(ne!==null&&ne(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var fe=JN(F,o);Ml(t,s,fe,ha(t))}else Ml(t,s,o,ha(t))}catch(pe){Ml(t,s,{then:function(){},status:"rejected",reason:pe},ha())}finally{q.p=f,y!==null&&k.types!==null&&(y.types=k.types),A.T=y}}function r1(){}function om(t,s,r,o){if(t.tag!==5)throw Error(i(476));var d=Cg(t).queue;kg(t,d,s,M,r===null?r1:function(){return Rg(t),r(o)})}function Cg(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:M},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Rg(t){var s=Cg(t);s.next===null&&(s=t.alternate.memoizedState),Ml(t,s.next.queue,{},ha())}function lm(){return zs(Zl)}function Ag(){return us().memoizedState}function _g(){return us().memoizedState}function n1(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=ha();t=Yr(r);var o=Xr(s,t,r);o!==null&&(ta(o,s,r),Al(o,s,r)),s={cache:zu()},t.payload=s;return}s=s.return}}function o1(t,s,r){var o=ha();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xc(t)?Tg(s,r):(r=ku(t,s,r,o),r!==null&&(ta(r,t,o),Dg(r,s,o)))}function Eg(t,s,r){var o=ha();Ml(t,s,r,o)}function Ml(t,s,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(xc(t))Tg(s,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var y=s.lastRenderedState,k=f(y,r);if(d.hasEagerState=!0,d.eagerState=k,ia(k,y))return Ki(t,s,d,0),qt===null&&Xi(),!1}catch{}finally{}if(r=ku(t,s,d,o),r!==null)return ta(r,t,o),Dg(r,s,o),!0}return!1}function im(t,s,r,o){if(o={lane:2,revertLane:Fm(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xc(t)){if(s)throw Error(i(479))}else s=ku(t,r,o,2),s!==null&&ta(s,t,2)}function xc(t){var s=t.alternate;return t===ut||s!==null&&s===ut}function Tg(t,s){So=ic=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Dg(t,s,r){if((r&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,mt(t,r)}}var Ol={readContext:zs,use:uc,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useLayoutEffect:os,useInsertionEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useSyncExternalStore:os,useId:os,useHostTransitionStatus:os,useFormState:os,useActionState:os,useOptimistic:os,useMemoCache:os,useCacheRefresh:os};Ol.useEffectEvent=os;var Mg={readContext:zs,use:uc,useCallback:function(t,s){return Gs().memoizedState=[t,s===void 0?null:s],t},useContext:zs,useEffect:gg,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,fc(4194308,4,yg.bind(null,s,t),r)},useLayoutEffect:function(t,s){return fc(4194308,4,t,s)},useInsertionEffect:function(t,s){fc(4,2,t,s)},useMemo:function(t,s){var r=Gs();s=s===void 0?null:s;var o=t();if(Bn){jt(!0);try{t()}finally{jt(!1)}}return r.memoizedState=[o,s],o},useReducer:function(t,s,r){var o=Gs();if(r!==void 0){var d=r(s);if(Bn){jt(!0);try{r(s)}finally{jt(!1)}}}else d=s;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=o1.bind(null,ut,t),[o.memoizedState,t]},useRef:function(t){var s=Gs();return t={current:t},s.memoizedState=t},useState:function(t){t=tm(t);var s=t.queue,r=Eg.bind(null,ut,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:rm,useDeferredValue:function(t,s){var r=Gs();return nm(r,t,s)},useTransition:function(){var t=tm(!1);return t=kg.bind(null,ut,t.queue,!0,!1),Gs().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var o=ut,d=Gs();if(Rt){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),qt===null)throw Error(i(349));(wt&127)!==0||eg(o,s,r)}d.memoizedState=r;var f={value:r,getSnapshot:s};return d.queue=f,gg(sg.bind(null,o,f,t),[t]),o.flags|=2048,Co(9,{destroy:void 0},tg.bind(null,o,f,r,s),null),r},useId:function(){var t=Gs(),s=qt.identifierPrefix;if(Rt){var r=Za,o=Ka;r=(o&~(1<<32-Xt(o)-1)).toString(32)+r,s="_"+s+"R_"+r,r=cc++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=WN++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:lm,useFormState:ug,useActionState:ug,useOptimistic:function(t){var s=Gs();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=im.bind(null,ut,!0,r),r.dispatch=s,[t,s]},useMemoCache:Ju,useCacheRefresh:function(){return Gs().memoizedState=n1.bind(null,ut)},useEffectEvent:function(t){var s=Gs(),r={impl:t};return s.memoizedState=r,function(){if((Ot&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},cm={readContext:zs,use:uc,useCallback:wg,useContext:zs,useEffect:am,useImperativeHandle:jg,useInsertionEffect:vg,useLayoutEffect:bg,useMemo:Ng,useReducer:mc,useRef:xg,useState:function(){return mc(wr)},useDebugValue:rm,useDeferredValue:function(t,s){var r=us();return Sg(r,Ft.memoizedState,t,s)},useTransition:function(){var t=mc(wr)[0],s=us().memoizedState;return[typeof t=="boolean"?t:Dl(t),s]},useSyncExternalStore:Wx,useId:Ag,useHostTransitionStatus:lm,useFormState:mg,useActionState:mg,useOptimistic:function(t,s){var r=us();return ng(r,Ft,t,s)},useMemoCache:Ju,useCacheRefresh:_g};cm.useEffectEvent=pg;var Og={readContext:zs,use:uc,useCallback:wg,useContext:zs,useEffect:am,useImperativeHandle:jg,useInsertionEffect:vg,useLayoutEffect:bg,useMemo:Ng,useReducer:em,useRef:xg,useState:function(){return em(wr)},useDebugValue:rm,useDeferredValue:function(t,s){var r=us();return Ft===null?nm(r,t,s):Sg(r,Ft.memoizedState,t,s)},useTransition:function(){var t=em(wr)[0],s=us().memoizedState;return[typeof t=="boolean"?t:Dl(t),s]},useSyncExternalStore:Wx,useId:Ag,useHostTransitionStatus:lm,useFormState:hg,useActionState:hg,useOptimistic:function(t,s){var r=us();return Ft!==null?ng(r,Ft,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:_g};Og.useEffectEvent=pg;function dm(t,s,r,o){s=t.memoizedState,r=r(o,s),r=r==null?s:g({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var um={enqueueSetState:function(t,s,r){t=t._reactInternals;var o=ha(),d=Yr(o);d.payload=s,r!=null&&(d.callback=r),s=Xr(t,d,o),s!==null&&(ta(s,t,o),Al(s,t,o))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var o=ha(),d=Yr(o);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=Xr(t,d,o),s!==null&&(ta(s,t,o),Al(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=ha(),o=Yr(r);o.tag=2,s!=null&&(o.callback=s),s=Xr(t,o,r),s!==null&&(ta(s,t,r),Al(s,t,r))}};function Pg(t,s,r,o,d,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):s.prototype&&s.prototype.isPureReactComponent?!yl(r,o)||!yl(d,f):!0}function zg(t,s,r,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,o),s.state!==t&&um.enqueueReplaceState(s,s.state,null)}function Ln(t,s){var r=s;if("ref"in s){r={};for(var o in s)o!=="ref"&&(r[o]=s[o])}if(t=t.defaultProps){r===s&&(r=g({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function Bg(t){Yi(t)}function Lg(t){console.error(t)}function Ug(t){Yi(t)}function gc(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function Fg(t,s,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function mm(t,s,r){return r=Yr(r),r.tag=3,r.payload={element:null},r.callback=function(){gc(t,s)},r}function Ig(t){return t=Yr(t),t.tag=3,t}function $g(t,s,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;t.payload=function(){return d(f)},t.callback=function(){Fg(s,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Fg(s,r,o),typeof d!="function"&&(en===null?en=new Set([this]):en.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})})}function l1(t,s,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=r.alternate,s!==null&&vo(s,r,d,!0),r=da.current,r!==null){switch(r.tag){case 31:case 13:return ka===null?Ac():r.alternate===null&&ls===0&&(ls=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===ac?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([o]):s.add(o),Bm(t,o,d)),!1;case 22:return r.flags|=65536,o===ac?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([o]):r.add(o)),Bm(t,o,d)),!1}throw Error(i(435,r.tag))}return Bm(t,o,d),Ac(),!1}if(Rt)return s=da.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,o!==Tu&&(t=Error(i(422),{cause:o}),Nl(ja(t,r)))):(o!==Tu&&(s=Error(i(423),{cause:o}),Nl(ja(s,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=ja(o,r),d=mm(t.stateNode,o,d),$u(t,d),ls!==4&&(ls=2)),!1;var f=Error(i(520),{cause:o});if(f=ja(f,r),$l===null?$l=[f]:$l.push(f),ls!==4&&(ls=2),s===null)return!0;o=ja(o,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=mm(r.stateNode,o,t),$u(r,t),!1;case 1:if(s=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(en===null||!en.has(f))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Ig(d),$g(d,t,r,o),$u(r,d),!1}r=r.return}while(r!==null);return!1}var fm=Error(i(461)),xs=!1;function Bs(t,s,r,o){s.child=t===null?Vx(s,null,r,o):zn(s,t.child,r,o)}function Hg(t,s,r,o,d){r=r.render;var f=s.ref;if("ref"in o){var y={};for(var k in o)k!=="ref"&&(y[k]=o[k])}else y=o;return Dn(s),o=Xu(t,s,r,y,f,d),k=Ku(),t!==null&&!xs?(Zu(t,s,d),Nr(t,s,d)):(Rt&&k&&_u(s),s.flags|=1,Bs(t,s,o,d),s.child)}function qg(t,s,r,o,d){if(t===null){var f=r.type;return typeof f=="function"&&!Cu(f)&&f.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=f,Gg(t,s,f,o,d)):(t=Qi(r.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!jm(t,d)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:yl,r(y,o)&&t.ref===s.ref)return Nr(t,s,d)}return s.flags|=1,t=pr(f,o),t.ref=s.ref,t.return=s,s.child=t}function Gg(t,s,r,o,d){if(t!==null){var f=t.memoizedProps;if(yl(f,o)&&t.ref===s.ref)if(xs=!1,s.pendingProps=o=f,jm(t,d))(t.flags&131072)!==0&&(xs=!0);else return s.lanes=t.lanes,Nr(t,s,d)}return hm(t,s,r,o,d)}function Vg(t,s,r,o){var d=o.children,f=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=s.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~f}else o=0,s.child=null;return Yg(t,s,f,r,o)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(s,f!==null?f.cachePool:null),f!==null?Kx(s,f):qu(),Zx(s);else return o=s.lanes=536870912,Yg(t,s,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(tc(s,f.cachePool),Kx(s,f),Zr(),s.memoizedState=null):(t!==null&&tc(s,null),qu(),Zr());return Bs(t,s,d,r),s.child}function Pl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Yg(t,s,r,o,d){var f=Lu();return f=f===null?null:{parent:fs._currentValue,pool:f},s.memoizedState={baseLanes:r,cachePool:f},t!==null&&tc(s,null),qu(),Zx(s),t!==null&&vo(t,s,o,!0),s.childLanes=d,null}function pc(t,s){return s=bc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Xg(t,s,r){return zn(s,t.child,null,r),t=pc(s,s.pendingProps),t.flags|=2,ua(s),s.memoizedState=null,t}function i1(t,s,r){var o=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Rt){if(o.mode==="hidden")return t=pc(s,o),s.lanes=536870912,Pl(null,t);if(Vu(s),(t=Kt)?(t=ov(t,Sa),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:$r!==null?{id:Ka,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},r=Tx(t),r.return=s,s.child=r,Ps=s,Kt=null)):t=null,t===null)throw qr(s);return s.lanes=536870912,null}return pc(s,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Vu(s),d)if(s.flags&256)s.flags&=-257,s=Xg(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(xs||vo(t,s,r,!1),d=(r&t.childLanes)!==0,xs||d){if(o=qt,o!==null&&(y=X(o,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,An(t,y),ta(o,t,y),fm;Ac(),s=Xg(t,s,r)}else t=f.treeContext,Kt=Ca(y.nextSibling),Ps=s,Rt=!0,Hr=null,Sa=!1,t!==null&&Ox(s,t),s=pc(s,o),s.flags|=4096;return s}return t=pr(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function vc(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function hm(t,s,r,o,d){return Dn(s),r=Xu(t,s,r,o,void 0,d),o=Ku(),t!==null&&!xs?(Zu(t,s,d),Nr(t,s,d)):(Rt&&o&&_u(s),s.flags|=1,Bs(t,s,r,d),s.child)}function Kg(t,s,r,o,d,f){return Dn(s),s.updateQueue=null,r=Jx(s,o,r,d),Qx(t),o=Ku(),t!==null&&!xs?(Zu(t,s,f),Nr(t,s,f)):(Rt&&o&&_u(s),s.flags|=1,Bs(t,s,r,f),s.child)}function Zg(t,s,r,o,d){if(Dn(s),s.stateNode===null){var f=ho,y=r.contextType;typeof y=="object"&&y!==null&&(f=zs(y)),f=new r(o,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=um,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=o,f.state=s.memoizedState,f.refs={},Fu(s),y=r.contextType,f.context=typeof y=="object"&&y!==null?zs(y):ho,f.state=s.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(dm(s,r,y,o),f.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&um.enqueueReplaceState(f,f.state,null),El(s,o,f,d),_l(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){f=s.stateNode;var k=s.memoizedProps,F=Ln(r,k);f.props=F;var ne=f.context,fe=r.contextType;y=ho,typeof fe=="object"&&fe!==null&&(y=zs(fe));var pe=r.getDerivedStateFromProps;fe=typeof pe=="function"||typeof f.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,fe||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(k||ne!==y)&&zg(s,f,o,y),Vr=!1;var ie=s.memoizedState;f.state=ie,El(s,o,f,d),_l(),ne=s.memoizedState,k||ie!==ne||Vr?(typeof pe=="function"&&(dm(s,r,pe,o),ne=s.memoizedState),(F=Vr||Pg(s,r,F,o,ie,ne,y))?(fe||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=ne),f.props=o,f.state=ne,f.context=y,o=F):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{f=s.stateNode,Iu(t,s),y=s.memoizedProps,fe=Ln(r,y),f.props=fe,pe=s.pendingProps,ie=f.context,ne=r.contextType,F=ho,typeof ne=="object"&&ne!==null&&(F=zs(ne)),k=r.getDerivedStateFromProps,(ne=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==pe||ie!==F)&&zg(s,f,o,F),Vr=!1,ie=s.memoizedState,f.state=ie,El(s,o,f,d),_l();var de=s.memoizedState;y!==pe||ie!==de||Vr||t!==null&&t.dependencies!==null&&Wi(t.dependencies)?(typeof k=="function"&&(dm(s,r,k,o),de=s.memoizedState),(fe=Vr||Pg(s,r,fe,o,ie,de,F)||t!==null&&t.dependencies!==null&&Wi(t.dependencies))?(ne||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,de,F),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,de,F)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&ie===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ie===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=de),f.props=o,f.state=de,f.context=F,o=fe):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&ie===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ie===t.memoizedState||(s.flags|=1024),o=!1)}return f=o,vc(t,s),o=(s.flags&128)!==0,f||o?(f=s.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&o?(s.child=zn(s,t.child,null,d),s.child=zn(s,null,r,d)):Bs(t,s,r,d),s.memoizedState=f.state,t=s.child):t=Nr(t,s,d),t}function Qg(t,s,r,o){return En(),s.flags|=256,Bs(t,s,r,o),s.child}var xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gm(t){return{baseLanes:t,cachePool:Fx()}}function pm(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=fa),t}function Jg(t,s,r){var o=s.pendingProps,d=!1,f=(s.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(ds.current&2)!==0),y&&(d=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,t===null){if(Rt){if(d?Kr(s):Zr(),(t=Kt)?(t=ov(t,Sa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:$r!==null?{id:Ka,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},r=Tx(t),r.return=s,s.child=r,Ps=s,Kt=null)):t=null,t===null)throw qr(s);return Wm(t)?s.lanes=32:s.lanes=536870912,null}var k=o.children;return o=o.fallback,d?(Zr(),d=s.mode,k=bc({mode:"hidden",children:k},d),o=_n(o,d,r,null),k.return=s,o.return=s,k.sibling=o,s.child=k,o=s.child,o.memoizedState=gm(r),o.childLanes=pm(t,y,r),s.memoizedState=xm,Pl(null,o)):(Kr(s),vm(s,k))}var F=t.memoizedState;if(F!==null&&(k=F.dehydrated,k!==null)){if(f)s.flags&256?(Kr(s),s.flags&=-257,s=bm(t,s,r)):s.memoizedState!==null?(Zr(),s.child=t.child,s.flags|=128,s=null):(Zr(),k=o.fallback,d=s.mode,o=bc({mode:"visible",children:o.children},d),k=_n(k,d,r,null),k.flags|=2,o.return=s,k.return=s,o.sibling=k,s.child=o,zn(s,t.child,null,r),o=s.child,o.memoizedState=gm(r),o.childLanes=pm(t,y,r),s.memoizedState=xm,s=Pl(null,o));else if(Kr(s),Wm(k)){if(y=k.nextSibling&&k.nextSibling.dataset,y)var ne=y.dgst;y=ne,o=Error(i(419)),o.stack="",o.digest=y,Nl({value:o,source:null,stack:null}),s=bm(t,s,r)}else if(xs||vo(t,s,r,!1),y=(r&t.childLanes)!==0,xs||y){if(y=qt,y!==null&&(o=X(y,r),o!==0&&o!==F.retryLane))throw F.retryLane=o,An(t,o),ta(y,t,o),fm;Jm(k)||Ac(),s=bm(t,s,r)}else Jm(k)?(s.flags|=192,s.child=t.child,s=null):(t=F.treeContext,Kt=Ca(k.nextSibling),Ps=s,Rt=!0,Hr=null,Sa=!1,t!==null&&Ox(s,t),s=vm(s,o.children),s.flags|=4096);return s}return d?(Zr(),k=o.fallback,d=s.mode,F=t.child,ne=F.sibling,o=pr(F,{mode:"hidden",children:o.children}),o.subtreeFlags=F.subtreeFlags&65011712,ne!==null?k=pr(ne,k):(k=_n(k,d,r,null),k.flags|=2),k.return=s,o.return=s,o.sibling=k,s.child=o,Pl(null,o),o=s.child,k=t.child.memoizedState,k===null?k=gm(r):(d=k.cachePool,d!==null?(F=fs._currentValue,d=d.parent!==F?{parent:F,pool:F}:d):d=Fx(),k={baseLanes:k.baseLanes|r,cachePool:d}),o.memoizedState=k,o.childLanes=pm(t,y,r),s.memoizedState=xm,Pl(t.child,o)):(Kr(s),r=t.child,t=r.sibling,r=pr(r,{mode:"visible",children:o.children}),r.return=s,r.sibling=null,t!==null&&(y=s.deletions,y===null?(s.deletions=[t],s.flags|=16):y.push(t)),s.child=r,s.memoizedState=null,r)}function vm(t,s){return s=bc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function bc(t,s){return t=ca(22,t,null,s),t.lanes=0,t}function bm(t,s,r){return zn(s,t.child,null,r),t=vm(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Wg(t,s,r){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Ou(t.return,s,r)}function ym(t,s,r,o,d,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=d,y.treeForkCount=f)}function ep(t,s,r){var o=s.pendingProps,d=o.revealOrder,f=o.tail;o=o.children;var y=ds.current,k=(y&2)!==0;if(k?(y=y&1|2,s.flags|=128):y&=1,U(ds,y),Bs(t,s,o,r),o=Rt?wl:0,!k&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wg(t,r,s);else if(t.tag===19)Wg(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)t=r.alternate,t!==null&&lc(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),ym(s,!1,d,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&lc(t)===null){s.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}ym(s,!0,r,null,f,o);break;case"together":ym(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function Nr(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Wr|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(vo(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,r=pr(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=pr(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function jm(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Wi(t)))}function c1(t,s,r){switch(s.tag){case 3:he(s,s.stateNode.containerInfo),Gr(s,fs,t.memoizedState.cache),En();break;case 27:case 5:_e(s);break;case 4:he(s,s.stateNode.containerInfo);break;case 10:Gr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vu(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Kr(s),s.flags|=128,null):(r&s.child.childLanes)!==0?Jg(t,s,r):(Kr(s),t=Nr(t,s,r),t!==null?t.sibling:null);Kr(s);break;case 19:var d=(t.flags&128)!==0;if(o=(r&s.childLanes)!==0,o||(vo(t,s,r,!1),o=(r&s.childLanes)!==0),d){if(o)return ep(t,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),U(ds,ds.current),o)break;return null;case 22:return s.lanes=0,Vg(t,s,r,s.pendingProps);case 24:Gr(s,fs,t.memoizedState.cache)}return Nr(t,s,r)}function tp(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)xs=!0;else{if(!jm(t,r)&&(s.flags&128)===0)return xs=!1,c1(t,s,r);xs=(t.flags&131072)!==0}else xs=!1,Rt&&(s.flags&1048576)!==0&&Mx(s,wl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=On(s.elementType),s.type=t,typeof t=="function")Cu(t)?(o=Ln(t,o),s.tag=1,s=Zg(null,s,t,o,r)):(s.tag=0,s=hm(null,s,t,o,r));else{if(t!=null){var d=t.$$typeof;if(d===D){s.tag=11,s=Hg(null,s,t,o,r);break e}else if(d===P){s.tag=14,s=qg(null,s,t,o,r);break e}}throw s=ue(t)||t,Error(i(306,s,""))}}return s;case 0:return hm(t,s,s.type,s.pendingProps,r);case 1:return o=s.type,d=Ln(o,s.pendingProps),Zg(t,s,o,d,r);case 3:e:{if(he(s,s.stateNode.containerInfo),t===null)throw Error(i(387));o=s.pendingProps;var f=s.memoizedState;d=f.element,Iu(t,s),El(s,o,null,r);var y=s.memoizedState;if(o=y.cache,Gr(s,fs,o),o!==f.cache&&Pu(s,[fs],r,!0),_l(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=Qg(t,s,o,r);break e}else if(o!==d){d=ja(Error(i(424)),s),Nl(d),s=Qg(t,s,o,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Kt=Ca(t.firstChild),Ps=s,Rt=!0,Hr=null,Sa=!0,r=Vx(s,null,o,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(En(),o===d){s=Nr(t,s,r);break e}Bs(t,s,o,r)}s=s.child}return s;case 26:return vc(t,s),t===null?(r=mv(s.type,null,s.pendingProps,null))?s.memoizedState=r:Rt||(r=s.type,t=s.pendingProps,o=Pc(te.current).createElement(r),o[ss]=s,o[ht]=t,Ls(o,r,t),is(o),s.stateNode=o):s.memoizedState=mv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return _e(s),t===null&&Rt&&(o=s.stateNode=cv(s.type,s.pendingProps,te.current),Ps=s,Sa=!0,d=Kt,rn(s.type)?(ef=d,Kt=Ca(o.firstChild)):Kt=d),Bs(t,s,s.pendingProps.children,r),vc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Rt&&((d=o=Kt)&&(o=U1(o,s.type,s.pendingProps,Sa),o!==null?(s.stateNode=o,Ps=s,Kt=Ca(o.firstChild),Sa=!1,d=!0):d=!1),d||qr(s)),_e(s),d=s.type,f=s.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Km(d,f)?o=null:y!==null&&Km(d,y)&&(s.flags|=32),s.memoizedState!==null&&(d=Xu(t,s,e1,null,null,r),Zl._currentValue=d),vc(t,s),Bs(t,s,o,r),s.child;case 6:return t===null&&Rt&&((t=r=Kt)&&(r=F1(r,s.pendingProps,Sa),r!==null?(s.stateNode=r,Ps=s,Kt=null,t=!0):t=!1),t||qr(s)),null;case 13:return Jg(t,s,r);case 4:return he(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=zn(s,null,o,r):Bs(t,s,o,r),s.child;case 11:return Hg(t,s,s.type,s.pendingProps,r);case 7:return Bs(t,s,s.pendingProps,r),s.child;case 8:return Bs(t,s,s.pendingProps.children,r),s.child;case 12:return Bs(t,s,s.pendingProps.children,r),s.child;case 10:return o=s.pendingProps,Gr(s,s.type,o.value),Bs(t,s,o.children,r),s.child;case 9:return d=s.type._context,o=s.pendingProps.children,Dn(s),d=zs(d),o=o(d),s.flags|=1,Bs(t,s,o,r),s.child;case 14:return qg(t,s,s.type,s.pendingProps,r);case 15:return Gg(t,s,s.type,s.pendingProps,r);case 19:return ep(t,s,r);case 31:return i1(t,s,r);case 22:return Vg(t,s,r,s.pendingProps);case 24:return Dn(s),o=zs(fs),t===null?(d=Lu(),d===null&&(d=qt,f=zu(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=r),d=f),s.memoizedState={parent:o,cache:d},Fu(s),Gr(s,fs,d)):((t.lanes&r)!==0&&(Iu(t,s),El(s,null,null,r),_l()),d=t.memoizedState,f=s.memoizedState,d.parent!==o?(d={parent:o,cache:o},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Gr(s,fs,o)):(o=f.cache,Gr(s,fs,o),o!==d.cache&&Pu(s,[fs],r,!0))),Bs(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Sr(t){t.flags|=4}function wm(t,s,r,o,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Ap())t.flags|=8192;else throw Pn=ac,Uu}else t.flags&=-16777217}function sp(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pv(s))if(Ap())t.flags|=8192;else throw Pn=ac,Uu}function yc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ts():536870912,t.lanes|=s,Eo|=s)}function zl(t,s){if(!Rt)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Zt(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(s)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=r,s}function d1(t,s,r){var o=s.pendingProps;switch(Eu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(s),null;case 1:return Zt(s),null;case 3:return r=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),yr(fs),Ne(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(po(s)?Sr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Du())),Zt(s),null;case 26:var d=s.type,f=s.memoizedState;return t===null?(Sr(s),f!==null?(Zt(s),sp(s,f)):(Zt(s),wm(s,d,null,o,r))):f?f!==t.memoizedState?(Sr(s),Zt(s),sp(s,f)):(Zt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&Sr(s),Zt(s),wm(s,d,t,o,r)),null;case 27:if(Be(s),r=te.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Sr(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Zt(s),null}t=Q.current,po(s)?Px(s):(t=cv(d,o,r),s.stateNode=t,Sr(s))}return Zt(s),null;case 5:if(Be(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Sr(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Zt(s),null}if(f=Q.current,po(s))Px(s);else{var y=Pc(te.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(d,{is:o.is}):y.createElement(d)}}f[ss]=s,f[ht]=o;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=f;e:switch(Ls(f,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Sr(s)}}return Zt(s),wm(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&Sr(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(t=te.current,po(s)){if(t=s.stateNode,r=s.memoizedProps,o=null,d=Ps,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[ss]=s,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Jp(t.nodeValue,r)),t||qr(s,!0)}else t=Pc(t).createTextNode(o),t[ss]=s,s.stateNode=t}return Zt(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(o=po(s),r!==null){if(t===null){if(!o)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[ss]=s}else En(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zt(s),t=!1}else r=Du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(ua(s),s):(ua(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Zt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=po(s),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[ss]=s}else En(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zt(s),d=!1}else d=Du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ua(s),s):(ua(s),null)}return ua(s),(s.flags&128)!==0?(s.lanes=r,s):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=s.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==d&&(o.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),yc(s,s.updateQueue),Zt(s),null);case 4:return Ne(),t===null&&qm(s.stateNode.containerInfo),Zt(s),null;case 10:return yr(s.type),Zt(s),null;case 19:if(Z(ds),o=s.memoizedState,o===null)return Zt(s),null;if(d=(s.flags&128)!==0,f=o.rendering,f===null)if(d)zl(o,!1);else{if(ls!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=lc(t),f!==null){for(s.flags|=128,zl(o,!1),t=f.updateQueue,s.updateQueue=t,yc(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)Ex(r,t),r=r.sibling;return U(ds,ds.current&1|2),Rt&&vr(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&Gt()>kc&&(s.flags|=128,d=!0,zl(o,!1),s.lanes=4194304)}else{if(!d)if(t=lc(f),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,yc(s,t),zl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Rt)return Zt(s),null}else 2*Gt()-o.renderingStartTime>kc&&r!==536870912&&(s.flags|=128,d=!0,zl(o,!1),s.lanes=4194304);o.isBackwards?(f.sibling=s.child,s.child=f):(t=o.last,t!==null?t.sibling=f:s.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Gt(),t.sibling=null,r=ds.current,U(ds,d?r&1|2:r&1),Rt&&vr(s,o.treeForkCount),t):(Zt(s),null);case 22:case 23:return ua(s),Gu(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(r&536870912)!==0&&(s.flags&128)===0&&(Zt(s),s.subtreeFlags&6&&(s.flags|=8192)):Zt(s),r=s.updateQueue,r!==null&&yc(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==r&&(s.flags|=2048),t!==null&&Z(Mn),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),yr(fs),Zt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function u1(t,s){switch(Eu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return yr(fs),Ne(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Be(s),null;case 31:if(s.memoizedState!==null){if(ua(s),s.alternate===null)throw Error(i(340));En()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(ua(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));En()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Z(ds),null;case 4:return Ne(),null;case 10:return yr(s.type),null;case 22:case 23:return ua(s),Gu(),t!==null&&Z(Mn),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return yr(fs),null;case 25:return null;default:return null}}function ap(t,s){switch(Eu(s),s.tag){case 3:yr(fs),Ne();break;case 26:case 27:case 5:Be(s);break;case 4:Ne();break;case 31:s.memoizedState!==null&&ua(s);break;case 13:ua(s);break;case 19:Z(ds);break;case 10:yr(s.type);break;case 22:case 23:ua(s),Gu(),t!==null&&Z(Mn);break;case 24:yr(fs)}}function Bl(t,s){try{var r=s.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&t)===t){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==d)}}catch(k){Bt(s,s.return,k)}}function Qr(t,s,r){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var f=d.next;o=f;do{if((o.tag&t)===t){var y=o.inst,k=y.destroy;if(k!==void 0){y.destroy=void 0,d=s;var F=r,ne=k;try{ne()}catch(fe){Bt(d,F,fe)}}}o=o.next}while(o!==f)}}catch(fe){Bt(s,s.return,fe)}}function rp(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{Xx(s,r)}catch(o){Bt(t,t.return,o)}}}function np(t,s,r){r.props=Ln(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Bt(t,s,o)}}function Ll(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(d){Bt(t,s,d)}}function Qa(t,s){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){Bt(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Bt(t,s,d)}else r.current=null}function op(t){var s=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){Bt(t,t.return,d)}}function Nm(t,s,r){try{var o=t.stateNode;M1(o,t.type,r,s),o[ht]=s}catch(d){Bt(t,t.return,d)}}function lp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rn(t.type)||t.tag===4}function Sm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function km(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=xr));else if(o!==4&&(o===27&&rn(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(km(t,s,r),t=t.sibling;t!==null;)km(t,s,r),t=t.sibling}function jc(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(o!==4&&(o===27&&rn(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(jc(t,s,r),t=t.sibling;t!==null;)jc(t,s,r),t=t.sibling}function ip(t){var s=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Ls(s,o,r),s[ss]=t,s[ht]=r}catch(f){Bt(t,t.return,f)}}var kr=!1,gs=!1,Cm=!1,cp=typeof WeakSet=="function"?WeakSet:Set,Ms=null;function m1(t,s){if(t=t.containerInfo,Ym=$c,t=jx(t),bu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,k=-1,F=-1,ne=0,fe=0,pe=t,ie=null;t:for(;;){for(var de;pe!==r||d!==0&&pe.nodeType!==3||(k=y+d),pe!==f||o!==0&&pe.nodeType!==3||(F=y+o),pe.nodeType===3&&(y+=pe.nodeValue.length),(de=pe.firstChild)!==null;)ie=pe,pe=de;for(;;){if(pe===t)break t;if(ie===r&&++ne===d&&(k=y),ie===f&&++fe===o&&(F=y),(de=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=de}r=k===-1||F===-1?null:{start:k,end:F}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xm={focusedElem:t,selectionRange:r},$c=!1,Ms=s;Ms!==null;)if(s=Ms,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ms=t;else for(;Ms!==null;){switch(s=Ms,f=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=s,d=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var $e=Ln(r.type,d);t=o.getSnapshotBeforeUpdate($e,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(st){Bt(r,r.return,st)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)Qm(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Ms=t;break}Ms=s.return}}function dp(t,s,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Rr(t,r),o&4&&Bl(5,r);break;case 1:if(Rr(t,r),o&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(y){Bt(r,r.return,y)}else{var d=Ln(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Bt(r,r.return,y)}}o&64&&rp(r),o&512&&Ll(r,r.return);break;case 3:if(Rr(t,r),o&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Xx(t,s)}catch(y){Bt(r,r.return,y)}}break;case 27:s===null&&o&4&&ip(r);case 26:case 5:Rr(t,r),s===null&&o&4&&op(r),o&512&&Ll(r,r.return);break;case 12:Rr(t,r);break;case 31:Rr(t,r),o&4&&fp(t,r);break;case 13:Rr(t,r),o&4&&hp(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=j1.bind(null,r),I1(t,r))));break;case 22:if(o=r.memoizedState!==null||kr,!o){s=s!==null&&s.memoizedState!==null||gs,d=kr;var f=gs;kr=o,(gs=s)&&!f?Ar(t,r,(r.subtreeFlags&8772)!==0):Rr(t,r),kr=d,gs=f}break;case 30:break;default:Rr(t,r)}}function up(t){var s=t.alternate;s!==null&&(t.alternate=null,up(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&no(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var es=null,Qs=!1;function Cr(t,s,r){for(r=r.child;r!==null;)mp(t,s,r),r=r.sibling}function mp(t,s,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(gt,r)}catch{}switch(r.tag){case 26:gs||Qa(r,s),Cr(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:gs||Qa(r,s);var o=es,d=Qs;rn(r.type)&&(es=r.stateNode,Qs=!1),Cr(t,s,r),Yl(r.stateNode),es=o,Qs=d;break;case 5:gs||Qa(r,s);case 6:if(o=es,d=Qs,es=null,Cr(t,s,r),es=o,Qs=d,es!==null)if(Qs)try{(es.nodeType===9?es.body:es.nodeName==="HTML"?es.ownerDocument.body:es).removeChild(r.stateNode)}catch(f){Bt(r,s,f)}else try{es.removeChild(r.stateNode)}catch(f){Bt(r,s,f)}break;case 18:es!==null&&(Qs?(t=es,rv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Lo(t)):rv(es,r.stateNode));break;case 4:o=es,d=Qs,es=r.stateNode.containerInfo,Qs=!0,Cr(t,s,r),es=o,Qs=d;break;case 0:case 11:case 14:case 15:Qr(2,r,s),gs||Qr(4,r,s),Cr(t,s,r);break;case 1:gs||(Qa(r,s),o=r.stateNode,typeof o.componentWillUnmount=="function"&&np(r,s,o)),Cr(t,s,r);break;case 21:Cr(t,s,r);break;case 22:gs=(o=gs)||r.memoizedState!==null,Cr(t,s,r),gs=o;break;default:Cr(t,s,r)}}function fp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Lo(t)}catch(r){Bt(s,s.return,r)}}}function hp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Lo(t)}catch(r){Bt(s,s.return,r)}}function f1(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new cp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new cp),s;default:throw Error(i(435,t.tag))}}function wc(t,s){var r=f1(t);s.forEach(function(o){if(!r.has(o)){r.add(o);var d=w1.bind(null,t,o);o.then(d,d)}})}function Js(t,s){var r=s.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],f=t,y=s,k=y;e:for(;k!==null;){switch(k.tag){case 27:if(rn(k.type)){es=k.stateNode,Qs=!1;break e}break;case 5:es=k.stateNode,Qs=!1;break e;case 3:case 4:es=k.stateNode.containerInfo,Qs=!0;break e}k=k.return}if(es===null)throw Error(i(160));mp(f,y,d),es=null,Qs=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)xp(s,t),s=s.sibling}var za=null;function xp(t,s){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Js(s,t),Ws(t),o&4&&(Qr(3,t,t.return),Bl(3,t),Qr(5,t,t.return));break;case 1:Js(s,t),Ws(t),o&512&&(gs||r===null||Qa(r,r.return)),o&64&&kr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=za;if(Js(s,t),Ws(t),o&512&&(gs||r===null||Qa(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":f=d.getElementsByTagName("title")[0],(!f||f[jn]||f[ss]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(o),d.head.insertBefore(f,d.querySelector("head > title"))),Ls(f,o,r),f[ss]=t,is(f),o=f;break e;case"link":var y=xv("link","href",d).get(o+(r.href||""));if(y){for(var k=0;k<y.length;k++)if(f=y[k],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(k,1);break t}}f=d.createElement(o),Ls(f,o,r),d.head.appendChild(f);break;case"meta":if(y=xv("meta","content",d).get(o+(r.content||""))){for(k=0;k<y.length;k++)if(f=y[k],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(k,1);break t}}f=d.createElement(o),Ls(f,o,r),d.head.appendChild(f);break;default:throw Error(i(468,o))}f[ss]=t,is(f),o=f}t.stateNode=o}else gv(d,t.type,t.stateNode);else t.stateNode=hv(d,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?gv(d,t.type,t.stateNode):hv(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Nm(t,t.memoizedProps,r.memoizedProps)}break;case 27:Js(s,t),Ws(t),o&512&&(gs||r===null||Qa(r,r.return)),r!==null&&o&4&&Nm(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Js(s,t),Ws(t),o&512&&(gs||r===null||Qa(r,r.return)),t.flags&32){d=t.stateNode;try{Xa(d,"")}catch($e){Bt(t,t.return,$e)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,Nm(t,d,r!==null?r.memoizedProps:d)),o&1024&&(Cm=!0);break;case 6:if(Js(s,t),Ws(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch($e){Bt(t,t.return,$e)}}break;case 3:if(Lc=null,d=za,za=zc(s.containerInfo),Js(s,t),za=d,Ws(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Lo(s.containerInfo)}catch($e){Bt(t,t.return,$e)}Cm&&(Cm=!1,gp(t));break;case 4:o=za,za=zc(t.stateNode.containerInfo),Js(s,t),Ws(t),za=o;break;case 12:Js(s,t),Ws(t);break;case 31:Js(s,t),Ws(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 13:Js(s,t),Ws(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Sc=Gt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 22:d=t.memoizedState!==null;var F=r!==null&&r.memoizedState!==null,ne=kr,fe=gs;if(kr=ne||d,gs=fe||F,Js(s,t),gs=fe,kr=ne,Ws(t),o&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||F||kr||gs||Un(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){F=r=s;try{if(f=F.stateNode,d)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{k=F.stateNode;var pe=F.memoizedProps.style,ie=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;k.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch($e){Bt(F,F.return,$e)}}}else if(s.tag===6){if(r===null){F=s;try{F.stateNode.nodeValue=d?"":F.memoizedProps}catch($e){Bt(F,F.return,$e)}}}else if(s.tag===18){if(r===null){F=s;try{var de=F.stateNode;d?nv(de,!0):nv(F.stateNode,!1)}catch($e){Bt(F,F.return,$e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,wc(t,r))));break;case 19:Js(s,t),Ws(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 30:break;case 21:break;default:Js(s,t),Ws(t)}}function Ws(t){var s=t.flags;if(s&2){try{for(var r,o=t.return;o!==null;){if(lp(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,f=Sm(t);jc(t,f,d);break;case 5:var y=r.stateNode;r.flags&32&&(Xa(y,""),r.flags&=-33);var k=Sm(t);jc(t,k,y);break;case 3:case 4:var F=r.stateNode.containerInfo,ne=Sm(t);km(t,ne,F);break;default:throw Error(i(161))}}catch(fe){Bt(t,t.return,fe)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function gp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;gp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Rr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)dp(t,s.alternate,s),s=s.sibling}function Un(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Qr(4,s,s.return),Un(s);break;case 1:Qa(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&np(s,s.return,r),Un(s);break;case 27:Yl(s.stateNode);case 26:case 5:Qa(s,s.return),Un(s);break;case 22:s.memoizedState===null&&Un(s);break;case 30:Un(s);break;default:Un(s)}t=t.sibling}}function Ar(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,d=t,f=s,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ar(d,f,r),Bl(4,f);break;case 1:if(Ar(d,f,r),o=f,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(ne){Bt(o,o.return,ne)}if(o=f,d=o.updateQueue,d!==null){var k=o.stateNode;try{var F=d.shared.hiddenCallbacks;if(F!==null)for(d.shared.hiddenCallbacks=null,d=0;d<F.length;d++)Yx(F[d],k)}catch(ne){Bt(o,o.return,ne)}}r&&y&64&&rp(f),Ll(f,f.return);break;case 27:ip(f);case 26:case 5:Ar(d,f,r),r&&o===null&&y&4&&op(f),Ll(f,f.return);break;case 12:Ar(d,f,r);break;case 31:Ar(d,f,r),r&&y&4&&fp(d,f);break;case 13:Ar(d,f,r),r&&y&4&&hp(d,f);break;case 22:f.memoizedState===null&&Ar(d,f,r),Ll(f,f.return);break;case 30:break;default:Ar(d,f,r)}s=s.sibling}}function Rm(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Sl(r))}function Am(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Sl(t))}function Ba(t,s,r,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pp(t,s,r,o),s=s.sibling}function pp(t,s,r,o){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ba(t,s,r,o),d&2048&&Bl(9,s);break;case 1:Ba(t,s,r,o);break;case 3:Ba(t,s,r,o),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Sl(t)));break;case 12:if(d&2048){Ba(t,s,r,o),t=s.stateNode;try{var f=s.memoizedProps,y=f.id,k=f.onPostCommit;typeof k=="function"&&k(y,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(F){Bt(s,s.return,F)}}else Ba(t,s,r,o);break;case 31:Ba(t,s,r,o);break;case 13:Ba(t,s,r,o);break;case 23:break;case 22:f=s.stateNode,y=s.alternate,s.memoizedState!==null?f._visibility&2?Ba(t,s,r,o):Ul(t,s):f._visibility&2?Ba(t,s,r,o):(f._visibility|=2,Ro(t,s,r,o,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Rm(y,s);break;case 24:Ba(t,s,r,o),d&2048&&Am(s.alternate,s);break;default:Ba(t,s,r,o)}}function Ro(t,s,r,o,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=t,y=s,k=r,F=o,ne=y.flags;switch(y.tag){case 0:case 11:case 15:Ro(f,y,k,F,d),Bl(8,y);break;case 23:break;case 22:var fe=y.stateNode;y.memoizedState!==null?fe._visibility&2?Ro(f,y,k,F,d):Ul(f,y):(fe._visibility|=2,Ro(f,y,k,F,d)),d&&ne&2048&&Rm(y.alternate,y);break;case 24:Ro(f,y,k,F,d),d&&ne&2048&&Am(y.alternate,y);break;default:Ro(f,y,k,F,d)}s=s.sibling}}function Ul(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,o=s,d=o.flags;switch(o.tag){case 22:Ul(r,o),d&2048&&Rm(o.alternate,o);break;case 24:Ul(r,o),d&2048&&Am(o.alternate,o);break;default:Ul(r,o)}s=s.sibling}}var Fl=8192;function Ao(t,s,r){if(t.subtreeFlags&Fl)for(t=t.child;t!==null;)vp(t,s,r),t=t.sibling}function vp(t,s,r){switch(t.tag){case 26:Ao(t,s,r),t.flags&Fl&&t.memoizedState!==null&&W1(r,za,t.memoizedState,t.memoizedProps);break;case 5:Ao(t,s,r);break;case 3:case 4:var o=za;za=zc(t.stateNode.containerInfo),Ao(t,s,r),za=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Fl,Fl=16777216,Ao(t,s,r),Fl=o):Ao(t,s,r));break;default:Ao(t,s,r)}}function bp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Il(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];Ms=o,jp(o,t)}bp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yp(t),t=t.sibling}function yp(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&Qr(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Nc(t)):Il(t);break;default:Il(t)}}function Nc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];Ms=o,jp(o,t)}bp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Qr(8,s,s.return),Nc(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Nc(s));break;default:Nc(s)}t=t.sibling}}function jp(t,s){for(;Ms!==null;){var r=Ms;switch(r.tag){case 0:case 11:case 15:Qr(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Sl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ms=o;else e:for(r=t;Ms!==null;){o=Ms;var d=o.sibling,f=o.return;if(up(o),o===r){Ms=null;break e}if(d!==null){d.return=f,Ms=d;break e}Ms=f}}}var h1={getCacheForType:function(t){var s=zs(fs),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return zs(fs).controller.signal}},x1=typeof WeakMap=="function"?WeakMap:Map,Ot=0,qt=null,vt=null,wt=0,zt=0,ma=null,Jr=!1,_o=!1,_m=!1,_r=0,ls=0,Wr=0,Fn=0,Em=0,fa=0,Eo=0,$l=null,ea=null,Tm=!1,Sc=0,wp=0,kc=1/0,Cc=null,en=null,ws=0,tn=null,To=null,Er=0,Dm=0,Mm=null,Np=null,Hl=0,Om=null;function ha(){return(Ot&2)!==0&&wt!==0?wt&-wt:A.T!==null?Fm():Ut()}function Sp(){if(fa===0)if((wt&536870912)===0||Rt){var t=la;la<<=1,(la&3932160)===0&&(la=262144),fa=t}else fa=536870912;return t=da.current,t!==null&&(t.flags|=32),fa}function ta(t,s,r){(t===qt&&(zt===2||zt===9)||t.cancelPendingCommit!==null)&&(Do(t,0),sn(t,wt,fa,!1)),Y(t,r),((Ot&2)===0||t!==qt)&&(t===qt&&((Ot&2)===0&&(Fn|=r),ls===4&&sn(t,wt,fa,!1)),Ja(t))}function kp(t,s,r){if((Ot&6)!==0)throw Error(i(327));var o=!r&&(s&127)===0&&(s&t.expiredLanes)===0||At(t,s),d=o?v1(t,s):zm(t,s,!0),f=o;do{if(d===0){_o&&!o&&sn(t,s,0,!1);break}else{if(r=t.current.alternate,f&&!g1(r)){d=zm(t,s,!1),f=!1;continue}if(d===2){if(f=s,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;e:{var k=t;d=$l;var F=k.current.memoizedState.isDehydrated;if(F&&(Do(k,y).flags|=256),y=zm(k,y,!1),y!==2){if(_m&&!F){k.errorRecoveryDisabledLanes|=f,Fn|=f,d=4;break e}f=ea,ea=d,f!==null&&(ea===null?ea=f:ea.push.apply(ea,f))}d=y}if(f=!1,d!==2)continue}}if(d===1){Do(t,0),sn(t,s,0,!0);break}e:{switch(o=t,f=d,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:sn(o,s,fa,!Jr);break e;case 2:ea=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Sc+300-Gt(),10<d)){if(sn(o,s,fa,!Jr),Je(o,0,!0)!==0)break e;Er=s,o.timeoutHandle=sv(Cp.bind(null,o,r,ea,Cc,Tm,s,fa,Fn,Eo,Jr,f,"Throttled",-0,0),d);break e}Cp(o,r,ea,Cc,Tm,s,fa,Fn,Eo,Jr,f,null,-0,0)}}break}while(!0);Ja(t)}function Cp(t,s,r,o,d,f,y,k,F,ne,fe,pe,ie,de){if(t.timeoutHandle=-1,pe=s.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xr},vp(s,f,pe);var $e=(f&62914560)===f?Sc-Gt():(f&4194048)===f?wp-Gt():0;if($e=e2(pe,$e),$e!==null){Er=f,t.cancelPendingCommit=$e(Op.bind(null,t,s,f,r,o,d,y,k,F,fe,pe,null,ie,de)),sn(t,f,y,!ne);return}}Op(t,s,f,r,o,d,y,k,F)}function g1(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],f=d.getSnapshot;d=d.value;try{if(!ia(f(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function sn(t,s,r,o){s&=~Em,s&=~Fn,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var d=s;0<d;){var f=31-Xt(d),y=1<<f;o[f]=-1,d&=~y}r!==0&&at(t,r,s)}function Rc(){return(Ot&6)===0?(ql(0),!1):!0}function Pm(){if(vt!==null){if(zt===0)var t=vt.return;else t=vt,br=Tn=null,Qu(t),wo=null,Cl=0,t=vt;for(;t!==null;)ap(t.alternate,t),t=t.return;vt=null}}function Do(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,z1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Er=0,Pm(),qt=t,vt=r=pr(t.current,null),wt=s,zt=0,ma=null,Jr=!1,_o=At(t,s),_m=!1,Eo=fa=Em=Fn=Wr=ls=0,ea=$l=null,Tm=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var d=31-Xt(o),f=1<<d;s|=t[d],o&=~f}return _r=s,Xi(),r}function Rp(t,s){ut=null,A.H=Ol,s===jo||s===sc?(s=Hx(),zt=3):s===Uu?(s=Hx(),zt=4):zt=s===fm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ma=s,vt===null&&(ls=1,gc(t,ja(s,t.current)))}function Ap(){var t=da.current;return t===null?!0:(wt&4194048)===wt?ka===null:(wt&62914560)===wt||(wt&536870912)!==0?t===ka:!1}function _p(){var t=A.H;return A.H=Ol,t===null?Ol:t}function Ep(){var t=A.A;return A.A=h1,t}function Ac(){ls=4,Jr||(wt&4194048)!==wt&&da.current!==null||(_o=!0),(Wr&134217727)===0&&(Fn&134217727)===0||qt===null||sn(qt,wt,fa,!1)}function zm(t,s,r){var o=Ot;Ot|=2;var d=_p(),f=Ep();(qt!==t||wt!==s)&&(Cc=null,Do(t,s)),s=!1;var y=ls;e:do try{if(zt!==0&&vt!==null){var k=vt,F=ma;switch(zt){case 8:Pm(),y=6;break e;case 3:case 2:case 9:case 6:da.current===null&&(s=!0);var ne=zt;if(zt=0,ma=null,Mo(t,k,F,ne),r&&_o){y=0;break e}break;default:ne=zt,zt=0,ma=null,Mo(t,k,F,ne)}}p1(),y=ls;break}catch(fe){Rp(t,fe)}while(!0);return s&&t.shellSuspendCounter++,br=Tn=null,Ot=o,A.H=d,A.A=f,vt===null&&(qt=null,wt=0,Xi()),y}function p1(){for(;vt!==null;)Tp(vt)}function v1(t,s){var r=Ot;Ot|=2;var o=_p(),d=Ep();qt!==t||wt!==s?(Cc=null,kc=Gt()+500,Do(t,s)):_o=At(t,s);e:do try{if(zt!==0&&vt!==null){s=vt;var f=ma;t:switch(zt){case 1:zt=0,ma=null,Mo(t,s,f,1);break;case 2:case 9:if(Ix(f)){zt=0,ma=null,Dp(s);break}s=function(){zt!==2&&zt!==9||qt!==t||(zt=7),Ja(t)},f.then(s,s);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Ix(f)?(zt=0,ma=null,Dp(s)):(zt=0,ma=null,Mo(t,s,f,7));break;case 5:var y=null;switch(vt.tag){case 26:y=vt.memoizedState;case 5:case 27:var k=vt;if(y?pv(y):k.stateNode.complete){zt=0,ma=null;var F=k.sibling;if(F!==null)vt=F;else{var ne=k.return;ne!==null?(vt=ne,_c(ne)):vt=null}break t}}zt=0,ma=null,Mo(t,s,f,5);break;case 6:zt=0,ma=null,Mo(t,s,f,6);break;case 8:Pm(),ls=6;break e;default:throw Error(i(462))}}b1();break}catch(fe){Rp(t,fe)}while(!0);return br=Tn=null,A.H=o,A.A=d,Ot=r,vt!==null?0:(qt=null,wt=0,Xi(),ls)}function b1(){for(;vt!==null&&!Ye();)Tp(vt)}function Tp(t){var s=tp(t.alternate,t,_r);t.memoizedProps=t.pendingProps,s===null?_c(t):vt=s}function Dp(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=Kg(r,s,s.pendingProps,s.type,void 0,wt);break;case 11:s=Kg(r,s,s.pendingProps,s.type.render,s.ref,wt);break;case 5:Qu(s);default:ap(r,s),s=vt=Ex(s,_r),s=tp(r,s,_r)}t.memoizedProps=t.pendingProps,s===null?_c(t):vt=s}function Mo(t,s,r,o){br=Tn=null,Qu(s),wo=null,Cl=0;var d=s.return;try{if(l1(t,d,s,r,wt)){ls=1,gc(t,ja(r,t.current)),vt=null;return}}catch(f){if(d!==null)throw vt=d,f;ls=1,gc(t,ja(r,t.current)),vt=null;return}s.flags&32768?(Rt||o===1?t=!0:_o||(wt&536870912)!==0?t=!1:(Jr=t=!0,(o===2||o===9||o===3||o===6)&&(o=da.current,o!==null&&o.tag===13&&(o.flags|=16384))),Mp(s,t)):_c(s)}function _c(t){var s=t;do{if((s.flags&32768)!==0){Mp(s,Jr);return}t=s.return;var r=d1(s.alternate,s,_r);if(r!==null){vt=r;return}if(s=s.sibling,s!==null){vt=s;return}vt=s=t}while(s!==null);ls===0&&(ls=5)}function Mp(t,s){do{var r=u1(t.alternate,t);if(r!==null){r.flags&=32767,vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){vt=t;return}vt=t=r}while(t!==null);ls=6,vt=null}function Op(t,s,r,o,d,f,y,k,F){t.cancelPendingCommit=null;do Ec();while(ws!==0);if((Ot&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(f=s.lanes|s.childLanes,f|=Su,be(t,r,f,y,k,F),t===qt&&(vt=qt=null,wt=0),To=s,tn=t,Er=r,Dm=f,Mm=d,Np=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,N1(Et,function(){return Up(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=A.T,A.T=null,d=q.p,q.p=2,y=Ot,Ot|=4;try{m1(t,s,r)}finally{Ot=y,q.p=d,A.T=o}}ws=1,Pp(),zp(),Bp()}}function Pp(){if(ws===1){ws=0;var t=tn,s=To,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=A.T,A.T=null;var o=q.p;q.p=2;var d=Ot;Ot|=4;try{xp(s,t);var f=Xm,y=jx(t.containerInfo),k=f.focusedElem,F=f.selectionRange;if(y!==k&&k&&k.ownerDocument&&yx(k.ownerDocument.documentElement,k)){if(F!==null&&bu(k)){var ne=F.start,fe=F.end;if(fe===void 0&&(fe=ne),"selectionStart"in k)k.selectionStart=ne,k.selectionEnd=Math.min(fe,k.value.length);else{var pe=k.ownerDocument||document,ie=pe&&pe.defaultView||window;if(ie.getSelection){var de=ie.getSelection(),$e=k.textContent.length,st=Math.min(F.start,$e),$t=F.end===void 0?st:Math.min(F.end,$e);!de.extend&&st>$t&&(y=$t,$t=st,st=y);var J=bx(k,st),H=bx(k,$t);if(J&&H&&(de.rangeCount!==1||de.anchorNode!==J.node||de.anchorOffset!==J.offset||de.focusNode!==H.node||de.focusOffset!==H.offset)){var re=pe.createRange();re.setStart(J.node,J.offset),de.removeAllRanges(),st>$t?(de.addRange(re),de.extend(H.node,H.offset)):(re.setEnd(H.node,H.offset),de.addRange(re))}}}}for(pe=[],de=k;de=de.parentNode;)de.nodeType===1&&pe.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<pe.length;k++){var ge=pe[k];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}$c=!!Ym,Xm=Ym=null}finally{Ot=d,q.p=o,A.T=r}}t.current=s,ws=2}}function zp(){if(ws===2){ws=0;var t=tn,s=To,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=A.T,A.T=null;var o=q.p;q.p=2;var d=Ot;Ot|=4;try{dp(t,s.alternate,s)}finally{Ot=d,q.p=o,A.T=r}}ws=3}}function Bp(){if(ws===4||ws===3){ws=0,nt();var t=tn,s=To,r=Er,o=Np;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ws=5:(ws=0,To=tn=null,Lp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(en=null),tt(r),s=s.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(gt,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=A.T,d=q.p,q.p=2,A.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var k=o[y];f(k.value,{componentStack:k.stack})}}finally{A.T=s,q.p=d}}(Er&3)!==0&&Ec(),Ja(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===Om?Hl++:(Hl=0,Om=t):Hl=0,ql(0)}}function Lp(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Sl(s)))}function Ec(){return Pp(),zp(),Bp(),Up()}function Up(){if(ws!==5)return!1;var t=tn,s=Dm;Dm=0;var r=tt(Er),o=A.T,d=q.p;try{q.p=32>r?32:r,A.T=null,r=Mm,Mm=null;var f=tn,y=Er;if(ws=0,To=tn=null,Er=0,(Ot&6)!==0)throw Error(i(331));var k=Ot;if(Ot|=4,yp(f.current),pp(f,f.current,y,r),Ot=k,ql(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(gt,f)}catch{}return!0}finally{q.p=d,A.T=o,Lp(t,s)}}function Fp(t,s,r){s=ja(r,s),s=mm(t.stateNode,s,2),t=Xr(t,s,2),t!==null&&(Y(t,2),Ja(t))}function Bt(t,s,r){if(t.tag===3)Fp(t,t,r);else for(;s!==null;){if(s.tag===3){Fp(s,t,r);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(en===null||!en.has(o))){t=ja(r,t),r=Ig(2),o=Xr(s,r,2),o!==null&&($g(r,o,s,t),Y(o,2),Ja(o));break}}s=s.return}}function Bm(t,s,r){var o=t.pingCache;if(o===null){o=t.pingCache=new x1;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(r)||(_m=!0,d.add(r),t=y1.bind(null,t,s,r),s.then(t,t))}function y1(t,s,r){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,qt===t&&(wt&r)===r&&(ls===4||ls===3&&(wt&62914560)===wt&&300>Gt()-Sc?(Ot&2)===0&&Do(t,0):Em|=r,Eo===wt&&(Eo=0)),Ja(t)}function Ip(t,s){s===0&&(s=ts()),t=An(t,s),t!==null&&(Y(t,s),Ja(t))}function j1(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),Ip(t,r)}function w1(t,s){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(s),Ip(t,r)}function N1(t,s){return ke(t,s)}var Tc=null,Oo=null,Lm=!1,Dc=!1,Um=!1,an=0;function Ja(t){t!==Oo&&t.next===null&&(Oo===null?Tc=Oo=t:Oo=Oo.next=t),Dc=!0,Lm||(Lm=!0,k1())}function ql(t,s){if(!Um&&Dc){Um=!0;do for(var r=!1,o=Tc;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var f=0;else{var y=o.suspendedLanes,k=o.pingedLanes;f=(1<<31-Xt(42|t)+1)-1,f&=d&~(y&~k),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Gp(o,f))}else f=wt,f=Je(o,o===qt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||At(o,f)||(r=!0,Gp(o,f));o=o.next}while(r);Um=!1}}function S1(){$p()}function $p(){Dc=Lm=!1;var t=0;an!==0&&P1()&&(t=an);for(var s=Gt(),r=null,o=Tc;o!==null;){var d=o.next,f=Hp(o,s);f===0?(o.next=null,r===null?Tc=d:r.next=d,d===null&&(Oo=r)):(r=o,(t!==0||(f&3)!==0)&&(Dc=!0)),o=d}ws!==0&&ws!==5||ql(t),an!==0&&(an=0)}function Hp(t,s){for(var r=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Xt(f),k=1<<y,F=d[y];F===-1?((k&r)===0||(k&o)!==0)&&(d[y]=Vt(k,s)):F<=s&&(t.expiredLanes|=k),f&=~k}if(s=qt,r=wt,r=Je(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===s&&(zt===2||zt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ue(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||At(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(o!==null&&Ue(o),tt(r)){case 2:case 8:r=lt;break;case 32:r=Et;break;case 268435456:r=Te;break;default:r=Et}return o=qp.bind(null,t),r=ke(r,o),t.callbackPriority=s,t.callbackNode=r,s}return o!==null&&o!==null&&Ue(o),t.callbackPriority=2,t.callbackNode=null,2}function qp(t,s){if(ws!==0&&ws!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ec()&&t.callbackNode!==r)return null;var o=wt;return o=Je(t,t===qt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(kp(t,o,s),Hp(t,Gt()),t.callbackNode!=null&&t.callbackNode===r?qp.bind(null,t):null)}function Gp(t,s){if(Ec())return null;kp(t,s,!0)}function k1(){B1(function(){(Ot&6)!==0?ke(Ze,S1):$p()})}function Fm(){if(an===0){var t=bo;t===0&&(t=Wt,Wt<<=1,(Wt&261888)===0&&(Wt=256)),an=t}return an}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fi(""+t)}function Yp(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function C1(t,s,r,o,d){if(s==="submit"&&r&&r.stateNode===d){var f=Vp((d[ht]||null).action),y=o.submitter;y&&(s=(s=y[ht]||null)?Vp(s.formAction):y.getAttribute("formAction"),s!==null&&(f=s,y=null));var k=new qi("action","action",null,o,d);t.push({event:k,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(an!==0){var F=y?Yp(d,y):new FormData(d);om(r,{pending:!0,data:F,method:d.method,action:f},null,F)}}else typeof f=="function"&&(k.preventDefault(),F=y?Yp(d,y):new FormData(d),om(r,{pending:!0,data:F,method:d.method,action:f},f,F))},currentTarget:d}]})}}for(var Im=0;Im<Nu.length;Im++){var $m=Nu[Im],R1=$m.toLowerCase(),A1=$m[0].toUpperCase()+$m.slice(1);Pa(R1,"on"+A1)}Pa(Sx,"onAnimationEnd"),Pa(kx,"onAnimationIteration"),Pa(Cx,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(qN,"onTransitionRun"),Pa(GN,"onTransitionStart"),Pa(VN,"onTransitionCancel"),Pa(Rx,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function Xp(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],d=o.event;o=o.listeners;e:{var f=void 0;if(s)for(var y=o.length-1;0<=y;y--){var k=o[y],F=k.instance,ne=k.currentTarget;if(k=k.listener,F!==f&&d.isPropagationStopped())break e;f=k,d.currentTarget=ne;try{f(d)}catch(fe){Yi(fe)}d.currentTarget=null,f=F}else for(y=0;y<o.length;y++){if(k=o[y],F=k.instance,ne=k.currentTarget,k=k.listener,F!==f&&d.isPropagationStopped())break e;f=k,d.currentTarget=ne;try{f(d)}catch(fe){Yi(fe)}d.currentTarget=null,f=F}}}}function bt(t,s){var r=s[Ht];r===void 0&&(r=s[Ht]=new Set);var o=t+"__bubble";r.has(o)||(Kp(s,t,2,!1),r.add(o))}function Hm(t,s,r){var o=0;s&&(o|=4),Kp(r,t,o,s)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function qm(t){if(!t[Mc]){t[Mc]=!0,il.forEach(function(r){r!=="selectionchange"&&(_1.has(r)||Hm(r,!1,t),Hm(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Mc]||(s[Mc]=!0,Hm("selectionchange",!1,s))}}function Kp(t,s,r,o){switch(Sv(s)){case 2:var d=a2;break;case 8:d=r2;break;default:d=nf}r=d.bind(null,s,r,t),d=void 0,!du||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,r,{capture:!0,passive:d}):t.addEventListener(s,r,!0):d!==void 0?t.addEventListener(s,r,{passive:d}):t.addEventListener(s,r,!1)}function Gm(t,s,r,o,d){var f=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var k=o.stateNode.containerInfo;if(k===d)break;if(y===4)for(y=o.return;y!==null;){var F=y.tag;if((F===3||F===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;k!==null;){if(y=fr(k),y===null)return;if(F=y.tag,F===5||F===6||F===26||F===27){o=f=y;continue e}k=k.parentNode}}o=o.return}ex(function(){var ne=f,fe=iu(r),pe=[];e:{var ie=Ax.get(t);if(ie!==void 0){var de=qi,$e=t;switch(t){case"keypress":if($i(r)===0)break e;case"keydown":case"keyup":de=wN;break;case"focusin":$e="focus",de=hu;break;case"focusout":$e="blur",de=hu;break;case"beforeblur":case"afterblur":de=hu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ax;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=dN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=kN;break;case Sx:case kx:case Cx:de=fN;break;case Rx:de=RN;break;case"scroll":case"scrollend":de=iN;break;case"wheel":de=_N;break;case"copy":case"cut":case"paste":de=xN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=nx;break;case"toggle":case"beforetoggle":de=TN}var st=(s&4)!==0,$t=!st&&(t==="scroll"||t==="scrollend"),J=st?ie!==null?ie+"Capture":null:ie;st=[];for(var H=ne,re;H!==null;){var ge=H;if(re=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||re===null||J===null||(ge=fl(H,J),ge!=null&&st.push(Vl(H,ge,re))),$t)break;H=H.return}0<st.length&&(ie=new de(ie,$e,null,r,fe),pe.push({event:ie,listeners:st}))}}if((s&7)===0){e:{if(ie=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",ie&&r!==lu&&($e=r.relatedTarget||r.fromElement)&&(fr($e)||$e[mr]))break e;if((de||ie)&&(ie=fe.window===fe?fe:(ie=fe.ownerDocument)?ie.defaultView||ie.parentWindow:window,de?($e=r.relatedTarget||r.toElement,de=ne,$e=$e?fr($e):null,$e!==null&&($t=u($e),st=$e.tag,$e!==$t||st!==5&&st!==27&&st!==6)&&($e=null)):(de=null,$e=ne),de!==$e)){if(st=ax,ge="onMouseLeave",J="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(st=nx,ge="onPointerLeave",J="onPointerEnter",H="pointer"),$t=de==null?ie:wn(de),re=$e==null?ie:wn($e),ie=new st(ge,H+"leave",de,r,fe),ie.target=$t,ie.relatedTarget=re,ge=null,fr(fe)===ne&&(st=new st(J,H+"enter",$e,r,fe),st.target=re,st.relatedTarget=$t,ge=st),$t=ge,de&&$e)t:{for(st=E1,J=de,H=$e,re=0,ge=J;ge;ge=st(ge))re++;ge=0;for(var We=H;We;We=st(We))ge++;for(;0<re-ge;)J=st(J),re--;for(;0<ge-re;)H=st(H),ge--;for(;re--;){if(J===H||H!==null&&J===H.alternate){st=J;break t}J=st(J),H=st(H)}st=null}else st=null;de!==null&&Zp(pe,ie,de,st,!1),$e!==null&&$t!==null&&Zp(pe,$t,$e,st,!0)}}e:{if(ie=ne?wn(ne):window,de=ie.nodeName&&ie.nodeName.toLowerCase(),de==="select"||de==="input"&&ie.type==="file")var Dt=fx;else if(ux(ie))if(hx)Dt=IN;else{Dt=UN;var Xe=LN}else de=ie.nodeName,!de||de.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&ou(ne.elementType)&&(Dt=fx):Dt=FN;if(Dt&&(Dt=Dt(t,ne))){mx(pe,Dt,r,fe);break e}Xe&&Xe(t,ie,ne),t==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&z(ie,"number",ie.value)}switch(Xe=ne?wn(ne):window,t){case"focusin":(ux(Xe)||Xe.contentEditable==="true")&&(uo=Xe,yu=ne,jl=null);break;case"focusout":jl=yu=uo=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,wx(pe,r,fe);break;case"selectionchange":if(HN)break;case"keydown":case"keyup":wx(pe,r,fe)}var ft;if(gu)e:{switch(t){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else co?cx(t,r)&&(Nt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Nt="onCompositionStart");Nt&&(ox&&r.locale!=="ko"&&(co||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&co&&(ft=tx()):(Ir=fe,uu="value"in Ir?Ir.value:Ir.textContent,co=!0)),Xe=Oc(ne,Nt),0<Xe.length&&(Nt=new rx(Nt,t,null,r,fe),pe.push({event:Nt,listeners:Xe}),ft?Nt.data=ft:(ft=dx(r),ft!==null&&(Nt.data=ft)))),(ft=MN?ON(t,r):PN(t,r))&&(Nt=Oc(ne,"onBeforeInput"),0<Nt.length&&(Xe=new rx("onBeforeInput","beforeinput",null,r,fe),pe.push({event:Xe,listeners:Nt}),Xe.data=ft)),C1(pe,t,ne,r,fe)}Xp(pe,s)})}function Vl(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Oc(t,s){for(var r=s+"Capture",o=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=fl(t,r),d!=null&&o.unshift(Vl(t,d,f)),d=fl(t,s),d!=null&&o.push(Vl(t,d,f))),t.tag===3)return o;t=t.return}return[]}function E1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zp(t,s,r,o,d){for(var f=s._reactName,y=[];r!==null&&r!==o;){var k=r,F=k.alternate,ne=k.stateNode;if(k=k.tag,F!==null&&F===o)break;k!==5&&k!==26&&k!==27||ne===null||(F=ne,d?(ne=fl(r,f),ne!=null&&y.unshift(Vl(r,ne,F))):d||(ne=fl(r,f),ne!=null&&y.push(Vl(r,ne,F)))),r=r.return}y.length!==0&&t.push({event:s,listeners:y})}var T1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function Qp(t){return(typeof t=="string"?t:""+t).replace(T1,`
`).replace(D1,"")}function Jp(t,s){return s=Qp(s),Qp(t)===s}function It(t,s,r,o,d,f){switch(r){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||Xa(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&Xa(t,""+o);break;case"className":Sn(t,"class",o);break;case"tabIndex":Sn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,r,o);break;case"style":Jh(t,o,f);break;case"data":if(s!=="object"){Sn(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Fi(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(s!=="input"&&It(t,s,"name",d.name,d,null),It(t,s,"formEncType",d.formEncType,d,null),It(t,s,"formMethod",d.formMethod,d,null),It(t,s,"formTarget",d.formTarget,d,null)):(It(t,s,"encType",d.encType,d,null),It(t,s,"method",d.method,d,null),It(t,s,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Fi(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=xr);break;case"onScroll":o!=null&&bt("scroll",t);break;case"onScrollEnd":o!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Fi(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":bt("beforetoggle",t),bt("toggle",t),Nn(t,"popover",o);break;case"xlinkActuate":Oa(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Oa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Oa(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Oa(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Oa(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Oa(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Oa(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Oa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Oa(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Nn(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=oN.get(r)||r,Nn(t,r,o))}}function Vm(t,s,r,o,d,f){switch(r){case"style":Jh(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Xa(t,o):(typeof o=="number"||typeof o=="bigint")&&Xa(t,""+o);break;case"onScroll":o!=null&&bt("scroll",t);break;case"onScrollEnd":o!=null&&bt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),f=t[ht]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(s,f,d),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,o,d);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Nn(t,r,o)}}}function Ls(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var o=!1,d=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:It(t,s,f,y,r,null)}}d&&It(t,s,"srcSet",r.srcSet,r,null),o&&It(t,s,"src",r.src,r,null);return;case"input":bt("invalid",t);var k=f=y=d=null,F=null,ne=null;for(o in r)if(r.hasOwnProperty(o)){var fe=r[o];if(fe!=null)switch(o){case"name":d=fe;break;case"type":y=fe;break;case"checked":F=fe;break;case"defaultChecked":ne=fe;break;case"value":f=fe;break;case"defaultValue":k=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,s));break;default:It(t,s,o,fe,r,null)}}Ui(t,f,k,F,ne,y,d,!1);return;case"select":bt("invalid",t),o=y=f=null;for(d in r)if(r.hasOwnProperty(d)&&(k=r[d],k!=null))switch(d){case"value":f=k;break;case"defaultValue":y=k;break;case"multiple":o=k;default:It(t,s,d,k,r,null)}s=f,r=y,t.multiple=!!o,s!=null?Ie(t,!!o,s,!1):r!=null&&Ie(t,!!o,r,!0);return;case"textarea":bt("invalid",t),f=d=o=null;for(y in r)if(r.hasOwnProperty(y)&&(k=r[y],k!=null))switch(y){case"value":o=k;break;case"defaultValue":d=k;break;case"children":f=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:It(t,s,y,k,r,null)}cs(t,o,d,f);return;case"option":for(F in r)if(r.hasOwnProperty(F)&&(o=r[F],o!=null))switch(F){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:It(t,s,F,o,r,null)}return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(o=0;o<Gl.length;o++)bt(Gl[o],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in r)if(r.hasOwnProperty(ne)&&(o=r[ne],o!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:It(t,s,ne,o,r,null)}return;default:if(ou(s)){for(fe in r)r.hasOwnProperty(fe)&&(o=r[fe],o!==void 0&&Vm(t,s,fe,o,r,void 0));return}}for(k in r)r.hasOwnProperty(k)&&(o=r[k],o!=null&&It(t,s,k,o,r,null))}function M1(t,s,r,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,y=null,k=null,F=null,ne=null,fe=null;for(de in r){var pe=r[de];if(r.hasOwnProperty(de)&&pe!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":F=pe;default:o.hasOwnProperty(de)||It(t,s,de,null,o,pe)}}for(var ie in o){var de=o[ie];if(pe=r[ie],o.hasOwnProperty(ie)&&(de!=null||pe!=null))switch(ie){case"type":f=de;break;case"name":d=de;break;case"checked":ne=de;break;case"defaultChecked":fe=de;break;case"value":y=de;break;case"defaultValue":k=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,s));break;default:de!==pe&&It(t,s,ie,de,o,pe)}}ml(t,y,k,F,ne,fe,f,d);return;case"select":de=y=k=ie=null;for(f in r)if(F=r[f],r.hasOwnProperty(f)&&F!=null)switch(f){case"value":break;case"multiple":de=F;default:o.hasOwnProperty(f)||It(t,s,f,null,o,F)}for(d in o)if(f=o[d],F=r[d],o.hasOwnProperty(d)&&(f!=null||F!=null))switch(d){case"value":ie=f;break;case"defaultValue":k=f;break;case"multiple":y=f;default:f!==F&&It(t,s,d,f,o,F)}s=k,r=y,o=de,ie!=null?Ie(t,!!r,ie,!1):!!o!=!!r&&(s!=null?Ie(t,!!r,s,!0):Ie(t,!!r,r?[]:"",!1));return;case"textarea":de=ie=null;for(k in r)if(d=r[k],r.hasOwnProperty(k)&&d!=null&&!o.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:It(t,s,k,null,o,d)}for(y in o)if(d=o[y],f=r[y],o.hasOwnProperty(y)&&(d!=null||f!=null))switch(y){case"value":ie=d;break;case"defaultValue":de=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==f&&It(t,s,y,d,o,f)}pt(t,ie,de);return;case"option":for(var $e in r)if(ie=r[$e],r.hasOwnProperty($e)&&ie!=null&&!o.hasOwnProperty($e))switch($e){case"selected":t.selected=!1;break;default:It(t,s,$e,null,o,ie)}for(F in o)if(ie=o[F],de=r[F],o.hasOwnProperty(F)&&ie!==de&&(ie!=null||de!=null))switch(F){case"selected":t.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:It(t,s,F,ie,o,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in r)ie=r[st],r.hasOwnProperty(st)&&ie!=null&&!o.hasOwnProperty(st)&&It(t,s,st,null,o,ie);for(ne in o)if(ie=o[ne],de=r[ne],o.hasOwnProperty(ne)&&ie!==de&&(ie!=null||de!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:It(t,s,ne,ie,o,de)}return;default:if(ou(s)){for(var $t in r)ie=r[$t],r.hasOwnProperty($t)&&ie!==void 0&&!o.hasOwnProperty($t)&&Vm(t,s,$t,void 0,o,ie);for(fe in o)ie=o[fe],de=r[fe],!o.hasOwnProperty(fe)||ie===de||ie===void 0&&de===void 0||Vm(t,s,fe,ie,o,de);return}}for(var J in r)ie=r[J],r.hasOwnProperty(J)&&ie!=null&&!o.hasOwnProperty(J)&&It(t,s,J,null,o,ie);for(pe in o)ie=o[pe],de=r[pe],!o.hasOwnProperty(pe)||ie===de||ie==null&&de==null||It(t,s,pe,ie,o,de)}function Wp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],f=d.transferSize,y=d.initiatorType,k=d.duration;if(f&&k&&Wp(y)){for(y=0,k=d.responseEnd,o+=1;o<r.length;o++){var F=r[o],ne=F.startTime;if(ne>k)break;var fe=F.transferSize,pe=F.initiatorType;fe&&Wp(pe)&&(F=F.responseEnd,y+=fe*(F<k?1:(k-ne)/(F-ne)))}if(--o,s+=8*(f+y)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ym=null,Xm=null;function Pc(t){return t.nodeType===9?t:t.ownerDocument}function ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Km(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zm=null;function P1(){var t=window.event;return t&&t.type==="popstate"?t===Zm?!1:(Zm=t,!0):(Zm=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(L1)}:sv;function L1(t){setTimeout(function(){throw t})}function rn(t){return t==="head"}function rv(t,s){var r=s,o=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(d),Lo(s);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Yl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Yl(r);for(var f=r.firstChild;f;){var y=f.nextSibling,k=f.nodeName;f[jn]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&Yl(t.ownerDocument.body);r=d}while(r);Lo(s)}function nv(t,s){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Qm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Qm(r),no(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function U1(t,s,r,o){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[jn])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ca(t.nextSibling),t===null)break}return null}function F1(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ca(t.nextSibling),t===null))return null;return t}function ov(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ca(t.nextSibling),t===null))return null;return t}function Jm(t){return t.data==="$?"||t.data==="$~"}function Wm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function I1(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var o=function(){s(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ca(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var ef=null;function lv(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return Ca(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function iv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function cv(t,s,r){switch(s=Pc(r),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Yl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);no(t)}var Ra=new Map,dv=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Tr=q.d;q.d={f:$1,r:H1,D:q1,C:G1,L:V1,m:Y1,X:K1,S:X1,M:Z1};function $1(){var t=Tr.f(),s=Rc();return t||s}function H1(t){var s=Va(t);s!==null&&s.tag===5&&s.type==="form"?Rg(s):Tr.r(t)}var Po=typeof document>"u"?null:document;function uv(t,s,r){var o=Po;if(o&&typeof s=="string"&&s){var d=Ks(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),dv.has(d)||(dv.add(d),t={rel:t,crossOrigin:r,href:s},o.querySelector(d)===null&&(s=o.createElement("link"),Ls(s,"link",t),is(s),o.head.appendChild(s)))}}function q1(t){Tr.D(t),uv("dns-prefetch",t,null)}function G1(t,s){Tr.C(t,s),uv("preconnect",t,s)}function V1(t,s,r){Tr.L(t,s,r);var o=Po;if(o&&t&&s){var d='link[rel="preload"][as="'+Ks(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Ks(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Ks(r.imageSizes)+'"]')):d+='[href="'+Ks(t)+'"]';var f=d;switch(s){case"style":f=zo(t);break;case"script":f=Bo(t)}Ra.has(f)||(t=g({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),Ra.set(f,t),o.querySelector(d)!==null||s==="style"&&o.querySelector(Xl(f))||s==="script"&&o.querySelector(Kl(f))||(s=o.createElement("link"),Ls(s,"link",t),is(s),o.head.appendChild(s)))}}function Y1(t,s){Tr.m(t,s);var r=Po;if(r&&t){var o=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ks(o)+'"][href="'+Ks(t)+'"]',f=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Bo(t)}if(!Ra.has(f)&&(t=g({rel:"modulepreload",href:t},s),Ra.set(f,t),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Kl(f)))return}o=r.createElement("link"),Ls(o,"link",t),is(o),r.head.appendChild(o)}}}function X1(t,s,r){Tr.S(t,s,r);var o=Po;if(o&&t){var d=hr(o).hoistableStyles,f=zo(t);s=s||"default";var y=d.get(f);if(!y){var k={loading:0,preload:null};if(y=o.querySelector(Xl(f)))k.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":s},r),(r=Ra.get(f))&&tf(t,r);var F=y=o.createElement("link");is(F),Ls(F,"link",t),F._p=new Promise(function(ne,fe){F.onload=ne,F.onerror=fe}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Bc(y,s,o)}y={type:"stylesheet",instance:y,count:1,state:k},d.set(f,y)}}}function K1(t,s){Tr.X(t,s);var r=Po;if(r&&t){var o=hr(r).hoistableScripts,d=Bo(t),f=o.get(d);f||(f=r.querySelector(Kl(d)),f||(t=g({src:t,async:!0},s),(s=Ra.get(d))&&sf(t,s),f=r.createElement("script"),is(f),Ls(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function Z1(t,s){Tr.M(t,s);var r=Po;if(r&&t){var o=hr(r).hoistableScripts,d=Bo(t),f=o.get(d);f||(f=r.querySelector(Kl(d)),f||(t=g({src:t,async:!0,type:"module"},s),(s=Ra.get(d))&&sf(t,s),f=r.createElement("script"),is(f),Ls(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function mv(t,s,r,o){var d=(d=te.current)?zc(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=zo(r.href),r=hr(d).hoistableStyles,o=r.get(s),o||(o={type:"style",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=zo(r.href);var f=hr(d).hoistableStyles,y=f.get(t);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=d.querySelector(Xl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Ra.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ra.set(t,r),f||Q1(d,t,r,y.state))),s&&o===null)throw Error(i(528,""));return y}if(s&&o!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Bo(r),r=hr(d).hoistableScripts,o=r.get(s),o||(o={type:"script",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function zo(t){return'href="'+Ks(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function fv(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function Q1(t,s,r,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Ls(s,"link",r),is(s),t.head.appendChild(s))}function Bo(t){return'[src="'+Ks(t)+'"]'}function Kl(t){return"script[async]"+t}function hv(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+Ks(r.href)+'"]');if(o)return s.instance=o,is(o),o;var d=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),is(o),Ls(o,"style",d),Bc(o,r.precedence,t),s.instance=o;case"stylesheet":d=zo(r.href);var f=t.querySelector(Xl(d));if(f)return s.state.loading|=4,s.instance=f,is(f),f;o=fv(r),(d=Ra.get(d))&&tf(o,d),f=(t.ownerDocument||t).createElement("link"),is(f);var y=f;return y._p=new Promise(function(k,F){y.onload=k,y.onerror=F}),Ls(f,"link",o),s.state.loading|=4,Bc(f,r.precedence,t),s.instance=f;case"script":return f=Bo(r.src),(d=t.querySelector(Kl(f)))?(s.instance=d,is(d),d):(o=r,(d=Ra.get(f))&&(o=g({},r),sf(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),is(d),Ls(d,"link",o),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Bc(o,r.precedence,t));return s.instance}function Bc(t,s,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,f=d,y=0;y<o.length;y++){var k=o[y];if(k.dataset.precedence===s)f=k;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function tf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function sf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Lc=null;function xv(t,s,r){if(Lc===null){var o=new Map,d=Lc=new Map;d.set(r,o)}else d=Lc,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var f=r[d];if(!(f[jn]||f[ss]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(s)||"";y=t+y;var k=o.get(y);k?k.push(f):o.set(y,[f])}}return o}function gv(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function J1(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function W1(t,s,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=zo(o.href),f=s.querySelector(Xl(d));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Uc.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=f,is(f);return}f=s.ownerDocument||s,o=fv(o),(d=Ra.get(d))&&tf(o,d),f=f.createElement("link"),is(f);var y=f;y._p=new Promise(function(k,F){y.onload=k,y.onerror=F}),Ls(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Uc.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var af=0;function e2(t,s){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+s);0<t.imgBytes&&af===0&&(af=62500*O1());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>af?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function Ic(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,s.forEach(t2,t),Fc=null,Uc.call(t))}function t2(t,s){if(!(s.state.loading&4)){var r=Fc.get(t);if(r)var o=r.get(null);else{r=new Map,Fc.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var y=d[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}d=s.instance,y=d.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,d),r.set(y,d),this.count++,o=Uc.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Zl={$$typeof:R,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function s2(t,s,r,o,d,f,y,k,F){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=V(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V(0),this.hiddenUpdates=V(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function vv(t,s,r,o,d,f,y,k,F,ne,fe,pe){return t=new s2(t,s,r,y,F,ne,fe,pe,k),s=1,f===!0&&(s|=24),f=ca(3,null,null,s),t.current=f,f.stateNode=t,s=zu(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:s},Fu(f),t}function bv(t){return t?(t=ho,t):ho}function yv(t,s,r,o,d,f){d=bv(d),o.context===null?o.context=d:o.pendingContext=d,o=Yr(s),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Xr(t,o,s),r!==null&&(ta(r,t,s),Al(r,t,s))}function jv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function rf(t,s){jv(t,s),(t=t.alternate)&&jv(t,s)}function wv(t){if(t.tag===13||t.tag===31){var s=An(t,67108864);s!==null&&ta(s,t,67108864),rf(t,67108864)}}function Nv(t){if(t.tag===13||t.tag===31){var s=ha();s=je(s);var r=An(t,s);r!==null&&ta(r,t,s),rf(t,s)}}var $c=!0;function a2(t,s,r,o){var d=A.T;A.T=null;var f=q.p;try{q.p=2,nf(t,s,r,o)}finally{q.p=f,A.T=d}}function r2(t,s,r,o){var d=A.T;A.T=null;var f=q.p;try{q.p=8,nf(t,s,r,o)}finally{q.p=f,A.T=d}}function nf(t,s,r,o){if($c){var d=of(o);if(d===null)Gm(t,s,o,Hc,r),kv(t,o);else if(o2(d,t,s,r,o))o.stopPropagation();else if(kv(t,o),s&4&&-1<n2.indexOf(t)){for(;d!==null;){var f=Va(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ms(f.pendingLanes);if(y!==0){var k=f;for(k.pendingLanes|=2,k.entangledLanes|=2;y;){var F=1<<31-Xt(y);k.entanglements[1]|=F,y&=~F}Ja(f),(Ot&6)===0&&(kc=Gt()+500,ql(0))}}break;case 31:case 13:k=An(f,2),k!==null&&ta(k,f,2),Rc(),rf(f,2)}if(f=of(o),f===null&&Gm(t,s,o,Hc,r),f===d)break;d=f}d!==null&&o.stopPropagation()}else Gm(t,s,o,null,r)}}function of(t){return t=iu(t),lf(t)}var Hc=null;function lf(t){if(Hc=null,t=fr(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=h(s),t!==null)return t;t=null}else if(r===31){if(t=x(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Hc=t,null}function Sv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Ze:return 2;case lt:return 8;case Et:case Pt:return 32;case Te:return 268435456;default:return 32}default:return 32}}var cf=!1,nn=null,on=null,ln=null,Ql=new Map,Jl=new Map,cn=[],n2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(t,s){switch(t){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(s.pointerId)}}function Wl(t,s,r,o,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},s!==null&&(s=Va(s),s!==null&&wv(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function o2(t,s,r,o,d){switch(s){case"focusin":return nn=Wl(nn,t,s,r,o,d),!0;case"dragenter":return on=Wl(on,t,s,r,o,d),!0;case"mouseover":return ln=Wl(ln,t,s,r,o,d),!0;case"pointerover":var f=d.pointerId;return Ql.set(f,Wl(Ql.get(f)||null,t,s,r,o,d)),!0;case"gotpointercapture":return f=d.pointerId,Jl.set(f,Wl(Jl.get(f)||null,t,s,r,o,d)),!0}return!1}function Cv(t){var s=fr(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=h(r),s!==null){t.blockedOn=s,ur(t.priority,function(){Nv(r)});return}}else if(s===31){if(s=x(r),s!==null){t.blockedOn=s,ur(t.priority,function(){Nv(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=of(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);lu=o,r.target.dispatchEvent(o),lu=null}else return s=Va(r),s!==null&&wv(s),t.blockedOn=r,!1;s.shift()}return!0}function Rv(t,s,r){qc(t)&&r.delete(s)}function l2(){cf=!1,nn!==null&&qc(nn)&&(nn=null),on!==null&&qc(on)&&(on=null),ln!==null&&qc(ln)&&(ln=null),Ql.forEach(Rv),Jl.forEach(Rv)}function Gc(t,s){t.blockedOn===s&&(t.blockedOn=null,cf||(cf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,l2)))}var Vc=null;function Av(t){Vc!==t&&(Vc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var s=0;s<t.length;s+=3){var r=t[s],o=t[s+1],d=t[s+2];if(typeof o!="function"){if(lf(o||r)===null)continue;break}var f=Va(r);f!==null&&(t.splice(s,3),s-=3,om(f,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function Lo(t){function s(F){return Gc(F,t)}nn!==null&&Gc(nn,t),on!==null&&Gc(on,t),ln!==null&&Gc(ln,t),Ql.forEach(s),Jl.forEach(s);for(var r=0;r<cn.length;r++){var o=cn[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<cn.length&&(r=cn[0],r.blockedOn===null);)Cv(r),r.blockedOn===null&&cn.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],f=r[o+1],y=d[ht]||null;if(typeof f=="function")y||Av(r);else if(y){var k=null;if(f&&f.hasAttribute("formAction")){if(d=f,y=f[ht]||null)k=y.formAction;else if(lf(d)!==null)continue}else k=y.action;typeof k=="function"?r[o+1]=k:(r.splice(o,3),o-=3),Av(r)}}}function _v(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return d=y})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function df(t){this._internalRoot=t}Yc.prototype.render=df.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,o=ha();yv(r,o,t,s,null,null)},Yc.prototype.unmount=df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;yv(t.current,2,null,t,null,null),Rc(),s[mr]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ut();t={blockedOn:null,target:t,priority:s};for(var r=0;r<cn.length&&s!==0&&s<cn[r].priority;r++);cn.splice(r,0,t),r===0&&Cv(t)}};var Ev=n.version;if(Ev!=="19.2.3")throw Error(i(527,Ev,"19.2.3"));q.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=v(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var i2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{gt=Xc.inject(i2),Tt=Xc}catch{}}return ti.createRoot=function(t,s){if(!c(t))throw Error(i(299));var r=!1,o="",d=Bg,f=Lg,y=Ug;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=vv(t,1,!1,null,null,r,o,null,d,f,y,_v),t[mr]=s.current,qm(t),new df(s)},ti.hydrateRoot=function(t,s,r){if(!c(t))throw Error(i(299));var o=!1,d="",f=Bg,y=Lg,k=Ug,F=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(k=r.onRecoverableError),r.formState!==void 0&&(F=r.formState)),s=vv(t,1,!0,s,r??null,o,d,F,f,y,k,_v),s.context=bv(null),r=s.current,o=ha(),o=je(o),d=Yr(o),d.callback=null,Xr(r,d,o),r=o,s.current.lanes=r,Y(s,r),Ja(s),t[mr]=s.current,qm(t),new Yc(s)},ti.version="19.2.3",ti}var Fv;function v2(){if(Fv)return mf.exports;Fv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),mf.exports=p2(),mf.exports}var b2=v2(),m=kd();const Re=Ib(m),rh=d2({__proto__:null,default:Re},[m]);const y2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),j2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,i)=>i?i.toUpperCase():l.toLowerCase()),Iv=a=>{const n=j2(a);return n.charAt(0).toUpperCase()+n.slice(1)},Hb=(...a)=>a.filter((n,l,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===l).join(" ").trim(),w2=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var N2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const S2=m.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:u,iconNode:h,...x},p)=>m.createElement("svg",{ref:p,...N2,width:n,height:n,stroke:a,strokeWidth:i?Number(l)*24/Number(n):l,className:Hb("lucide",c),...!u&&!w2(x)&&{"aria-hidden":"true"},...x},[...h.map(([v,b])=>m.createElement(v,b)),...Array.isArray(u)?u:[u]]));const ze=(a,n)=>{const l=m.forwardRef(({className:i,...c},u)=>m.createElement(S2,{ref:u,iconNode:n,className:Hb(`lucide-${y2(Iv(a))}`,`lucide-${a}`,i),...c}));return l.displayName=Iv(a),l};const k2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Br=ze("arrow-left",k2);const C2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$v=ze("arrow-right",C2);const R2=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Zo=ze("award",R2);const A2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Vn=ze("bell",A2);const _2=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],nh=ze("book-check",_2);const E2=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Mr=ze("book-marked",E2);const T2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yt=ze("book-open",T2);const D2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hi=ze("calendar",D2);const M2=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],qb=ze("camera",M2);const O2=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Hv=ze("chart-column",O2);const P2=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],z2=ze("check-check",P2);const B2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ss=ze("check",B2);const L2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gb=ze("chevron-down",L2);const U2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Cd=ze("chevron-left",U2);const F2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vb=ze("chevron-right",F2);const I2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$2=ze("chevron-up",I2);const H2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ia=ze("circle-alert",H2);const q2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Us=ze("circle-check-big",q2);const G2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Aa=ze("circle-x",G2);const V2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Y2=ze("circle",V2);const X2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kn=ze("clock",X2);const K2=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Z2=ze("credit-card",K2);const Q2=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],er=ze("crown",Q2);const J2=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],W2=ze("dollar-sign",J2);const eS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],tS=ze("ellipsis-vertical",eS);const sS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],aS=ze("ellipsis",sS);const rS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],nS=ze("external-link",rS);const oS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zf=ze("eye",oS);const lS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],iS=ze("file-text",lS);const cS=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Bf=ze("flag",cS);const dS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],uS=ze("funnel",dS);const mS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Yn=ze("globe",mS);const fS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],hS=ze("grid-3x3",fS);const xS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Xn=ze("heart",xS);const gS=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],pS=ze("image-plus",gS);const vS=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Yb=ze("link",vS);const bS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Go=ze("list",bS);const yS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ra=ze("loader-circle",yS);const jS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ks=ze("lock",jS);const wS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ld=ze("log-out",wS);const NS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$a=ze("mail",NS);const SS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Rd=ze("map-pin",SS);const kS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],qv=ze("menu",kS);const CS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ns=ze("message-square",CS);const RS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Xb=ze("moon",RS);const AS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Kb=ze("pause",AS);const _S=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],xi=ze("pen-tool",_S);const ES=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zb=ze("pen",ES);const TS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],DS=ze("phone",TS);const MS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qo=ze("plus",MS);const OS=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],PS=ze("reply",OS);const zS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],id=ze("save",zS);const BS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ua=ze("search",BS);const LS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Gv=ze("send",LS);const US=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FS=ze("settings",US);const IS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],$S=ze("share-2",IS);const HS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hn=ze("shield",HS);const qS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],GS=ze("shopping-cart",qS);const VS=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],YS=ze("sliders-horizontal",VS);const XS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pf=ze("sparkles",XS);const KS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Qb=ze("square-pen",KS);const ZS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ct=ze("star",ZS);const QS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Jb=ze("sun",QS);const JS=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Lf=ze("thumbs-up",JS);const WS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pi=ze("trash-2",WS);const ek=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ga=ze("trending-up",ek);const tk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vo=ze("triangle-alert",tk);const sk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vi=ze("upload",sk);const ak=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],na=ze("user",ak);const rk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qs=ze("users",rk);const nk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fa=ze("x",nk),ok="/assets/logo-B_BG4k17.png";function Vs({className:a="w-6 h-6"}){return e.jsx("img",{src:ok,alt:"BookArc Logo",className:`${a} rounded-lg`})}function Vv(a,n){if(typeof a=="function")return a(n);a!=null&&(a.current=n)}function Lr(...a){return n=>{let l=!1;const i=a.map(c=>{const u=Vv(c,n);return!l&&typeof u=="function"&&(l=!0),u});if(l)return()=>{for(let c=0;c<i.length;c++){const u=i[c];typeof u=="function"?u():Vv(a[c],null)}}}}function it(...a){return m.useCallback(Lr(...a),a)}var lk=Symbol.for("react.lazy"),cd=rh[" use ".trim().toString()];function ik(a){return typeof a=="object"&&a!==null&&"then"in a}function Wb(a){return a!=null&&typeof a=="object"&&"$$typeof"in a&&a.$$typeof===lk&&"_payload"in a&&ik(a._payload)}function Si(a){const n=ck(a),l=m.forwardRef((i,c)=>{let{children:u,...h}=i;Wb(u)&&typeof cd=="function"&&(u=cd(u._payload));const x=m.Children.toArray(u),p=x.find(uk);if(p){const v=p.props.children,b=x.map(g=>g===p?m.Children.count(v)>1?m.Children.only(null):m.isValidElement(v)?v.props.children:null:g);return e.jsx(n,{...h,ref:c,children:m.isValidElement(v)?m.cloneElement(v,void 0,b):null})}return e.jsx(n,{...h,ref:c,children:u})});return l.displayName=`${a}.Slot`,l}var ey=Si("Slot");function ck(a){const n=m.forwardRef((l,i)=>{let{children:c,...u}=l;if(Wb(c)&&typeof cd=="function"&&(c=cd(c._payload)),m.isValidElement(c)){const h=fk(c),x=mk(u,c.props);return c.type!==m.Fragment&&(x.ref=i?Lr(i,h):h),m.cloneElement(c,x)}return m.Children.count(c)>1?m.Children.only(null):null});return n.displayName=`${a}.SlotClone`,n}var dk=Symbol("radix.slottable");function uk(a){return m.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===dk}function mk(a,n){const l={...n};for(const i in n){const c=a[i],u=n[i];/^on[A-Z]/.test(i)?c&&u?l[i]=(...x)=>{const p=u(...x);return c(...x),p}:c&&(l[i]=c):i==="style"?l[i]={...c,...u}:i==="className"&&(l[i]=[c,u].filter(Boolean).join(" "))}return{...a,...l}}function fk(a){let n=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?a.ref:(n=Object.getOwnPropertyDescriptor(a,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?a.props.ref:a.props.ref||a.ref)}function ty(a){var n,l,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var c=a.length;for(n=0;n<c;n++)a[n]&&(l=ty(a[n]))&&(i&&(i+=" "),i+=l)}else for(l in a)a[l]&&(i&&(i+=" "),i+=l);return i}function sy(){for(var a,n,l=0,i="",c=arguments.length;l<c;l++)(a=arguments[l])&&(n=ty(a))&&(i&&(i+=" "),i+=n);return i}const Yv=a=>typeof a=="boolean"?`${a}`:a===0?"0":a,Xv=sy,oh=(a,n)=>l=>{var i;if(n?.variants==null)return Xv(a,l?.class,l?.className);const{variants:c,defaultVariants:u}=n,h=Object.keys(c).map(v=>{const b=l?.[v],g=u?.[v];if(b===null)return null;const j=Yv(b)||Yv(g);return c[v][j]}),x=l&&Object.entries(l).reduce((v,b)=>{let[g,j]=b;return j===void 0||(v[g]=j),v},{}),p=n==null||(i=n.compoundVariants)===null||i===void 0?void 0:i.reduce((v,b)=>{let{class:g,className:j,...w}=b;return Object.entries(w).every(C=>{let[S,E]=C;return Array.isArray(E)?E.includes({...u,...x}[S]):{...u,...x}[S]===E})?[...v,g,j]:v},[]);return Xv(a,h,p,l?.class,l?.className)},hk=(a,n)=>{const l=new Array(a.length+n.length);for(let i=0;i<a.length;i++)l[i]=a[i];for(let i=0;i<n.length;i++)l[a.length+i]=n[i];return l},xk=(a,n)=>({classGroupId:a,validator:n}),ay=(a=new Map,n=null,l)=>({nextPart:a,validators:n,classGroupId:l}),dd="-",Kv=[],gk="arbitrary..",pk=a=>{const n=bk(a),{conflictingClassGroups:l,conflictingClassGroupModifiers:i}=a;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return vk(h);const x=h.split(dd),p=x[0]===""&&x.length>1?1:0;return ry(x,p,n)},getConflictingClassGroupIds:(h,x)=>{if(x){const p=i[h],v=l[h];return p?v?hk(v,p):p:v||Kv}return l[h]||Kv}}},ry=(a,n,l)=>{if(a.length-n===0)return l.classGroupId;const c=a[n],u=l.nextPart.get(c);if(u){const v=ry(a,n+1,u);if(v)return v}const h=l.validators;if(h===null)return;const x=n===0?a.join(dd):a.slice(n).join(dd),p=h.length;for(let v=0;v<p;v++){const b=h[v];if(b.validator(x))return b.classGroupId}},vk=a=>a.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=a.slice(1,-1),l=n.indexOf(":"),i=n.slice(0,l);return i?gk+i:void 0})(),bk=a=>{const{theme:n,classGroups:l}=a;return yk(l,n)},yk=(a,n)=>{const l=ay();for(const i in a){const c=a[i];lh(c,l,i,n)}return l},lh=(a,n,l,i)=>{const c=a.length;for(let u=0;u<c;u++){const h=a[u];jk(h,n,l,i)}},jk=(a,n,l,i)=>{if(typeof a=="string"){wk(a,n,l);return}if(typeof a=="function"){Nk(a,n,l,i);return}Sk(a,n,l,i)},wk=(a,n,l)=>{const i=a===""?n:ny(n,a);i.classGroupId=l},Nk=(a,n,l,i)=>{if(kk(a)){lh(a(i),n,l,i);return}n.validators===null&&(n.validators=[]),n.validators.push(xk(l,a))},Sk=(a,n,l,i)=>{const c=Object.entries(a),u=c.length;for(let h=0;h<u;h++){const[x,p]=c[h];lh(p,ny(n,x),l,i)}},ny=(a,n)=>{let l=a;const i=n.split(dd),c=i.length;for(let u=0;u<c;u++){const h=i[u];let x=l.nextPart.get(h);x||(x=ay(),l.nextPart.set(h,x)),l=x}return l},kk=a=>"isThemeGetter"in a&&a.isThemeGetter===!0,Ck=a=>{if(a<1)return{get:()=>{},set:()=>{}};let n=0,l=Object.create(null),i=Object.create(null);const c=(u,h)=>{l[u]=h,n++,n>a&&(n=0,i=l,l=Object.create(null))};return{get(u){let h=l[u];if(h!==void 0)return h;if((h=i[u])!==void 0)return c(u,h),h},set(u,h){u in l?l[u]=h:c(u,h)}}},Uf="!",Zv=":",Rk=[],Qv=(a,n,l,i,c)=>({modifiers:a,hasImportantModifier:n,baseClassName:l,maybePostfixModifierPosition:i,isExternal:c}),Ak=a=>{const{prefix:n,experimentalParseClassName:l}=a;let i=c=>{const u=[];let h=0,x=0,p=0,v;const b=c.length;for(let S=0;S<b;S++){const E=c[S];if(h===0&&x===0){if(E===Zv){u.push(c.slice(p,S)),p=S+1;continue}if(E==="/"){v=S;continue}}E==="["?h++:E==="]"?h--:E==="("?x++:E===")"&&x--}const g=u.length===0?c:c.slice(p);let j=g,w=!1;g.endsWith(Uf)?(j=g.slice(0,-1),w=!0):g.startsWith(Uf)&&(j=g.slice(1),w=!0);const C=v&&v>p?v-p:void 0;return Qv(u,w,j,C)};if(n){const c=n+Zv,u=i;i=h=>h.startsWith(c)?u(h.slice(c.length)):Qv(Rk,!1,h,void 0,!0)}if(l){const c=i;i=u=>l({className:u,parseClassName:c})}return i},_k=a=>{const n=new Map;return a.orderSensitiveModifiers.forEach((l,i)=>{n.set(l,1e6+i)}),l=>{const i=[];let c=[];for(let u=0;u<l.length;u++){const h=l[u],x=h[0]==="[",p=n.has(h);x||p?(c.length>0&&(c.sort(),i.push(...c),c=[]),i.push(h)):c.push(h)}return c.length>0&&(c.sort(),i.push(...c)),i}},Ek=a=>({cache:Ck(a.cacheSize),parseClassName:Ak(a),sortModifiers:_k(a),...pk(a)}),Tk=/\s+/,Dk=(a,n)=>{const{parseClassName:l,getClassGroupId:i,getConflictingClassGroupIds:c,sortModifiers:u}=n,h=[],x=a.trim().split(Tk);let p="";for(let v=x.length-1;v>=0;v-=1){const b=x[v],{isExternal:g,modifiers:j,hasImportantModifier:w,baseClassName:C,maybePostfixModifierPosition:S}=l(b);if(g){p=b+(p.length>0?" "+p:p);continue}let E=!!S,N=i(E?C.substring(0,S):C);if(!N){if(!E){p=b+(p.length>0?" "+p:p);continue}if(N=i(C),!N){p=b+(p.length>0?" "+p:p);continue}E=!1}const T=j.length===0?"":j.length===1?j[0]:u(j).join(":"),R=w?T+Uf:T,D=R+N;if(h.indexOf(D)>-1)continue;h.push(D);const _=c(N,E);for(let O=0;O<_.length;++O){const P=_[O];h.push(R+P)}p=b+(p.length>0?" "+p:p)}return p},Mk=(...a)=>{let n=0,l,i,c="";for(;n<a.length;)(l=a[n++])&&(i=oy(l))&&(c&&(c+=" "),c+=i);return c},oy=a=>{if(typeof a=="string")return a;let n,l="";for(let i=0;i<a.length;i++)a[i]&&(n=oy(a[i]))&&(l&&(l+=" "),l+=n);return l},Ok=(a,...n)=>{let l,i,c,u;const h=p=>{const v=n.reduce((b,g)=>g(b),a());return l=Ek(v),i=l.cache.get,c=l.cache.set,u=x,x(p)},x=p=>{const v=i(p);if(v)return v;const b=Dk(p,l);return c(p,b),b};return u=h,(...p)=>u(Mk(...p))},Pk=[],Ns=a=>{const n=l=>l[a]||Pk;return n.isThemeGetter=!0,n},ly=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zk=/^\d+\/\d+$/,Bk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Uk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Fk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ik=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uo=a=>zk.test(a),xt=a=>!!a&&!Number.isNaN(Number(a)),un=a=>!!a&&Number.isInteger(Number(a)),vf=a=>a.endsWith("%")&&xt(a.slice(0,-1)),Dr=a=>Bk.test(a),$k=()=>!0,Hk=a=>Lk.test(a)&&!Uk.test(a),cy=()=>!1,qk=a=>Fk.test(a),Gk=a=>Ik.test(a),Vk=a=>!He(a)&&!qe(a),Yk=a=>el(a,my,cy),He=a=>ly.test(a),In=a=>el(a,fy,Hk),bf=a=>el(a,Jk,xt),Jv=a=>el(a,dy,cy),Xk=a=>el(a,uy,Gk),Kc=a=>el(a,hy,qk),qe=a=>iy.test(a),si=a=>tl(a,fy),Kk=a=>tl(a,Wk),Wv=a=>tl(a,dy),Zk=a=>tl(a,my),Qk=a=>tl(a,uy),Zc=a=>tl(a,hy,!0),el=(a,n,l)=>{const i=ly.exec(a);return i?i[1]?n(i[1]):l(i[2]):!1},tl=(a,n,l=!1)=>{const i=iy.exec(a);return i?i[1]?n(i[1]):l:!1},dy=a=>a==="position"||a==="percentage",uy=a=>a==="image"||a==="url",my=a=>a==="length"||a==="size"||a==="bg-size",fy=a=>a==="length",Jk=a=>a==="number",Wk=a=>a==="family-name",hy=a=>a==="shadow",e4=()=>{const a=Ns("color"),n=Ns("font"),l=Ns("text"),i=Ns("font-weight"),c=Ns("tracking"),u=Ns("leading"),h=Ns("breakpoint"),x=Ns("container"),p=Ns("spacing"),v=Ns("radius"),b=Ns("shadow"),g=Ns("inset-shadow"),j=Ns("text-shadow"),w=Ns("drop-shadow"),C=Ns("blur"),S=Ns("perspective"),E=Ns("aspect"),N=Ns("ease"),T=Ns("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...D(),qe,He],O=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],$=()=>[qe,He,p],se=()=>[Uo,"full","auto",...$()],xe=()=>[un,"none","subgrid",qe,He],oe=()=>["auto",{span:["full",un,qe,He]},un,qe,He],W=()=>[un,"auto",qe,He],me=()=>["auto","min","max","fr",qe,He],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...$()],q=()=>[Uo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],M=()=>[a,qe,He],ae=()=>[...D(),Wv,Jv,{position:[qe,He]}],ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",Zk,Yk,{size:[qe,He]}],Z=()=>[vf,si,In],U=()=>["","none","full",v,qe,He],Q=()=>["",xt,si,In],le=()=>["solid","dashed","dotted","double"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[xt,vf,Wv,Jv],he=()=>["","none",C,qe,He],Ne=()=>["none",xt,qe,He],_e=()=>["none",xt,qe,He],Be=()=>[xt,qe,He],Pe=()=>[Uo,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Dr],breakpoint:[Dr],color:[$k],container:[Dr],"drop-shadow":[Dr],ease:["in","out","in-out"],font:[Vk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Dr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Dr],shadow:[Dr],spacing:["px",xt],text:[Dr],"text-shadow":[Dr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uo,He,qe,E]}],container:["container"],columns:[{columns:[xt,He,qe,x]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[un,"auto",qe,He]}],basis:[{basis:[Uo,"full","auto",x,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xt,Uo,"auto","initial","none",He]}],grow:[{grow:["",xt,qe,He]}],shrink:[{shrink:["",xt,qe,He]}],order:[{order:[un,"first","last","none",qe,He]}],"grid-cols":[{"grid-cols":xe()}],"col-start-end":[{col:oe()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":xe()}],"row-start-end":[{row:oe()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":me()}],"auto-rows":[{"auto-rows":me()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[x,"screen",...q()]}],"min-w":[{"min-w":[x,"screen","none",...q()]}],"max-w":[{"max-w":[x,"screen","none","prose",{screen:[h]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",l,si,In]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,qe,bf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",vf,He]}],"font-family":[{font:[Kk,He,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,qe,He]}],"line-clamp":[{"line-clamp":[xt,"none",qe,bf]}],leading:[{leading:[u,...$()]}],"list-image":[{"list-image":["none",qe,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[xt,"from-font","auto",qe,In]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[xt,"auto",qe,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:ve()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},un,qe,He],radial:["",qe,He],conic:[un,qe,He]},Qk,Xk]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xt,qe,He]}],"outline-w":[{outline:["",xt,si,In]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",b,Zc,Kc]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",g,Zc,Kc]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[xt,In]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",j,Zc,Kc]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[xt,qe,He]}],"mix-blend":[{"mix-blend":[...te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[qe,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:ve()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,He]}],filter:[{filter:["","none",qe,He]}],blur:[{blur:he()}],brightness:[{brightness:[xt,qe,He]}],contrast:[{contrast:[xt,qe,He]}],"drop-shadow":[{"drop-shadow":["","none",w,Zc,Kc]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",xt,qe,He]}],"hue-rotate":[{"hue-rotate":[xt,qe,He]}],invert:[{invert:["",xt,qe,He]}],saturate:[{saturate:[xt,qe,He]}],sepia:[{sepia:["",xt,qe,He]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,He]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[xt,qe,He]}],"backdrop-contrast":[{"backdrop-contrast":[xt,qe,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xt,qe,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xt,qe,He]}],"backdrop-invert":[{"backdrop-invert":["",xt,qe,He]}],"backdrop-opacity":[{"backdrop-opacity":[xt,qe,He]}],"backdrop-saturate":[{"backdrop-saturate":[xt,qe,He]}],"backdrop-sepia":[{"backdrop-sepia":["",xt,qe,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xt,"initial",qe,He]}],ease:[{ease:["linear","initial",N,qe,He]}],delay:[{delay:[xt,qe,He]}],animate:[{animate:["none",T,qe,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,qe,He]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[qe,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,He]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[xt,si,In,bf]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},t4=Ok(e4);function Fe(...a){return t4(sy(a))}const Ad=oh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),I=m.forwardRef(({className:a,variant:n,size:l,asChild:i=!1,...c},u)=>{const h=i?ey:"button";return e.jsx(h,{"data-slot":"button",className:Fe(Ad({variant:n,size:l,className:a})),ref:u,...c})});I.displayName="Button";function Ee({className:a,type:n,...l}){return e.jsx("input",{type:n,"data-slot":"input",className:Fe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...l})}const s4=oh("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ke({className:a,variant:n,asChild:l=!1,...i}){const c=l?ey:"span";return e.jsx(c,{"data-slot":"badge",className:Fe(s4({variant:n}),a),...i})}function a4(a,n=[]){let l=[];function i(u,h){const x=m.createContext(h);x.displayName=u+"Context";const p=l.length;l=[...l,h];const v=g=>{const{scope:j,children:w,...C}=g,S=j?.[a]?.[p]||x,E=m.useMemo(()=>C,Object.values(C));return e.jsx(S.Provider,{value:E,children:w})};v.displayName=u+"Provider";function b(g,j){const w=j?.[a]?.[p]||x,C=m.useContext(w);if(C)return C;if(h!==void 0)return h;throw new Error(`\`${g}\` must be used within \`${u}\``)}return[v,b]}const c=()=>{const u=l.map(h=>m.createContext(h));return function(x){const p=x?.[a]||u;return m.useMemo(()=>({[`__scope${a}`]:{...x,[a]:p}}),[x,p])}};return c.scopeName=a,[i,r4(c,...n)]}function r4(...a){const n=a[0];if(a.length===1)return n;const l=()=>{const i=a.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const h=i.reduce((x,{useScope:p,scopeName:v})=>{const g=p(u)[`__scope${v}`];return{...x,...g}},{});return m.useMemo(()=>({[`__scope${n.scopeName}`]:h}),[h])}};return l.scopeName=n.scopeName,l}function Os(a){const n=m.useRef(a);return m.useEffect(()=>{n.current=a}),m.useMemo(()=>(...l)=>n.current?.(...l),[])}var ys=globalThis?.document?m.useLayoutEffect:()=>{},ki=$b();const xy=Ib(ki);var n4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ih=n4.reduce((a,n)=>{const l=Si(`Primitive.${n}`),i=m.forwardRef((c,u)=>{const{asChild:h,...x}=c,p=h?l:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(p,{...x,ref:u})});return i.displayName=`Primitive.${n}`,{...a,[n]:i}},{}),yf={exports:{}},jf={};var eb;function o4(){if(eb)return jf;eb=1;var a=kd();function n(g,j){return g===j&&(g!==0||1/g===1/j)||g!==g&&j!==j}var l=typeof Object.is=="function"?Object.is:n,i=a.useState,c=a.useEffect,u=a.useLayoutEffect,h=a.useDebugValue;function x(g,j){var w=j(),C=i({inst:{value:w,getSnapshot:j}}),S=C[0].inst,E=C[1];return u(function(){S.value=w,S.getSnapshot=j,p(S)&&E({inst:S})},[g,w,j]),c(function(){return p(S)&&E({inst:S}),g(function(){p(S)&&E({inst:S})})},[g]),h(w),w}function p(g){var j=g.getSnapshot;g=g.value;try{var w=j();return!l(g,w)}catch{return!0}}function v(g,j){return j()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:x;return jf.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:b,jf}var tb;function l4(){return tb||(tb=1,yf.exports=o4()),yf.exports}var i4=l4();function c4(){return i4.useSyncExternalStore(d4,()=>!0,()=>!1)}function d4(){return()=>{}}var ch="Avatar",[u4]=a4(ch),[m4,gy]=u4(ch),py=m.forwardRef((a,n)=>{const{__scopeAvatar:l,...i}=a,[c,u]=m.useState("idle");return e.jsx(m4,{scope:l,imageLoadingStatus:c,onImageLoadingStatusChange:u,children:e.jsx(ih.span,{...i,ref:n})})});py.displayName=ch;var vy="AvatarImage",by=m.forwardRef((a,n)=>{const{__scopeAvatar:l,src:i,onLoadingStatusChange:c=()=>{},...u}=a,h=gy(vy,l),x=f4(i,u),p=Os(v=>{c(v),h.onImageLoadingStatusChange(v)});return ys(()=>{x!=="idle"&&p(x)},[x,p]),x==="loaded"?e.jsx(ih.img,{...u,ref:n,src:i}):null});by.displayName=vy;var yy="AvatarFallback",jy=m.forwardRef((a,n)=>{const{__scopeAvatar:l,delayMs:i,...c}=a,u=gy(yy,l),[h,x]=m.useState(i===void 0);return m.useEffect(()=>{if(i!==void 0){const p=window.setTimeout(()=>x(!0),i);return()=>window.clearTimeout(p)}},[i]),h&&u.imageLoadingStatus!=="loaded"?e.jsx(ih.span,{...c,ref:n}):null});jy.displayName=yy;function sb(a,n){return a?n?(a.src!==n&&(a.src=n),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function f4(a,{referrerPolicy:n,crossOrigin:l}){const i=c4(),c=m.useRef(null),u=i?(c.current||(c.current=new window.Image),c.current):null,[h,x]=m.useState(()=>sb(u,a));return ys(()=>{x(sb(u,a))},[u,a]),ys(()=>{const p=g=>()=>{x(g)};if(!u)return;const v=p("loaded"),b=p("error");return u.addEventListener("load",v),u.addEventListener("error",b),n&&(u.referrerPolicy=n),typeof l=="string"&&(u.crossOrigin=l),()=>{u.removeEventListener("load",v),u.removeEventListener("error",b)}},[u,l,n]),h}var h4=py,x4=by,g4=jy;function as({className:a,...n}){return e.jsx(h4,{"data-slot":"avatar",className:Fe("relative flex size-10 shrink-0 overflow-hidden rounded-full",a),...n})}function vs({className:a,...n}){return e.jsx(x4,{"data-slot":"avatar-image",className:Fe("aspect-square size-full",a),...n})}function rs({className:a,...n}){return e.jsx(g4,{"data-slot":"avatar-fallback",className:Fe("bg-muted flex size-full items-center justify-center rounded-full",a),...n})}function js({theme:a,onToggle:n}){return e.jsx(I,{variant:"ghost",size:"icon",onClick:n,className:"rounded-full","aria-label":"Toggle theme",children:a==="dark"?e.jsx(Jb,{className:"w-5 h-5"}):e.jsx(Xb,{className:"w-5 h-5"})})}function Ff({title:a,author:n,rating:l,reviews:i,coverUrl:c,genre:u,isTrending:h,onClick:x}){return e.jsxs("div",{className:"group relative bg-card border border-border rounded-lg overflow-hidden hover:shadow-xl hover:border-primary/40 transition-all duration-300 cursor-pointer",onClick:x,children:[e.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden bg-muted",children:[e.jsx("img",{src:c,alt:a,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),h&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx(Ke,{className:"bg-accent text-background",children:"Trending"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"mb-1 line-clamp-1",children:a}),e.jsx("p",{className:"text-muted-foreground mb-3 line-clamp-1",children:n}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"w-4 h-4 fill-accent text-accent"}),e.jsx("span",{className:"text-sm",children:l}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",i,")"]})]}),u&&e.jsx("span",{className:"text-xs text-muted-foreground",children:u})]})]})]})}function ye({className:a,...n}){return e.jsx("div",{"data-slot":"card",className:Fe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",a),...n})}function Ge({className:a,...n}){return e.jsx("div",{"data-slot":"card-header",className:Fe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...n})}function Ve({className:a,...n}){return e.jsx("h4",{"data-slot":"card-title",className:Fe("leading-none",a),...n})}function ot({className:a,...n}){return e.jsx("p",{"data-slot":"card-description",className:Fe("text-muted-foreground",a),...n})}function Ae({className:a,...n}){return e.jsx("div",{"data-slot":"card-content",className:Fe("px-6 [&:last-child]:pb-6",a),...n})}function ud({className:a,...n}){return e.jsx("div",{"data-slot":"card-footer",className:Fe("flex items-center px-6 pb-6 [.border-t]:pt-6",a),...n})}function $n({className:a,...n}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:Fe("w-full caption-bottom text-sm",a),...n})})}function Hn({className:a,...n}){return e.jsx("thead",{"data-slot":"table-header",className:Fe("[&_tr]:border-b",a),...n})}function qn({className:a,...n}){return e.jsx("tbody",{"data-slot":"table-body",className:Fe("[&_tr:last-child]:border-0",a),...n})}function sa({className:a,...n}){return e.jsx("tr",{"data-slot":"table-row",className:Fe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...n})}function St({className:a,...n}){return e.jsx("th",{"data-slot":"table-head",className:Fe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...n})}function kt({className:a,...n}){return e.jsx("td",{"data-slot":"table-cell",className:Fe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...n})}function p4(a){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",n.appendChild(l),l.styleSheet?l.styleSheet.cssText=a:l.appendChild(document.createTextNode(a))}const v4=a=>{switch(a){case"success":return j4;case"info":return N4;case"warning":return w4;case"error":return S4;default:return null}},b4=Array(12).fill(0),y4=({visible:a,className:n})=>Re.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":a},Re.createElement("div",{className:"sonner-spinner"},b4.map((l,i)=>Re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),j4=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),w4=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N4=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),S4=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),k4=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),C4=()=>{const[a,n]=Re.useState(document.hidden);return Re.useEffect(()=>{const l=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",l),()=>window.removeEventListener("visibilitychange",l)},[]),a};let If=1;class R4{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const l=this.subscribers.indexOf(n);this.subscribers.splice(l,1)}),this.publish=n=>{this.subscribers.forEach(l=>l(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var l;const{message:i,...c}=n,u=typeof n?.id=="number"||((l=n.id)==null?void 0:l.length)>0?n.id:If++,h=this.toasts.find(p=>p.id===u),x=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),h?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...n,id:u,title:i}),{...p,...n,id:u,dismissible:x,title:i}):p):this.addToast({title:i,...c,dismissible:x,id:u}),u},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(l=>l({id:n,dismiss:!0})))):this.toasts.forEach(l=>{this.subscribers.forEach(i=>i({id:l.id,dismiss:!0}))}),n),this.message=(n,l)=>this.create({...l,message:n}),this.error=(n,l)=>this.create({...l,message:n,type:"error"}),this.success=(n,l)=>this.create({...l,type:"success",message:n}),this.info=(n,l)=>this.create({...l,type:"info",message:n}),this.warning=(n,l)=>this.create({...l,type:"warning",message:n}),this.loading=(n,l)=>this.create({...l,type:"loading",message:n}),this.promise=(n,l)=>{if(!l)return;let i;l.loading!==void 0&&(i=this.create({...l,promise:n,type:"loading",message:l.loading,description:typeof l.description!="function"?l.description:void 0}));const c=Promise.resolve(n instanceof Function?n():n);let u=i!==void 0,h;const x=c.then(async v=>{if(h=["resolve",v],Re.isValidElement(v))u=!1,this.create({id:i,type:"default",message:v});else if(_4(v)&&!v.ok){u=!1;const g=typeof l.error=="function"?await l.error(`HTTP error! status: ${v.status}`):l.error,j=typeof l.description=="function"?await l.description(`HTTP error! status: ${v.status}`):l.description,C=typeof g=="object"&&!Re.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:j,...C})}else if(v instanceof Error){u=!1;const g=typeof l.error=="function"?await l.error(v):l.error,j=typeof l.description=="function"?await l.description(v):l.description,C=typeof g=="object"&&!Re.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:j,...C})}else if(l.success!==void 0){u=!1;const g=typeof l.success=="function"?await l.success(v):l.success,j=typeof l.description=="function"?await l.description(v):l.description,C=typeof g=="object"&&!Re.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:j,...C})}}).catch(async v=>{if(h=["reject",v],l.error!==void 0){u=!1;const b=typeof l.error=="function"?await l.error(v):l.error,g=typeof l.description=="function"?await l.description(v):l.description,w=typeof b=="object"&&!Re.isValidElement(b)?b:{message:b};this.create({id:i,type:"error",description:g,...w})}}).finally(()=>{u&&(this.dismiss(i),i=void 0),l.finally==null||l.finally.call(l)}),p=()=>new Promise((v,b)=>x.then(()=>h[0]==="reject"?b(h[1]):v(h[1])).catch(b));return typeof i!="string"&&typeof i!="number"?{unwrap:p}:Object.assign(i,{unwrap:p})},this.custom=(n,l)=>{const i=l?.id||If++;return this.create({jsx:n(i),id:i,...l}),i},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const aa=new R4,A4=(a,n)=>{const l=n?.id||If++;return aa.addToast({title:a,...n,id:l}),l},_4=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",E4=A4,T4=()=>aa.toasts,D4=()=>aa.getActiveToasts(),K=Object.assign(E4,{success:aa.success,info:aa.info,warning:aa.warning,error:aa.error,custom:aa.custom,message:aa.message,promise:aa.promise,dismiss:aa.dismiss,loading:aa.loading},{getHistory:T4,getToasts:D4});p4("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qc(a){return a.label!==void 0}const M4=3,O4="24px",P4="16px",ab=4e3,z4=356,B4=14,L4=45,U4=200;function Wa(...a){return a.filter(Boolean).join(" ")}function F4(a){const[n,l]=a.split("-"),i=[];return n&&i.push(n),l&&i.push(l),i}const I4=a=>{var n,l,i,c,u,h,x,p,v;const{invert:b,toast:g,unstyled:j,interacting:w,setHeights:C,visibleToasts:S,heights:E,index:N,toasts:T,expanded:R,removeToast:D,defaultRichColors:_,closeButton:O,style:P,cancelButtonStyle:$,actionButtonStyle:se,className:xe="",descriptionClassName:oe="",duration:W,position:me,gap:ue,expandByDefault:ce,classNames:A,icons:q,closeButtonAriaLabel:M="Close toast"}=a,[ae,ve]=Re.useState(null),[B,Z]=Re.useState(null),[U,Q]=Re.useState(!1),[le,te]=Re.useState(!1),[G,he]=Re.useState(!1),[Ne,_e]=Re.useState(!1),[Be,Pe]=Re.useState(!1),[ct,Se]=Re.useState(0),[L,we]=Re.useState(0),Le=Re.useRef(g.duration||W||ab),ee=Re.useRef(null),Qe=Re.useRef(null),ke=N===0,Ue=N+1<=S,Ye=g.type,nt=g.dismissible!==!1,Gt=g.className||"",Es=g.descriptionClassName||"",Ze=Re.useMemo(()=>E.findIndex(Je=>Je.toastId===g.id)||0,[E,g.id]),lt=Re.useMemo(()=>{var Je;return(Je=g.closeButton)!=null?Je:O},[g.closeButton,O]),Et=Re.useMemo(()=>g.duration||W||ab,[g.duration,W]),Pt=Re.useRef(0),Te=Re.useRef(0),De=Re.useRef(0),_t=Re.useRef(null),[gt,Tt]=me.split("-"),jt=Re.useMemo(()=>E.reduce((Je,At,Vt)=>Vt>=Ze?Je:Je+At.height,0),[E,Ze]),Xt=C4(),Fs=g.invert||b,Ma=Ye==="loading";Te.current=Re.useMemo(()=>Ze*ue+jt,[Ze,jt]),Re.useEffect(()=>{Le.current=Et},[Et]),Re.useEffect(()=>{Q(!0)},[]),Re.useEffect(()=>{const Je=Qe.current;if(Je){const At=Je.getBoundingClientRect().height;return we(At),C(Vt=>[{toastId:g.id,height:At,position:g.position},...Vt]),()=>C(Vt=>Vt.filter(ts=>ts.toastId!==g.id))}},[C,g.id]),Re.useLayoutEffect(()=>{if(!U)return;const Je=Qe.current,At=Je.style.height;Je.style.height="auto";const Vt=Je.getBoundingClientRect().height;Je.style.height=At,we(Vt),C(ts=>ts.find(Y=>Y.toastId===g.id)?ts.map(Y=>Y.toastId===g.id?{...Y,height:Vt}:Y):[{toastId:g.id,height:Vt,position:g.position},...ts])},[U,g.title,g.description,C,g.id,g.jsx,g.action,g.cancel]);const Ts=Re.useCallback(()=>{te(!0),Se(Te.current),C(Je=>Je.filter(At=>At.toastId!==g.id)),setTimeout(()=>{D(g)},U4)},[g,D,C,Te]);Re.useEffect(()=>{if(g.promise&&Ye==="loading"||g.duration===1/0||g.type==="loading")return;let Je;return R||w||Xt?(()=>{if(De.current<Pt.current){const ts=new Date().getTime()-Pt.current;Le.current=Le.current-ts}De.current=new Date().getTime()})():(()=>{Le.current!==1/0&&(Pt.current=new Date().getTime(),Je=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Ts()},Le.current))})(),()=>clearTimeout(Je)},[R,w,g,Ye,Xt,Ts]),Re.useEffect(()=>{g.delete&&(Ts(),g.onDismiss==null||g.onDismiss.call(g,g))},[Ts,g.delete]);function Wt(){var Je;if(q?.loading){var At;return Re.createElement("div",{className:Wa(A?.loader,g==null||(At=g.classNames)==null?void 0:At.loader,"sonner-loader"),"data-visible":Ye==="loading"},q.loading)}return Re.createElement(y4,{className:Wa(A?.loader,g==null||(Je=g.classNames)==null?void 0:Je.loader),visible:Ye==="loading"})}const la=g.icon||q?.[Ye]||v4(Ye);var Ds,ms;return Re.createElement("li",{tabIndex:0,ref:Qe,className:Wa(xe,Gt,A?.toast,g==null||(n=g.classNames)==null?void 0:n.toast,A?.default,A?.[Ye],g==null||(l=g.classNames)==null?void 0:l[Ye]),"data-sonner-toast":"","data-rich-colors":(Ds=g.richColors)!=null?Ds:_,"data-styled":!(g.jsx||g.unstyled||j),"data-mounted":U,"data-promise":!!g.promise,"data-swiped":Be,"data-removed":le,"data-visible":Ue,"data-y-position":gt,"data-x-position":Tt,"data-index":N,"data-front":ke,"data-swiping":G,"data-dismissible":nt,"data-type":Ye,"data-invert":Fs,"data-swipe-out":Ne,"data-swipe-direction":B,"data-expanded":!!(R||ce&&U),"data-testid":g.testId,style:{"--index":N,"--toasts-before":N,"--z-index":T.length-N,"--offset":`${le?ct:Te.current}px`,"--initial-height":ce?"auto":`${L}px`,...P,...g.style},onDragEnd:()=>{he(!1),ve(null),_t.current=null},onPointerDown:Je=>{Je.button!==2&&(Ma||!nt||(ee.current=new Date,Se(Te.current),Je.target.setPointerCapture(Je.pointerId),Je.target.tagName!=="BUTTON"&&(he(!0),_t.current={x:Je.clientX,y:Je.clientY})))},onPointerUp:()=>{var Je,At,Vt;if(Ne||!nt)return;_t.current=null;const ts=Number(((Je=Qe.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),V=Number(((At=Qe.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Y=new Date().getTime()-((Vt=ee.current)==null?void 0:Vt.getTime()),be=ae==="x"?ts:V,at=Math.abs(be)/Y;if(Math.abs(be)>=L4||at>.11){Se(Te.current),g.onDismiss==null||g.onDismiss.call(g,g),Z(ae==="x"?ts>0?"right":"left":V>0?"down":"up"),Ts(),_e(!0);return}else{var mt,X;(mt=Qe.current)==null||mt.style.setProperty("--swipe-amount-x","0px"),(X=Qe.current)==null||X.style.setProperty("--swipe-amount-y","0px")}Pe(!1),he(!1),ve(null)},onPointerMove:Je=>{var At,Vt,ts;if(!_t.current||!nt||((At=window.getSelection())==null?void 0:At.toString().length)>0)return;const Y=Je.clientY-_t.current.y,be=Je.clientX-_t.current.x;var at;const mt=(at=a.swipeDirections)!=null?at:F4(me);!ae&&(Math.abs(be)>1||Math.abs(Y)>1)&&ve(Math.abs(be)>Math.abs(Y)?"x":"y");let X={x:0,y:0};const je=tt=>1/(1.5+Math.abs(tt)/20);if(ae==="y"){if(mt.includes("top")||mt.includes("bottom"))if(mt.includes("top")&&Y<0||mt.includes("bottom")&&Y>0)X.y=Y;else{const tt=Y*je(Y);X.y=Math.abs(tt)<Math.abs(Y)?tt:Y}}else if(ae==="x"&&(mt.includes("left")||mt.includes("right")))if(mt.includes("left")&&be<0||mt.includes("right")&&be>0)X.x=be;else{const tt=be*je(be);X.x=Math.abs(tt)<Math.abs(be)?tt:be}(Math.abs(X.x)>0||Math.abs(X.y)>0)&&Pe(!0),(Vt=Qe.current)==null||Vt.style.setProperty("--swipe-amount-x",`${X.x}px`),(ts=Qe.current)==null||ts.style.setProperty("--swipe-amount-y",`${X.y}px`)}},lt&&!g.jsx&&Ye!=="loading"?Re.createElement("button",{"aria-label":M,"data-disabled":Ma,"data-close-button":!0,onClick:Ma||!nt?()=>{}:()=>{Ts(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Wa(A?.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(ms=q?.close)!=null?ms:k4):null,(Ye||g.icon||g.promise)&&g.icon!==null&&(q?.[Ye]!==null||g.icon)?Re.createElement("div",{"data-icon":"",className:Wa(A?.icon,g==null||(c=g.classNames)==null?void 0:c.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Wt():null,g.type!=="loading"?la:null):null,Re.createElement("div",{"data-content":"",className:Wa(A?.content,g==null||(u=g.classNames)==null?void 0:u.content)},Re.createElement("div",{"data-title":"",className:Wa(A?.title,g==null||(h=g.classNames)==null?void 0:h.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?Re.createElement("div",{"data-description":"",className:Wa(oe,Es,A?.description,g==null||(x=g.classNames)==null?void 0:x.description)},typeof g.description=="function"?g.description():g.description):null),Re.isValidElement(g.cancel)?g.cancel:g.cancel&&Qc(g.cancel)?Re.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||$,onClick:Je=>{Qc(g.cancel)&&nt&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Je),Ts())},className:Wa(A?.cancelButton,g==null||(p=g.classNames)==null?void 0:p.cancelButton)},g.cancel.label):null,Re.isValidElement(g.action)?g.action:g.action&&Qc(g.action)?Re.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||se,onClick:Je=>{Qc(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Je),!Je.defaultPrevented&&Ts())},className:Wa(A?.actionButton,g==null||(v=g.classNames)==null?void 0:v.actionButton)},g.action.label):null)};function rb(){if(typeof window>"u"||typeof document>"u")return"ltr";const a=document.documentElement.getAttribute("dir");return a==="auto"||!a?window.getComputedStyle(document.documentElement).direction:a}function $4(a,n){const l={};return[a,n].forEach((i,c)=>{const u=c===1,h=u?"--mobile-offset":"--offset",x=u?P4:O4;function p(v){["top","right","bottom","left"].forEach(b=>{l[`${h}-${b}`]=typeof v=="number"?`${v}px`:v})}typeof i=="number"||typeof i=="string"?p(i):typeof i=="object"?["top","right","bottom","left"].forEach(v=>{i[v]===void 0?l[`${h}-${v}`]=x:l[`${h}-${v}`]=typeof i[v]=="number"?`${i[v]}px`:i[v]}):p(x)}),l}const H4=Re.forwardRef(function(n,l){const{id:i,invert:c,position:u="bottom-right",hotkey:h=["altKey","KeyT"],expand:x,closeButton:p,className:v,offset:b,mobileOffset:g,theme:j="light",richColors:w,duration:C,style:S,visibleToasts:E=M4,toastOptions:N,dir:T=rb(),gap:R=B4,icons:D,containerAriaLabel:_="Notifications"}=n,[O,P]=Re.useState([]),$=Re.useMemo(()=>i?O.filter(U=>U.toasterId===i):O.filter(U=>!U.toasterId),[O,i]),se=Re.useMemo(()=>Array.from(new Set([u].concat($.filter(U=>U.position).map(U=>U.position)))),[$,u]),[xe,oe]=Re.useState([]),[W,me]=Re.useState(!1),[ue,ce]=Re.useState(!1),[A,q]=Re.useState(j!=="system"?j:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=Re.useRef(null),ae=h.join("+").replace(/Key/g,"").replace(/Digit/g,""),ve=Re.useRef(null),B=Re.useRef(!1),Z=Re.useCallback(U=>{P(Q=>{var le;return(le=Q.find(te=>te.id===U.id))!=null&&le.delete||aa.dismiss(U.id),Q.filter(({id:te})=>te!==U.id)})},[]);return Re.useEffect(()=>aa.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{P(Q=>Q.map(le=>le.id===U.id?{...le,delete:!0}:le))});return}setTimeout(()=>{xy.flushSync(()=>{P(Q=>{const le=Q.findIndex(te=>te.id===U.id);return le!==-1?[...Q.slice(0,le),{...Q[le],...U},...Q.slice(le+1)]:[U,...Q]})})})}),[O]),Re.useEffect(()=>{if(j!=="system"){q(j);return}if(j==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:Q})=>{q(Q?"dark":"light")})}catch{U.addListener(({matches:le})=>{try{q(le?"dark":"light")}catch(te){console.error(te)}})}},[j]),Re.useEffect(()=>{O.length<=1&&me(!1)},[O]),Re.useEffect(()=>{const U=Q=>{var le;if(h.every(he=>Q[he]||Q.code===he)){var G;me(!0),(G=M.current)==null||G.focus()}Q.code==="Escape"&&(document.activeElement===M.current||(le=M.current)!=null&&le.contains(document.activeElement))&&me(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[h]),Re.useEffect(()=>{if(M.current)return()=>{ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null,B.current=!1)}},[M.current]),Re.createElement("section",{ref:l,"aria-label":`${_} ${ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},se.map((U,Q)=>{var le;const[te,G]=U.split("-");return $.length?Re.createElement("ol",{key:U,dir:T==="auto"?rb():T,tabIndex:-1,ref:M,className:v,"data-sonner-toaster":!0,"data-sonner-theme":A,"data-y-position":te,"data-x-position":G,style:{"--front-toast-height":`${((le=xe[0])==null?void 0:le.height)||0}px`,"--width":`${z4}px`,"--gap":`${R}px`,...S,...$4(b,g)},onBlur:he=>{B.current&&!he.currentTarget.contains(he.relatedTarget)&&(B.current=!1,ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||B.current||(B.current=!0,ve.current=he.relatedTarget)},onMouseEnter:()=>me(!0),onMouseMove:()=>me(!0),onMouseLeave:()=>{ue||me(!1)},onDragEnd:()=>me(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},$.filter(he=>!he.position&&Q===0||he.position===U).map((he,Ne)=>{var _e,Be;return Re.createElement(I4,{key:he.id,icons:D,index:Ne,toast:he,defaultRichColors:w,duration:(_e=N?.duration)!=null?_e:C,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:c,visibleToasts:E,closeButton:(Be=N?.closeButton)!=null?Be:p,interacting:ue,position:U,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:Z,toasts:$.filter(Pe=>Pe.position==he.position),heights:xe.filter(Pe=>Pe.position==he.position),setHeights:oe,expandByDefault:x,gap:R,expanded:W,swipeDirections:n.swipeDirections})})):null}))}),rt={region:"us-east-1",cognito:{userPoolId:"us-east-1_0xoMJ0FRU",clientId:"oeo0vimkba2mduiommesnadmc"},api:{baseUrl:"https://f0gzb9kak6.execute-api.us-east-1.amazonaws.com/prod",endpoints:{profile:"/profile",updateProfile:"/profile",deleteAccount:"/profile",books:"/books",profilePicture:"/picture",userStats:"/stats",preSignedUrl:"/profile/picture/url",changePassword:"/auth/change-password",adminStats:"/admin/stats",adminReports:"/admin/reports",adminUsers:"/admin/users",adminAuthors:"/admin/authors",adminBooks:"/admin/books",toggleUserStatus:"/admin/users",addBook:"/admin/books/add",searchUsers:"/users/search",getUserById:"/users",users:"/users",lists:"/lists",createList:"/lists",updateList:"/lists",deleteList:"/lists",genres:"/genres",genreFavorite:"/genres",recommendations:"/recommendations",recordInteraction:"/interactions",authorBooks:"/author/books",submitBook:"/author/books",updatePendingBook:"/author/books",deletePendingBook:"/author/books",searchAuthors:"/author",authorProfile:"/author",submitAuthorVerification:"/author/verification",getVerificationStatus:"/author/verification",adminVerificationRequests:"/admin/verification-requests",approveVerification:"/admin/verification-requests",rejectVerification:"/admin/verification-requests",notifications:"/notifications",markNotificationRead:"/notifications",deleteNotification:"/notifications",markAllNotificationsRead:"/notifications/mark-all-read",notificationPreferences:"/notifications/preferences",followAuthor:"/authors",checkAuthorFollow:"/authors",getAuthorFollowers:"/authors"}},s3:{bucketName:"bookarc-profile-pictures",verificationBucket:"bookarc-verification-documents",region:"us-east-1"}},Gn=a=>`${rt.api.baseUrl}${a}`;class q4{cognitoUrl;constructor(){this.cognitoUrl=`https://cognito-idp.${rt.region}.amazonaws.com/`}async makeRequest(n,l){const i=await fetch(this.cognitoUrl,{method:"POST",headers:{"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":`AWSCognitoIdentityProviderService.${n}`},body:JSON.stringify(l)}),c=await i.json();if(!i.ok)throw new Error(c.message||c.__type||"Authentication failed");return c}async register(n){try{return await this.makeRequest("SignUp",{ClientId:rt.cognito.clientId,Username:n.email,Password:n.password,UserAttributes:[{Name:"email",Value:n.email},{Name:"name",Value:n.displayName},{Name:"preferred_username",Value:n.username}]}),{success:!0,message:"Registration successful! Please check your email for verification code."}}catch(l){throw new Error(l.message||"Registration failed")}}async confirmSignUp(n,l){await this.makeRequest("ConfirmSignUp",{ClientId:rt.cognito.clientId,Username:n,ConfirmationCode:l})}async login(n){const i=(await this.makeRequest("InitiateAuth",{ClientId:rt.cognito.clientId,AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:{USERNAME:n.email,PASSWORD:n.password}})).AuthenticationResult,c=JSON.parse(atob(i.IdToken.split(".")[1])),u={username:c.name,email:c.email,idToken:i.IdToken,accessToken:i.AccessToken,refreshToken:i.RefreshToken};return localStorage.setItem("userSession",JSON.stringify(u)),u}logout(){localStorage.removeItem("userSession")}getCurrentSession(){const n=localStorage.getItem("userSession");if(!n)return null;try{return JSON.parse(n)}catch{return null}}isAuthenticated(){return this.getCurrentSession()!==null}getIdToken(){return this.getCurrentSession()?.idToken||null}getAccessToken(){return this.getCurrentSession()?.accessToken||null}async resendVerificationCode(n){await this.makeRequest("ResendConfirmationCode",{ClientId:rt.cognito.clientId,Username:n})}async forgotPassword(n){await this.makeRequest("ForgotPassword",{ClientId:rt.cognito.clientId,Username:n})}async resetPassword(n,l,i){await this.makeRequest("ConfirmForgotPassword",{ClientId:rt.cognito.clientId,Username:n,ConfirmationCode:l,Password:i})}async changePassword(n,l){const i=this.getIdToken(),c=this.getAccessToken();if(console.log(" DEBUG: ID Token exists?",!!i),console.log(" DEBUG: Access Token exists?",!!c),console.log(" DEBUG: ID Token (first 50 chars):",i?.substring(0,50)),console.log(" DEBUG: Access Token (first 50 chars):",c?.substring(0,50)),!i||!c)throw new Error("Not authenticated - please log in again");const u=`${rt.api.baseUrl}${rt.api.endpoints.changePassword}`;console.log(" DEBUG: Request URL:",u);const h={oldPassword:n,newPassword:l,accessToken:c};console.log(" DEBUG: Request body keys:",Object.keys(h));const x=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(h)});console.log(" DEBUG: Response status:",x.status);const p=await x.json();if(console.log(" DEBUG: Response data:",p),!x.ok)throw console.error(" API Error:",p),new Error(p.message||p.error||"Failed to change password");return p}}const ar=new q4,Fo=Object.freeze(Object.defineProperty({__proto__:null,authService:ar},Symbol.toStringTag,{value:"Module"}));class G4{getIdToken(){return ar.getIdToken()}async makeRequest(n,l={}){console.log(" ===== API REQUEST START =====");const i=ar.getIdToken();if(console.log(" Getting token..."),console.log(" Token exists?",!!i),!i)throw console.error(" NO TOKEN - User not authenticated"),new Error("Not authenticated");const c=Gn(n);console.log(" Full URL:",c),console.log(" Method:",l.method||"GET"),console.log(" Endpoint:",n),console.log(" Body:",l.body),console.log(" Sending fetch request...");const u=await fetch(c,{...l,headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,...l.headers}});if(console.log(" Response received:"),console.log("   Status:",u.status),console.log("   Status Text:",u.statusText),console.log("   OK?",u.ok),!u.ok){const x=await u.text();console.error(" Error response body:",x);let p;try{p=JSON.parse(x)}catch{p={message:x}}throw console.error(" Parsed error:",p),new Error(p.message||`HTTP ${u.status}`)}const h=await u.json();return console.log(" ===== API REQUEST SUCCESS ====="),console.log(" Response data:",h),h}async getUserProfile(){return this.makeRequest(rt.api.endpoints.profile,{method:"GET"})}async updateUserProfile(n){return this.makeRequest(rt.api.endpoints.updateProfile,{method:"PUT",body:JSON.stringify(n)})}async deleteUserAccount(){return this.makeRequest(rt.api.endpoints.deleteAccount,{method:"DELETE",body:JSON.stringify({confirm_delete:!0})})}async getBooks(n){const l=n?"?"+new URLSearchParams(n).toString():"";return this.makeRequest(`${rt.api.endpoints.books}${l}`,{method:"GET"})}async getUserStats(){return this.makeRequest(rt.api.endpoints.userStats,{method:"GET"})}async getPreSignedUrl(n){const l=new URLSearchParams({fileType:n.fileType,fileName:n.fileName}).toString();return this.makeRequest(`${rt.api.endpoints.preSignedUrl}?${l}`,{method:"GET"})}async uploadToS3(n,l){if(!(await fetch(n,{method:"PUT",body:l,headers:{"Content-Type":l.type}})).ok)throw new Error("Failed to upload file to S3")}async uploadProfilePicture(n){const{uploadUrl:l,fileUrl:i,key:c}=await this.getPreSignedUrl({fileType:n.type,fileName:n.name});await this.uploadToS3(l,n);const u=await this.updateUserProfile({profile_image:i});return{fileUrl:i,profile:u}}async updateProfilePictureUrl(n){return this.makeRequest(rt.api.endpoints.profilePicture,{method:"POST",body:JSON.stringify(n)})}async getAdminStats(){return this.makeRequest(rt.api.endpoints.adminStats,{method:"GET"})}async getAdminReports(n){const l=n?"?"+new URLSearchParams(n).toString():"";return this.makeRequest(`${rt.api.endpoints.adminReports}${l}`,{method:"GET"})}async getAdminUsers(n){const l=n?"?"+new URLSearchParams(Object.entries(n).reduce((i,[c,u])=>(i[c]=String(u),i),{})).toString():"";return this.makeRequest(`${rt.api.endpoints.adminUsers}${l}`,{method:"GET"})}async getAdminAuthors(n){const l=n?"?"+new URLSearchParams(Object.entries(n).reduce((i,[c,u])=>(i[c]=String(u),i),{})).toString():"";return this.makeRequest(`${rt.api.endpoints.adminAuthors}${l}`,{method:"GET"})}async getAdminBooks(n){const l=n?"?"+new URLSearchParams(Object.entries(n).reduce((i,[c,u])=>(i[c]=String(u),i),{})).toString():"";return this.makeRequest(`${rt.api.endpoints.adminBooks}${l}`,{method:"GET"})}async toggleUserStatus(n,l){const i=`${rt.api.endpoints.toggleUserStatus}/${n}/toggle-status`;return this.makeRequest(i,{method:"POST",body:JSON.stringify({action:l})})}async addBook(n){return this.makeRequest(rt.api.endpoints.addBook,{method:"POST",body:JSON.stringify(n)})}async searchUsers(n){const l=new URLSearchParams(Object.entries(n).reduce((i,[c,u])=>(u!==void 0&&(i[c]=String(u)),i),{})).toString();return this.makePublicRequest(`${rt.api.endpoints.searchUsers}?${l}`,{method:"GET"})}async getUserById(n){console.log(` API: Calling getUserById for user ${n}`),console.log(` API: Type of userId: ${typeof n}`),console.log(` API: userId value: ${n}`);const l=`${rt.api.endpoints.getUserById}/${n}`;console.log(` API: Full URL will be: ${Gn(l)}`);try{const i=await this.makeRequest(l,{method:"GET"});return console.log(` API: Successfully fetched user ${n}`,i),i}catch(i){throw console.error(` API: Error fetching user ${n}:`,{error:i.message,endpoint:l,fullUrl:Gn(l)}),i}}async followUser(n){const l=`${rt.api.endpoints.users}/${n}/follow`;return this.makeRequest(l,{method:"POST",body:JSON.stringify({action:"follow"})})}async unfollowUser(n){const l=`${rt.api.endpoints.users}/${n}/follow`;return this.makeRequest(l,{method:"POST",body:JSON.stringify({action:"unfollow"})})}async getUserFollowers(n){const l=`${rt.api.endpoints.users}/${n}/followers`;return this.makePublicRequest(l,{method:"GET"})}async getUserFollowing(n){const l=`${rt.api.endpoints.users}/${n}/following`;return this.makePublicRequest(l,{method:"GET"})}async checkFollowStatus(n){const l=`${rt.api.endpoints.users}/${n}/follower-status`;return this.makePublicRequest(l,{method:"GET"})}async getUserLists(){return this.makeRequest(rt.api.endpoints.lists,{method:"GET"})}async createList(n){return this.makeRequest(rt.api.endpoints.createList,{method:"POST",body:JSON.stringify(n)})}async updateList(n,l){const i=`${rt.api.endpoints.updateList}/${n}`;return this.makeRequest(i,{method:"PUT",body:JSON.stringify(l)})}async deleteList(n){const l=`${rt.api.endpoints.deleteList}/${n}`;return this.makeRequest(l,{method:"DELETE"})}async toggleListVisibility(n,l){const i=`${rt.api.endpoints.updateList}/${n}/visibility`;return this.makeRequest(i,{method:"PATCH",body:JSON.stringify({visibility:l})})}async getUserListsById(n){const l=`${rt.api.endpoints.users}/${n}/lists`,i=Gn(l),c=this.getIdToken(),u={"Content-Type":"application/json"};c&&(u.Authorization=`Bearer ${c}`);try{const h=await fetch(i,{method:"GET",headers:u});if(!h.ok){const x=await h.json().catch(()=>({message:"Request failed"}));throw new Error(x.message||`HTTP ${h.status}`)}return h.json()}catch(h){throw console.error(` Error fetching lists for user ${n}:`,h),h}}async getAllGenres(){try{return await this.makeRequest("/genres",{method:"GET"})}catch(n){if(!this.getIdToken()){const i=Gn("/genres"),c=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json"}});if(!c.ok)throw new Error("Failed to fetch genres");return c.json()}throw n}}async favoriteGenre(n){const l=`/genres/${n}/favorite`;return this.makeRequest(l,{method:"POST",body:JSON.stringify({action:"favorite"})})}async unfavoriteGenre(n){const l=`/genres/${n}/favorite`;return this.makeRequest(l,{method:"POST",body:JSON.stringify({action:"unfavorite"})})}async getUserFavoriteGenres(){console.log(" Calling getAllGenres()...");const n=await this.getAllGenres();console.log(" getAllGenres response:",n),console.log(" Total genres returned:",n.genres?.length),console.log(" Checking is_favorited flags:",n.genres?.map(i=>({name:i.genre_name,is_favorited:i.is_favorited})));const l=n.genres.filter(i=>i.is_favorited);return console.log(" Favorited genres after filter:",l),console.log(" Number of favorited genres:",l.length),{genres:l.map(i=>({genre_id:i.genre_id,genre_name:i.genre_name,book_count:i.book_count})),total:l.length}}async getRecommendations(n){const l=n?"?"+new URLSearchParams(Object.entries(n).reduce((i,[c,u])=>(u!==void 0&&(i[c]=String(u)),i),{})).toString():"";return this.makeRequest(`${rt.api.endpoints.recommendations}${l}`,{method:"GET"})}async recordInteraction(n){return this.makeRequest(rt.api.endpoints.recordInteraction,{method:"POST",body:JSON.stringify(n)})}async submitBook(n){return this.makeRequest("/author/books",{method:"POST",body:JSON.stringify(n)})}async getAuthorBooks(){return this.makeRequest("/author/books",{method:"GET"})}async updatePendingBook(n,l){const i=`/author/books/${n}`;return this.makeRequest(i,{method:"PUT",body:JSON.stringify(l)})}async deletePendingBook(n){const l=`/author/books/${n}`;return this.makeRequest(l,{method:"DELETE"})}async getAdminPendingBooks(n){const l=n?"?"+new URLSearchParams(Object.entries(n).reduce((i,[c,u])=>(u!==void 0&&(i[c]=String(u)),i),{})).toString():"";return this.makeRequest(`/admin/books/pending${l}`,{method:"GET"})}async approveBook(n){const l=`/admin/books/${n}/approve`;return this.makeRequest(l,{method:"POST"})}async rejectBook(n,l){const i=`/admin/books/${n}/reject`;return this.makeRequest(i,{method:"POST",body:JSON.stringify({rejection_reason:l})})}async searchAuthors(n){const l=new URLSearchParams(Object.entries(n).reduce((i,[c,u])=>(u!==void 0&&(i[c]=String(u)),i),{})).toString();return this.makePublicRequest(`${rt.api.endpoints.searchAuthors}?${l}`,{method:"GET"})}async getAuthorProfile(n,l){console.log(` API: Fetching author profile for ID: ${n}, type: ${l||"auto"}`);const i=`/author/${n}`;console.log(` Using endpoint: ${i}`);try{const c=await this.makePublicRequest(i,{method:"GET"});return console.log(" API: Successfully fetched author profile:",c),console.log(` User ID: ${c.id}, Author ID: ${c.authorId}`),c}catch(c){throw console.error(` API: Error fetching author profile for ID ${n}:`,c),c}}async submitAuthorVerification(n){return this.makeRequest("/author/verification",{method:"POST",body:JSON.stringify(n)})}async getVerificationStatus(){return this.makeRequest("/author/verification",{method:"GET"})}async getAdminVerificationRequests(n){const l=n?"?"+new URLSearchParams(Object.entries(n).reduce((i,[c,u])=>(u!==void 0&&(i[c]=String(u)),i),{})).toString():"";return this.makeRequest(`/admin/verification-requests${l}`,{method:"GET"})}async approveAuthorVerification(n){const l=`/admin/verification-requests/${n}/approve`;return this.makeRequest(l,{method:"POST"})}async rejectAuthorVerification(n,l){const i=`/admin/verification-requests/${n}/reject`;return this.makeRequest(i,{method:"POST",body:JSON.stringify({rejection_reason:l})})}async getAuthorBookStats(){return this.makeRequest("/author/books/stats",{method:"GET"})}async getNotifications(n){const l=n?"?"+new URLSearchParams(Object.entries(n).reduce((i,[c,u])=>(u!==void 0&&(i[c]=String(u)),i),{})).toString():"";return this.makeRequest(`${rt.api.endpoints.notifications}${l}`,{method:"GET"})}async markNotificationAsRead(n){const l=`${rt.api.endpoints.markNotificationRead}/${n}/read`;return this.makeRequest(l,{method:"PATCH"})}async markAllNotificationsAsRead(){return this.makeRequest(rt.api.endpoints.markAllNotificationsRead,{method:"PATCH"})}async deleteNotification(n){const l=`${rt.api.endpoints.deleteNotification}/${n}`;return this.makeRequest(l,{method:"DELETE"})}async getNotificationPreferences(){return this.makeRequest(rt.api.endpoints.notificationPreferences,{method:"GET"})}async updateNotificationPreferences(n){return this.makeRequest(rt.api.endpoints.notificationPreferences,{method:"PUT",body:JSON.stringify(n)})}async makePublicRequest(n,l={}){const i=Gn(n),c=this.getIdToken(),u={"Content-Type":"application/json",...l.headers};c&&(u.Authorization=`Bearer ${c}`);const h=await fetch(i,{...l,headers:u});if(!h.ok){if(h.status===401){if(console.log("  401 Unauthorized on public endpoint:",n),n.includes("/followers"))return console.log(" Returning empty followers array for unauthenticated request"),{followers:[],total:0};if(n.includes("/following"))return console.log(" Returning empty following array for unauthenticated request"),{following:[],total:0};const p=await h.json().catch(()=>({message:"Unauthorized"}));throw new Error(p.message||"Unauthorized")}const x=await h.json().catch(()=>({message:"Request failed"}));throw new Error(x.message||`HTTP ${h.status}`)}return h.json()}async rateAuthor(n,l){const i=`/authors/${n}/rating`,c=Gn(i);console.log(" RATING REQUEST:",{authorId:n,ratingValue:l,fullUrl:c,method:"POST",hasToken:!!this.getIdToken()});try{const u=await this.makeRequest(i,{method:"POST",body:JSON.stringify({rating_value:l})});return console.log(" RATING RESPONSE:",u),u}catch(u){throw console.error(" RATING ERROR:",{message:u.message,endpoint:i,fullUrl:c}),u}}async getUserAuthorRating(n){const l=`/authors/${n}/rating`;return this.makeRequest(l,{method:"GET"})}async deleteAuthorRating(n){const l=`/authors/${n}/rating`;return this.makeRequest(l,{method:"DELETE"})}async writeAuthorReview(n,l){const i=`/authors/${n}/review`;return this.makeRequest(i,{method:"POST",body:JSON.stringify({review_text:l})})}async getUserAuthorReview(n){const l=`/authors/${n}/review`;return this.makeRequest(l,{method:"GET"})}async updateAuthorReview(n,l){const i=`/authors/${n}/review`;return this.makeRequest(i,{method:"PUT",body:JSON.stringify({review_text:l})})}async deleteAuthorReview(n){const l=`/authors/${n}/review`;return this.makeRequest(l,{method:"DELETE"})}async getAuthorReviews(n){const l=`/authors/${n}/reviews`;return this.makePublicRequest(l,{method:"GET"})}async followAuthor(n,l){const i=`/authors/${n}/follow`;return this.makeRequest(i,{method:"POST",body:JSON.stringify({action:"follow",author_type:l})})}async unfollowAuthor(n,l){const i=`/authors/${n}/follow`;return this.makeRequest(i,{method:"POST",body:JSON.stringify({action:"unfollow",author_type:l})})}async checkAuthorFollowStatus(n){const l=`/authors/${n}/follow-status`;return this.makePublicRequest(l,{method:"GET"})}async getFollowedAuthors(){return this.makeRequest("/author/following",{method:"GET"})}async getAuthorFollowers(n){const l=`/authors/${n}/followers`;return this.makePublicRequest(l,{method:"GET"})}async addBookToList(n,l){return console.log(" Adding book to list:",{listId:n,bookId:l}),this.makeRequest(`${rt.api.endpoints.lists}/${n}/books`,{method:"POST",body:JSON.stringify({book_id:l})})}async removeBookFromList(n,l){return console.log(" Removing book from list:",{listId:n,bookId:l}),this.makeRequest(`${rt.api.endpoints.lists}/${n}/books/${l}`,{method:"DELETE"})}async getBookLists(n){return this.makeRequest(`${rt.api.endpoints.books}/${n}/lists`,{method:"GET"})}}const Ce=new G4;function V4(a,n){const l=m.createContext(n),i=u=>{const{children:h,...x}=u,p=m.useMemo(()=>x,Object.values(x));return e.jsx(l.Provider,{value:p,children:h})};i.displayName=a+"Provider";function c(u){const h=m.useContext(l);if(h)return h;if(n!==void 0)return n;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[i,c]}function oa(a,n=[]){let l=[];function i(u,h){const x=m.createContext(h),p=l.length;l=[...l,h];const v=g=>{const{scope:j,children:w,...C}=g,S=j?.[a]?.[p]||x,E=m.useMemo(()=>C,Object.values(C));return e.jsx(S.Provider,{value:E,children:w})};v.displayName=u+"Provider";function b(g,j){const w=j?.[a]?.[p]||x,C=m.useContext(w);if(C)return C;if(h!==void 0)return h;throw new Error(`\`${g}\` must be used within \`${u}\``)}return[v,b]}const c=()=>{const u=l.map(h=>m.createContext(h));return function(x){const p=x?.[a]||u;return m.useMemo(()=>({[`__scope${a}`]:{...x,[a]:p}}),[x,p])}};return c.scopeName=a,[i,Y4(c,...n)]}function Y4(...a){const n=a[0];if(a.length===1)return n;const l=()=>{const i=a.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const h=i.reduce((x,{useScope:p,scopeName:v})=>{const g=p(u)[`__scope${v}`];return{...x,...g}},{});return m.useMemo(()=>({[`__scope${n.scopeName}`]:h}),[h])}};return l.scopeName=n.scopeName,l}function Oe(a,n,{checkForDefaultPrevented:l=!0}={}){return function(c){if(a?.(c),l===!1||!c.defaultPrevented)return n?.(c)}}var X4=rh[" useId ".trim().toString()]||(()=>{}),K4=0;function rr(a){const[n,l]=m.useState(X4());return ys(()=>{l(i=>i??String(K4++))},[a]),a||(n?`radix-${n}`:"")}var Z4=rh[" useInsertionEffect ".trim().toString()]||ys;function Or({prop:a,defaultProp:n,onChange:l=()=>{},caller:i}){const[c,u,h]=Q4({defaultProp:n,onChange:l}),x=a!==void 0,p=x?a:c;{const b=m.useRef(a!==void 0);m.useEffect(()=>{const g=b.current;g!==x&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${x?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),b.current=x},[x,i])}const v=m.useCallback(b=>{if(x){const g=J4(b)?b(a):b;g!==a&&h.current?.(g)}else u(b)},[x,a,u,h]);return[p,v]}function Q4({defaultProp:a,onChange:n}){const[l,i]=m.useState(a),c=m.useRef(l),u=m.useRef(n);return Z4(()=>{u.current=n},[n]),m.useEffect(()=>{c.current!==l&&(u.current?.(l),c.current=l)},[l,c]),[l,i,u]}function J4(a){return typeof a=="function"}function W4(a){const n=eC(a),l=m.forwardRef((i,c)=>{const{children:u,...h}=i,x=m.Children.toArray(u),p=x.find(sC);if(p){const v=p.props.children,b=x.map(g=>g===p?m.Children.count(v)>1?m.Children.only(null):m.isValidElement(v)?v.props.children:null:g);return e.jsx(n,{...h,ref:c,children:m.isValidElement(v)?m.cloneElement(v,void 0,b):null})}return e.jsx(n,{...h,ref:c,children:u})});return l.displayName=`${a}.Slot`,l}function eC(a){const n=m.forwardRef((l,i)=>{const{children:c,...u}=l;if(m.isValidElement(c)){const h=rC(c),x=aC(u,c.props);return c.type!==m.Fragment&&(x.ref=i?Lr(i,h):h),m.cloneElement(c,x)}return m.Children.count(c)>1?m.Children.only(null):null});return n.displayName=`${a}.SlotClone`,n}var tC=Symbol("radix.slottable");function sC(a){return m.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===tC}function aC(a,n){const l={...n};for(const i in n){const c=a[i],u=n[i];/^on[A-Z]/.test(i)?c&&u?l[i]=(...x)=>{const p=u(...x);return c(...x),p}:c&&(l[i]=c):i==="style"?l[i]={...c,...u}:i==="className"&&(l[i]=[c,u].filter(Boolean).join(" "))}return{...a,...l}}function rC(a){let n=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?a.ref:(n=Object.getOwnPropertyDescriptor(a,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?a.props.ref:a.props.ref||a.ref)}var nC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=nC.reduce((a,n)=>{const l=W4(`Primitive.${n}`),i=m.forwardRef((c,u)=>{const{asChild:h,...x}=c,p=h?l:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(p,{...x,ref:u})});return i.displayName=`Primitive.${n}`,{...a,[n]:i}},{});function wy(a,n){a&&ki.flushSync(()=>a.dispatchEvent(n))}function oC(a,n=globalThis?.document){const l=Os(a);m.useEffect(()=>{const i=c=>{c.key==="Escape"&&l(c)};return n.addEventListener("keydown",i,{capture:!0}),()=>n.removeEventListener("keydown",i,{capture:!0})},[l,n])}var lC="DismissableLayer",$f="dismissableLayer.update",iC="dismissableLayer.pointerDownOutside",cC="dismissableLayer.focusOutside",nb,Ny=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_d=m.forwardRef((a,n)=>{const{disableOutsidePointerEvents:l=!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,onDismiss:x,...p}=a,v=m.useContext(Ny),[b,g]=m.useState(null),j=b?.ownerDocument??globalThis?.document,[,w]=m.useState({}),C=it(n,P=>g(P)),S=Array.from(v.layers),[E]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),N=S.indexOf(E),T=b?S.indexOf(b):-1,R=v.layersWithOutsidePointerEventsDisabled.size>0,D=T>=N,_=mC(P=>{const $=P.target,se=[...v.branches].some(xe=>xe.contains($));!D||se||(c?.(P),h?.(P),P.defaultPrevented||x?.())},j),O=fC(P=>{const $=P.target;[...v.branches].some(xe=>xe.contains($))||(u?.(P),h?.(P),P.defaultPrevented||x?.())},j);return oC(P=>{T===v.layers.size-1&&(i?.(P),!P.defaultPrevented&&x&&(P.preventDefault(),x()))},j),m.useEffect(()=>{if(b)return l&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(nb=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(b)),v.layers.add(b),ob(),()=>{l&&v.layersWithOutsidePointerEventsDisabled.size===1&&(j.body.style.pointerEvents=nb)}},[b,j,l,v]),m.useEffect(()=>()=>{b&&(v.layers.delete(b),v.layersWithOutsidePointerEventsDisabled.delete(b),ob())},[b,v]),m.useEffect(()=>{const P=()=>w({});return document.addEventListener($f,P),()=>document.removeEventListener($f,P)},[]),e.jsx(et.div,{...p,ref:C,style:{pointerEvents:R?D?"auto":"none":void 0,...a.style},onFocusCapture:Oe(a.onFocusCapture,O.onFocusCapture),onBlurCapture:Oe(a.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Oe(a.onPointerDownCapture,_.onPointerDownCapture)})});_d.displayName=lC;var dC="DismissableLayerBranch",uC=m.forwardRef((a,n)=>{const l=m.useContext(Ny),i=m.useRef(null),c=it(n,i);return m.useEffect(()=>{const u=i.current;if(u)return l.branches.add(u),()=>{l.branches.delete(u)}},[l.branches]),e.jsx(et.div,{...a,ref:c})});uC.displayName=dC;function mC(a,n=globalThis?.document){const l=Os(a),i=m.useRef(!1),c=m.useRef(()=>{});return m.useEffect(()=>{const u=x=>{if(x.target&&!i.current){let p=function(){Sy(iC,l,v,{discrete:!0})};const v={originalEvent:x};x.pointerType==="touch"?(n.removeEventListener("click",c.current),c.current=p,n.addEventListener("click",c.current,{once:!0})):p()}else n.removeEventListener("click",c.current);i.current=!1},h=window.setTimeout(()=>{n.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(h),n.removeEventListener("pointerdown",u),n.removeEventListener("click",c.current)}},[n,l]),{onPointerDownCapture:()=>i.current=!0}}function fC(a,n=globalThis?.document){const l=Os(a),i=m.useRef(!1);return m.useEffect(()=>{const c=u=>{u.target&&!i.current&&Sy(cC,l,{originalEvent:u},{discrete:!1})};return n.addEventListener("focusin",c),()=>n.removeEventListener("focusin",c)},[n,l]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function ob(){const a=new CustomEvent($f);document.dispatchEvent(a)}function Sy(a,n,l,{discrete:i}){const c=l.originalEvent.target,u=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:l});n&&c.addEventListener(a,n,{once:!0}),i?wy(c,u):c.dispatchEvent(u)}var wf="focusScope.autoFocusOnMount",Nf="focusScope.autoFocusOnUnmount",lb={bubbles:!1,cancelable:!0},hC="FocusScope",Ed=m.forwardRef((a,n)=>{const{loop:l=!1,trapped:i=!1,onMountAutoFocus:c,onUnmountAutoFocus:u,...h}=a,[x,p]=m.useState(null),v=Os(c),b=Os(u),g=m.useRef(null),j=it(n,S=>p(S)),w=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(i){let S=function(R){if(w.paused||!x)return;const D=R.target;x.contains(D)?g.current=D:fn(g.current,{select:!0})},E=function(R){if(w.paused||!x)return;const D=R.relatedTarget;D!==null&&(x.contains(D)||fn(g.current,{select:!0}))},N=function(R){if(document.activeElement===document.body)for(const _ of R)_.removedNodes.length>0&&fn(x)};document.addEventListener("focusin",S),document.addEventListener("focusout",E);const T=new MutationObserver(N);return x&&T.observe(x,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",E),T.disconnect()}}},[i,x,w.paused]),m.useEffect(()=>{if(x){cb.add(w);const S=document.activeElement;if(!x.contains(S)){const N=new CustomEvent(wf,lb);x.addEventListener(wf,v),x.dispatchEvent(N),N.defaultPrevented||(xC(yC(ky(x)),{select:!0}),document.activeElement===S&&fn(x))}return()=>{x.removeEventListener(wf,v),setTimeout(()=>{const N=new CustomEvent(Nf,lb);x.addEventListener(Nf,b),x.dispatchEvent(N),N.defaultPrevented||fn(S??document.body,{select:!0}),x.removeEventListener(Nf,b),cb.remove(w)},0)}}},[x,v,b,w]);const C=m.useCallback(S=>{if(!l&&!i||w.paused)return;const E=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,N=document.activeElement;if(E&&N){const T=S.currentTarget,[R,D]=gC(T);R&&D?!S.shiftKey&&N===D?(S.preventDefault(),l&&fn(R,{select:!0})):S.shiftKey&&N===R&&(S.preventDefault(),l&&fn(D,{select:!0})):N===T&&S.preventDefault()}},[l,i,w.paused]);return e.jsx(et.div,{tabIndex:-1,...h,ref:j,onKeyDown:C})});Ed.displayName=hC;function xC(a,{select:n=!1}={}){const l=document.activeElement;for(const i of a)if(fn(i,{select:n}),document.activeElement!==l)return}function gC(a){const n=ky(a),l=ib(n,a),i=ib(n.reverse(),a);return[l,i]}function ky(a){const n=[],l=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const c=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||c?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;l.nextNode();)n.push(l.currentNode);return n}function ib(a,n){for(const l of a)if(!pC(l,{upTo:n}))return l}function pC(a,{upTo:n}){if(getComputedStyle(a).visibility==="hidden")return!0;for(;a;){if(n!==void 0&&a===n)return!1;if(getComputedStyle(a).display==="none")return!0;a=a.parentElement}return!1}function vC(a){return a instanceof HTMLInputElement&&"select"in a}function fn(a,{select:n=!1}={}){if(a&&a.focus){const l=document.activeElement;a.focus({preventScroll:!0}),a!==l&&vC(a)&&n&&a.select()}}var cb=bC();function bC(){let a=[];return{add(n){const l=a[0];n!==l&&l?.pause(),a=db(a,n),a.unshift(n)},remove(n){a=db(a,n),a[0]?.resume()}}}function db(a,n){const l=[...a],i=l.indexOf(n);return i!==-1&&l.splice(i,1),l}function yC(a){return a.filter(n=>n.tagName!=="A")}var jC="Portal",Td=m.forwardRef((a,n)=>{const{container:l,...i}=a,[c,u]=m.useState(!1);ys(()=>u(!0),[]);const h=l||c&&globalThis?.document?.body;return h?xy.createPortal(e.jsx(et.div,{...i,ref:n}),h):null});Td.displayName=jC;function wC(a,n){return m.useReducer((l,i)=>n[l][i]??l,a)}var Ys=a=>{const{present:n,children:l}=a,i=NC(n),c=typeof l=="function"?l({present:i.isPresent}):m.Children.only(l),u=it(i.ref,SC(c));return typeof l=="function"||i.isPresent?m.cloneElement(c,{ref:u}):null};Ys.displayName="Presence";function NC(a){const[n,l]=m.useState(),i=m.useRef(null),c=m.useRef(a),u=m.useRef("none"),h=a?"mounted":"unmounted",[x,p]=wC(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const v=Jc(i.current);u.current=x==="mounted"?v:"none"},[x]),ys(()=>{const v=i.current,b=c.current;if(b!==a){const j=u.current,w=Jc(v);a?p("MOUNT"):w==="none"||v?.display==="none"?p("UNMOUNT"):p(b&&j!==w?"ANIMATION_OUT":"UNMOUNT"),c.current=a}},[a,p]),ys(()=>{if(n){let v;const b=n.ownerDocument.defaultView??window,g=w=>{const S=Jc(i.current).includes(CSS.escape(w.animationName));if(w.target===n&&S&&(p("ANIMATION_END"),!c.current)){const E=n.style.animationFillMode;n.style.animationFillMode="forwards",v=b.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=E)})}},j=w=>{w.target===n&&(u.current=Jc(i.current))};return n.addEventListener("animationstart",j),n.addEventListener("animationcancel",g),n.addEventListener("animationend",g),()=>{b.clearTimeout(v),n.removeEventListener("animationstart",j),n.removeEventListener("animationcancel",g),n.removeEventListener("animationend",g)}}else p("ANIMATION_END")},[n,p]),{isPresent:["mounted","unmountSuspended"].includes(x),ref:m.useCallback(v=>{i.current=v?getComputedStyle(v):null,l(v)},[])}}function Jc(a){return a?.animationName||"none"}function SC(a){let n=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?a.ref:(n=Object.getOwnPropertyDescriptor(a,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?a.props.ref:a.props.ref||a.ref)}var Sf=0;function dh(){m.useEffect(()=>{const a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??ub()),document.body.insertAdjacentElement("beforeend",a[1]??ub()),Sf++,()=>{Sf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Sf--}},[])}function ub(){const a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}var tr=function(){return tr=Object.assign||function(n){for(var l,i=1,c=arguments.length;i<c;i++){l=arguments[i];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(n[u]=l[u])}return n},tr.apply(this,arguments)};function Cy(a,n){var l={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.indexOf(i)<0&&(l[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(a);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(a,i[c])&&(l[i[c]]=a[i[c]]);return l}function kC(a,n,l){if(l||arguments.length===2)for(var i=0,c=n.length,u;i<c;i++)(u||!(i in n))&&(u||(u=Array.prototype.slice.call(n,0,i)),u[i]=n[i]);return a.concat(u||Array.prototype.slice.call(n))}var rd="right-scroll-bar-position",nd="width-before-scroll-bar",CC="with-scroll-bars-hidden",RC="--removed-body-scroll-bar-size";function kf(a,n){return typeof a=="function"?a(n):a&&(a.current=n),a}function AC(a,n){var l=m.useState(function(){return{value:a,callback:n,facade:{get current(){return l.value},set current(i){var c=l.value;c!==i&&(l.value=i,l.callback(i,c))}}}})[0];return l.callback=n,l.facade}var _C=typeof window<"u"?m.useLayoutEffect:m.useEffect,mb=new WeakMap;function EC(a,n){var l=AC(null,function(i){return a.forEach(function(c){return kf(c,i)})});return _C(function(){var i=mb.get(l);if(i){var c=new Set(i),u=new Set(a),h=l.current;c.forEach(function(x){u.has(x)||kf(x,null)}),u.forEach(function(x){c.has(x)||kf(x,h)})}mb.set(l,a)},[a]),l}function TC(a){return a}function DC(a,n){n===void 0&&(n=TC);var l=[],i=!1,c={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return l.length?l[l.length-1]:a},useMedium:function(u){var h=n(u,i);return l.push(h),function(){l=l.filter(function(x){return x!==h})}},assignSyncMedium:function(u){for(i=!0;l.length;){var h=l;l=[],h.forEach(u)}l={push:function(x){return u(x)},filter:function(){return l}}},assignMedium:function(u){i=!0;var h=[];if(l.length){var x=l;l=[],x.forEach(u),h=l}var p=function(){var b=h;h=[],b.forEach(u)},v=function(){return Promise.resolve().then(p)};v(),l={push:function(b){h.push(b),v()},filter:function(b){return h=h.filter(b),l}}}};return c}function MC(a){a===void 0&&(a={});var n=DC(null);return n.options=tr({async:!0,ssr:!1},a),n}var Ry=function(a){var n=a.sideCar,l=Cy(a,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return m.createElement(i,tr({},l))};Ry.isSideCarExport=!0;function OC(a,n){return a.useMedium(n),Ry}var Ay=MC(),Cf=function(){},Dd=m.forwardRef(function(a,n){var l=m.useRef(null),i=m.useState({onScrollCapture:Cf,onWheelCapture:Cf,onTouchMoveCapture:Cf}),c=i[0],u=i[1],h=a.forwardProps,x=a.children,p=a.className,v=a.removeScrollBar,b=a.enabled,g=a.shards,j=a.sideCar,w=a.noRelative,C=a.noIsolation,S=a.inert,E=a.allowPinchZoom,N=a.as,T=N===void 0?"div":N,R=a.gapMode,D=Cy(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=j,O=EC([l,n]),P=tr(tr({},D),c);return m.createElement(m.Fragment,null,b&&m.createElement(_,{sideCar:Ay,removeScrollBar:v,shards:g,noRelative:w,noIsolation:C,inert:S,setCallbacks:u,allowPinchZoom:!!E,lockRef:l,gapMode:R}),h?m.cloneElement(m.Children.only(x),tr(tr({},P),{ref:O})):m.createElement(T,tr({},P,{className:p,ref:O}),x))});Dd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dd.classNames={fullWidth:nd,zeroRight:rd};var PC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zC(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var n=PC();return n&&a.setAttribute("nonce",n),a}function BC(a,n){a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}function LC(a){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(a)}var UC=function(){var a=0,n=null;return{add:function(l){a==0&&(n=zC())&&(BC(n,l),LC(n)),a++},remove:function(){a--,!a&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},FC=function(){var a=UC();return function(n,l){m.useEffect(function(){return a.add(n),function(){a.remove()}},[n&&l])}},_y=function(){var a=FC(),n=function(l){var i=l.styles,c=l.dynamic;return a(i,c),null};return n},IC={left:0,top:0,right:0,gap:0},Rf=function(a){return parseInt(a||"",10)||0},$C=function(a){var n=window.getComputedStyle(document.body),l=n[a==="padding"?"paddingLeft":"marginLeft"],i=n[a==="padding"?"paddingTop":"marginTop"],c=n[a==="padding"?"paddingRight":"marginRight"];return[Rf(l),Rf(i),Rf(c)]},HC=function(a){if(a===void 0&&(a="margin"),typeof window>"u")return IC;var n=$C(a),l=document.documentElement.clientWidth,i=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,i-l+n[2]-n[0])}},qC=_y(),Yo="data-scroll-locked",GC=function(a,n,l,i){var c=a.left,u=a.top,h=a.right,x=a.gap;return l===void 0&&(l="margin"),`
  .`.concat(CC,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(x,"px ").concat(i,`;
  }
  body[`).concat(Yo,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(i,";"),l==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(x,"px ").concat(i,`;
    `),l==="padding"&&"padding-right: ".concat(x,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rd,` {
    right: `).concat(x,"px ").concat(i,`;
  }
  
  .`).concat(nd,` {
    margin-right: `).concat(x,"px ").concat(i,`;
  }
  
  .`).concat(rd," .").concat(rd,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(nd," .").concat(nd,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Yo,`] {
    `).concat(RC,": ").concat(x,`px;
  }
`)},fb=function(){var a=parseInt(document.body.getAttribute(Yo)||"0",10);return isFinite(a)?a:0},VC=function(){m.useEffect(function(){return document.body.setAttribute(Yo,(fb()+1).toString()),function(){var a=fb()-1;a<=0?document.body.removeAttribute(Yo):document.body.setAttribute(Yo,a.toString())}},[])},YC=function(a){var n=a.noRelative,l=a.noImportant,i=a.gapMode,c=i===void 0?"margin":i;VC();var u=m.useMemo(function(){return HC(c)},[c]);return m.createElement(qC,{styles:GC(u,!n,c,l?"":"!important")})},Hf=!1;if(typeof window<"u")try{var Wc=Object.defineProperty({},"passive",{get:function(){return Hf=!0,!0}});window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{Hf=!1}var Io=Hf?{passive:!1}:!1,XC=function(a){return a.tagName==="TEXTAREA"},Ey=function(a,n){if(!(a instanceof Element))return!1;var l=window.getComputedStyle(a);return l[n]!=="hidden"&&!(l.overflowY===l.overflowX&&!XC(a)&&l[n]==="visible")},KC=function(a){return Ey(a,"overflowY")},ZC=function(a){return Ey(a,"overflowX")},hb=function(a,n){var l=n.ownerDocument,i=n;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var c=Ty(a,i);if(c){var u=Dy(a,i),h=u[1],x=u[2];if(h>x)return!0}i=i.parentNode}while(i&&i!==l.body);return!1},QC=function(a){var n=a.scrollTop,l=a.scrollHeight,i=a.clientHeight;return[n,l,i]},JC=function(a){var n=a.scrollLeft,l=a.scrollWidth,i=a.clientWidth;return[n,l,i]},Ty=function(a,n){return a==="v"?KC(n):ZC(n)},Dy=function(a,n){return a==="v"?QC(n):JC(n)},WC=function(a,n){return a==="h"&&n==="rtl"?-1:1},eR=function(a,n,l,i,c){var u=WC(a,window.getComputedStyle(n).direction),h=u*i,x=l.target,p=n.contains(x),v=!1,b=h>0,g=0,j=0;do{if(!x)break;var w=Dy(a,x),C=w[0],S=w[1],E=w[2],N=S-E-u*C;(C||N)&&Ty(a,x)&&(g+=N,j+=C);var T=x.parentNode;x=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!p&&x!==document.body||p&&(n.contains(x)||n===x));return(b&&Math.abs(g)<1||!b&&Math.abs(j)<1)&&(v=!0),v},ed=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},xb=function(a){return[a.deltaX,a.deltaY]},gb=function(a){return a&&"current"in a?a.current:a},tR=function(a,n){return a[0]===n[0]&&a[1]===n[1]},sR=function(a){return`
  .block-interactivity-`.concat(a,` {pointer-events: none;}
  .allow-interactivity-`).concat(a,` {pointer-events: all;}
`)},aR=0,$o=[];function rR(a){var n=m.useRef([]),l=m.useRef([0,0]),i=m.useRef(),c=m.useState(aR++)[0],u=m.useState(_y)[0],h=m.useRef(a);m.useEffect(function(){h.current=a},[a]),m.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(c));var S=kC([a.lockRef.current],(a.shards||[]).map(gb),!0).filter(Boolean);return S.forEach(function(E){return E.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),S.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(c))})}}},[a.inert,a.lockRef.current,a.shards]);var x=m.useCallback(function(S,E){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!h.current.allowPinchZoom;var N=ed(S),T=l.current,R="deltaX"in S?S.deltaX:T[0]-N[0],D="deltaY"in S?S.deltaY:T[1]-N[1],_,O=S.target,P=Math.abs(R)>Math.abs(D)?"h":"v";if("touches"in S&&P==="h"&&O.type==="range")return!1;var $=window.getSelection(),se=$&&$.anchorNode,xe=se?se===O||se.contains(O):!1;if(xe)return!1;var oe=hb(P,O);if(!oe)return!0;if(oe?_=P:(_=P==="v"?"h":"v",oe=hb(P,O)),!oe)return!1;if(!i.current&&"changedTouches"in S&&(R||D)&&(i.current=_),!_)return!0;var W=i.current||_;return eR(W,E,S,W==="h"?R:D)},[]),p=m.useCallback(function(S){var E=S;if(!(!$o.length||$o[$o.length-1]!==u)){var N="deltaY"in E?xb(E):ed(E),T=n.current.filter(function(_){return _.name===E.type&&(_.target===E.target||E.target===_.shadowParent)&&tR(_.delta,N)})[0];if(T&&T.should){E.cancelable&&E.preventDefault();return}if(!T){var R=(h.current.shards||[]).map(gb).filter(Boolean).filter(function(_){return _.contains(E.target)}),D=R.length>0?x(E,R[0]):!h.current.noIsolation;D&&E.cancelable&&E.preventDefault()}}},[]),v=m.useCallback(function(S,E,N,T){var R={name:S,delta:E,target:N,should:T,shadowParent:nR(N)};n.current.push(R),setTimeout(function(){n.current=n.current.filter(function(D){return D!==R})},1)},[]),b=m.useCallback(function(S){l.current=ed(S),i.current=void 0},[]),g=m.useCallback(function(S){v(S.type,xb(S),S.target,x(S,a.lockRef.current))},[]),j=m.useCallback(function(S){v(S.type,ed(S),S.target,x(S,a.lockRef.current))},[]);m.useEffect(function(){return $o.push(u),a.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:j}),document.addEventListener("wheel",p,Io),document.addEventListener("touchmove",p,Io),document.addEventListener("touchstart",b,Io),function(){$o=$o.filter(function(S){return S!==u}),document.removeEventListener("wheel",p,Io),document.removeEventListener("touchmove",p,Io),document.removeEventListener("touchstart",b,Io)}},[]);var w=a.removeScrollBar,C=a.inert;return m.createElement(m.Fragment,null,C?m.createElement(u,{styles:sR(c)}):null,w?m.createElement(YC,{noRelative:a.noRelative,gapMode:a.gapMode}):null)}function nR(a){for(var n=null;a!==null;)a instanceof ShadowRoot&&(n=a.host,a=a.host),a=a.parentNode;return n}const oR=OC(Ay,rR);var Md=m.forwardRef(function(a,n){return m.createElement(Dd,tr({},a,{ref:n,sideCar:oR}))});Md.classNames=Dd.classNames;var lR=function(a){if(typeof document>"u")return null;var n=Array.isArray(a)?a[0]:a;return n.ownerDocument.body},Ho=new WeakMap,td=new WeakMap,sd={},Af=0,My=function(a){return a&&(a.host||My(a.parentNode))},iR=function(a,n){return n.map(function(l){if(a.contains(l))return l;var i=My(l);return i&&a.contains(i)?i:(console.error("aria-hidden",l,"in not contained inside",a,". Doing nothing"),null)}).filter(function(l){return!!l})},cR=function(a,n,l,i){var c=iR(n,Array.isArray(a)?a:[a]);sd[l]||(sd[l]=new WeakMap);var u=sd[l],h=[],x=new Set,p=new Set(c),v=function(g){!g||x.has(g)||(x.add(g),v(g.parentNode))};c.forEach(v);var b=function(g){!g||p.has(g)||Array.prototype.forEach.call(g.children,function(j){if(x.has(j))b(j);else try{var w=j.getAttribute(i),C=w!==null&&w!=="false",S=(Ho.get(j)||0)+1,E=(u.get(j)||0)+1;Ho.set(j,S),u.set(j,E),h.push(j),S===1&&C&&td.set(j,!0),E===1&&j.setAttribute(l,"true"),C||j.setAttribute(i,"true")}catch(N){console.error("aria-hidden: cannot operate on ",j,N)}})};return b(n),x.clear(),Af++,function(){h.forEach(function(g){var j=Ho.get(g)-1,w=u.get(g)-1;Ho.set(g,j),u.set(g,w),j||(td.has(g)||g.removeAttribute(i),td.delete(g)),w||g.removeAttribute(l)}),Af--,Af||(Ho=new WeakMap,Ho=new WeakMap,td=new WeakMap,sd={})}},uh=function(a,n,l){l===void 0&&(l="data-aria-hidden");var i=Array.from(Array.isArray(a)?a:[a]),c=lR(a);return c?(i.push.apply(i,Array.from(c.querySelectorAll("[aria-live], script"))),cR(i,c,l,"aria-hidden")):function(){return null}};function dR(a){const n=uR(a),l=m.forwardRef((i,c)=>{const{children:u,...h}=i,x=m.Children.toArray(u),p=x.find(fR);if(p){const v=p.props.children,b=x.map(g=>g===p?m.Children.count(v)>1?m.Children.only(null):m.isValidElement(v)?v.props.children:null:g);return e.jsx(n,{...h,ref:c,children:m.isValidElement(v)?m.cloneElement(v,void 0,b):null})}return e.jsx(n,{...h,ref:c,children:u})});return l.displayName=`${a}.Slot`,l}function uR(a){const n=m.forwardRef((l,i)=>{const{children:c,...u}=l;if(m.isValidElement(c)){const h=xR(c),x=hR(u,c.props);return c.type!==m.Fragment&&(x.ref=i?Lr(i,h):h),m.cloneElement(c,x)}return m.Children.count(c)>1?m.Children.only(null):null});return n.displayName=`${a}.SlotClone`,n}var mR=Symbol("radix.slottable");function fR(a){return m.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===mR}function hR(a,n){const l={...n};for(const i in n){const c=a[i],u=n[i];/^on[A-Z]/.test(i)?c&&u?l[i]=(...x)=>{const p=u(...x);return c(...x),p}:c&&(l[i]=c):i==="style"?l[i]={...c,...u}:i==="className"&&(l[i]=[c,u].filter(Boolean).join(" "))}return{...a,...l}}function xR(a){let n=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?a.ref:(n=Object.getOwnPropertyDescriptor(a,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?a.props.ref:a.props.ref||a.ref)}var Od="Dialog",[Oy,Py]=oa(Od),[gR,Ga]=Oy(Od),zy=a=>{const{__scopeDialog:n,children:l,open:i,defaultOpen:c,onOpenChange:u,modal:h=!0}=a,x=m.useRef(null),p=m.useRef(null),[v,b]=Or({prop:i,defaultProp:c??!1,onChange:u,caller:Od});return e.jsx(gR,{scope:n,triggerRef:x,contentRef:p,contentId:rr(),titleId:rr(),descriptionId:rr(),open:v,onOpenChange:b,onOpenToggle:m.useCallback(()=>b(g=>!g),[b]),modal:h,children:l})};zy.displayName=Od;var By="DialogTrigger",Ly=m.forwardRef((a,n)=>{const{__scopeDialog:l,...i}=a,c=Ga(By,l),u=it(n,c.triggerRef);return e.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":hh(c.open),...i,ref:u,onClick:Oe(a.onClick,c.onOpenToggle)})});Ly.displayName=By;var mh="DialogPortal",[pR,Uy]=Oy(mh,{forceMount:void 0}),Fy=a=>{const{__scopeDialog:n,forceMount:l,children:i,container:c}=a,u=Ga(mh,n);return e.jsx(pR,{scope:n,forceMount:l,children:m.Children.map(i,h=>e.jsx(Ys,{present:l||u.open,children:e.jsx(Td,{asChild:!0,container:c,children:h})}))})};Fy.displayName=mh;var md="DialogOverlay",Iy=m.forwardRef((a,n)=>{const l=Uy(md,a.__scopeDialog),{forceMount:i=l.forceMount,...c}=a,u=Ga(md,a.__scopeDialog);return u.modal?e.jsx(Ys,{present:i||u.open,children:e.jsx(bR,{...c,ref:n})}):null});Iy.displayName=md;var vR=dR("DialogOverlay.RemoveScroll"),bR=m.forwardRef((a,n)=>{const{__scopeDialog:l,...i}=a,c=Ga(md,l);return e.jsx(Md,{as:vR,allowPinchZoom:!0,shards:[c.contentRef],children:e.jsx(et.div,{"data-state":hh(c.open),...i,ref:n,style:{pointerEvents:"auto",...i.style}})})}),Zn="DialogContent",$y=m.forwardRef((a,n)=>{const l=Uy(Zn,a.__scopeDialog),{forceMount:i=l.forceMount,...c}=a,u=Ga(Zn,a.__scopeDialog);return e.jsx(Ys,{present:i||u.open,children:u.modal?e.jsx(yR,{...c,ref:n}):e.jsx(jR,{...c,ref:n})})});$y.displayName=Zn;var yR=m.forwardRef((a,n)=>{const l=Ga(Zn,a.__scopeDialog),i=m.useRef(null),c=it(n,l.contentRef,i);return m.useEffect(()=>{const u=i.current;if(u)return uh(u)},[]),e.jsx(Hy,{...a,ref:c,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(a.onCloseAutoFocus,u=>{u.preventDefault(),l.triggerRef.current?.focus()}),onPointerDownOutside:Oe(a.onPointerDownOutside,u=>{const h=u.detail.originalEvent,x=h.button===0&&h.ctrlKey===!0;(h.button===2||x)&&u.preventDefault()}),onFocusOutside:Oe(a.onFocusOutside,u=>u.preventDefault())})}),jR=m.forwardRef((a,n)=>{const l=Ga(Zn,a.__scopeDialog),i=m.useRef(!1),c=m.useRef(!1);return e.jsx(Hy,{...a,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{a.onCloseAutoFocus?.(u),u.defaultPrevented||(i.current||l.triggerRef.current?.focus(),u.preventDefault()),i.current=!1,c.current=!1},onInteractOutside:u=>{a.onInteractOutside?.(u),u.defaultPrevented||(i.current=!0,u.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const h=u.target;l.triggerRef.current?.contains(h)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&c.current&&u.preventDefault()}})}),Hy=m.forwardRef((a,n)=>{const{__scopeDialog:l,trapFocus:i,onOpenAutoFocus:c,onCloseAutoFocus:u,...h}=a,x=Ga(Zn,l),p=m.useRef(null),v=it(n,p);return dh(),e.jsxs(e.Fragment,{children:[e.jsx(Ed,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:c,onUnmountAutoFocus:u,children:e.jsx(_d,{role:"dialog",id:x.contentId,"aria-describedby":x.descriptionId,"aria-labelledby":x.titleId,"data-state":hh(x.open),...h,ref:v,onDismiss:()=>x.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(NR,{titleId:x.titleId}),e.jsx(kR,{contentRef:p,descriptionId:x.descriptionId})]})]})}),fh="DialogTitle",qy=m.forwardRef((a,n)=>{const{__scopeDialog:l,...i}=a,c=Ga(fh,l);return e.jsx(et.h2,{id:c.titleId,...i,ref:n})});qy.displayName=fh;var Gy="DialogDescription",Vy=m.forwardRef((a,n)=>{const{__scopeDialog:l,...i}=a,c=Ga(Gy,l);return e.jsx(et.p,{id:c.descriptionId,...i,ref:n})});Vy.displayName=Gy;var Yy="DialogClose",Xy=m.forwardRef((a,n)=>{const{__scopeDialog:l,...i}=a,c=Ga(Yy,l);return e.jsx(et.button,{type:"button",...i,ref:n,onClick:Oe(a.onClick,()=>c.onOpenChange(!1))})});Xy.displayName=Yy;function hh(a){return a?"open":"closed"}var Ky="DialogTitleWarning",[wR,Zy]=V4(Ky,{contentName:Zn,titleName:fh,docsSlug:"dialog"}),NR=({titleId:a})=>{const n=Zy(Ky),l=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return m.useEffect(()=>{a&&(document.getElementById(a)||console.error(l))},[l,a]),null},SR="DialogDescriptionWarning",kR=({contentRef:a,descriptionId:n})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Zy(SR).contentName}}.`;return m.useEffect(()=>{const c=a.current?.getAttribute("aria-describedby");n&&c&&(document.getElementById(n)||console.warn(i))},[i,a,n]),null},xh=zy,gh=Ly,ph=Fy,Pd=Iy,zd=$y,vh=qy,bh=Vy,Bd=Xy,CR=Symbol("radix.slottable");function RR(a){const n=({children:l})=>e.jsx(e.Fragment,{children:l});return n.displayName=`${a}.Slottable`,n.__radixId=CR,n}var Qy="AlertDialog",[AR]=oa(Qy,[Py]),Ur=Py(),Jy=a=>{const{__scopeAlertDialog:n,...l}=a,i=Ur(n);return e.jsx(xh,{...i,...l,modal:!0})};Jy.displayName=Qy;var _R="AlertDialogTrigger",ER=m.forwardRef((a,n)=>{const{__scopeAlertDialog:l,...i}=a,c=Ur(l);return e.jsx(gh,{...c,...i,ref:n})});ER.displayName=_R;var TR="AlertDialogPortal",Wy=a=>{const{__scopeAlertDialog:n,...l}=a,i=Ur(n);return e.jsx(ph,{...i,...l})};Wy.displayName=TR;var DR="AlertDialogOverlay",e0=m.forwardRef((a,n)=>{const{__scopeAlertDialog:l,...i}=a,c=Ur(l);return e.jsx(Pd,{...c,...i,ref:n})});e0.displayName=DR;var Xo="AlertDialogContent",[MR,OR]=AR(Xo),PR=RR("AlertDialogContent"),t0=m.forwardRef((a,n)=>{const{__scopeAlertDialog:l,children:i,...c}=a,u=Ur(l),h=m.useRef(null),x=it(n,h),p=m.useRef(null);return e.jsx(wR,{contentName:Xo,titleName:s0,docsSlug:"alert-dialog",children:e.jsx(MR,{scope:l,cancelRef:p,children:e.jsxs(zd,{role:"alertdialog",...u,...c,ref:x,onOpenAutoFocus:Oe(c.onOpenAutoFocus,v=>{v.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:v=>v.preventDefault(),onInteractOutside:v=>v.preventDefault(),children:[e.jsx(PR,{children:i}),e.jsx(LR,{contentRef:h})]})})})});t0.displayName=Xo;var s0="AlertDialogTitle",a0=m.forwardRef((a,n)=>{const{__scopeAlertDialog:l,...i}=a,c=Ur(l);return e.jsx(vh,{...c,...i,ref:n})});a0.displayName=s0;var r0="AlertDialogDescription",zR=m.forwardRef((a,n)=>{const{__scopeAlertDialog:l,...i}=a,c=Ur(l);return e.jsx(bh,{...c,...i,ref:n})});zR.displayName=r0;var BR="AlertDialogAction",n0=m.forwardRef((a,n)=>{const{__scopeAlertDialog:l,...i}=a,c=Ur(l);return e.jsx(Bd,{...c,...i,ref:n})});n0.displayName=BR;var o0="AlertDialogCancel",l0=m.forwardRef((a,n)=>{const{__scopeAlertDialog:l,...i}=a,{cancelRef:c}=OR(o0,l),u=Ur(l),h=it(n,c);return e.jsx(Bd,{...u,...i,ref:h})});l0.displayName=o0;var LR=({contentRef:a})=>{const n=`\`${Xo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xo}\` by passing a \`${r0}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(n)},[n,a]),null},UR=Jy,FR=Wy,IR=e0,$R=t0,HR=n0,qR=l0,GR=a0;function ai({...a}){return e.jsx(UR,{"data-slot":"alert-dialog",...a})}function VR({...a}){return e.jsx(FR,{"data-slot":"alert-dialog-portal",...a})}function YR({className:a,...n}){return e.jsx(IR,{"data-slot":"alert-dialog-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...n})}function ri({className:a,...n}){return e.jsxs(VR,{children:[e.jsx(YR,{}),e.jsx($R,{"data-slot":"alert-dialog-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...n})]})}function ni({className:a,...n}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:Fe("flex flex-col gap-2 text-center sm:text-left",a),...n})}function oi({className:a,...n}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:Fe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...n})}function li({className:a,...n}){return e.jsx(GR,{"data-slot":"alert-dialog-title",className:Fe("text-lg font-semibold",a),...n})}function ii({className:a,...n}){return e.jsx(HR,{className:Fe(Ad(),a),...n})}function ci({className:a,...n}){return e.jsx(qR,{className:Fe(Ad({variant:"outline"}),a),...n})}function Cs({...a}){return e.jsx(xh,{"data-slot":"dialog",...a})}function i0({...a}){return e.jsx(gh,{"data-slot":"dialog-trigger",...a})}function XR({...a}){return e.jsx(ph,{"data-slot":"dialog-portal",...a})}const c0=m.forwardRef(({className:a,...n},l)=>e.jsx(Pd,{ref:l,"data-slot":"dialog-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...n}));c0.displayName=Pd.displayName;const bs=m.forwardRef(({className:a,children:n,...l},i)=>e.jsxs(XR,{"data-slot":"dialog-portal",children:[e.jsx(c0,{}),e.jsxs(zd,{ref:i,"data-slot":"dialog-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...l,children:[n,e.jsxs(Bd,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Fa,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bs.displayName=zd.displayName;function Rs({className:a,...n}){return e.jsx("div",{"data-slot":"dialog-header",className:Fe("flex flex-col gap-2 text-center sm:text-left",a),...n})}function gn({className:a,...n}){return e.jsx("div",{"data-slot":"dialog-footer",className:Fe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...n})}function As({className:a,...n}){return e.jsx(vh,{"data-slot":"dialog-title",className:Fe("text-lg leading-none font-semibold",a),...n})}function _s({className:a,...n}){return e.jsx(bh,{"data-slot":"dialog-description",className:Fe("text-muted-foreground text-sm",a),...n})}function KR({currentUser:a,onNavigateToProfile:n,onLogout:l}){const[i,c]=m.useState("overview"),[u,h]=m.useState(0),[x,p]=m.useState({totalUsers:0,totalAuthors:0,totalBooks:0,pendingReports:0,pendingVerifications:0,pendingBooks:0,usersGrowth:"+0%",authorsGrowth:"+0%",booksGrowth:"+0%"}),[v,b]=m.useState(!0),[g,j]=m.useState([]),[w,C]=m.useState(1),[S,E]=m.useState(1),[N,T]=m.useState(""),[R,D]=m.useState(!1),[_,O]=m.useState([]),[P,$]=m.useState(1),[se,xe]=m.useState(1),[oe,W]=m.useState(""),[me,ue]=m.useState(!1),[ce,A]=m.useState([]),[q,M]=m.useState(1),[ae,ve]=m.useState(1),[B,Z]=m.useState(""),[U,Q]=m.useState(!1),[le,te]=m.useState([]),[G,he]=m.useState(!1),[Ne,_e]=m.useState(null),[Be,Pe]=m.useState([]),[ct,Se]=m.useState(1),[L,we]=m.useState(1),[Le,ee]=m.useState("pending"),[Qe,ke]=m.useState(!1),[Ue,Ye]=m.useState(null),[nt,Gt]=m.useState({open:!1,request:null}),[Es,Ze]=m.useState({open:!1,requestId:null,username:""}),[lt,Et]=m.useState({open:!1,requestId:null,username:""}),[Pt,Te]=m.useState(""),De=async()=>{try{ke(!0);const z=await Ce.getAdminVerificationRequests({status:Le,page:ct,limit:20});Pe(z.requests),we(z.total_pages)}catch(z){console.error("Failed to load verification requests:",z),K.error("Failed to load verification requests")}finally{ke(!1)}},_t=z=>{Gt({open:!0,request:z})},gt=()=>{Gt({open:!1,request:null})},Tt=(z,Ie)=>{Ze({open:!0,requestId:z,username:Ie})},jt=()=>{Ze({open:!1,requestId:null,username:""})},Xt=(z,Ie)=>{Et({open:!0,requestId:z,username:Ie}),Te("")},Fs=()=>{Et({open:!1,requestId:null,username:""}),Te("")},Ma=async()=>{if(!Es.requestId)return;const z=Es.requestId;Ye(z),jt();try{const Ie=await Ce.approveAuthorVerification(z);Pe(Be.filter(pt=>pt.request_id!==z)),K.success(Ie.message||"Verification approved successfully!")}catch(Ie){console.error("Failed to approve verification:",Ie),K.error(Ie.message||"Failed to approve verification")}finally{Ye(null)}},Ts=async()=>{if(!lt.requestId)return;if(!Pt.trim()){K.error("Please provide a rejection reason");return}const z=lt.requestId;Ye(z),Fs();try{const Ie=await Ce.rejectAuthorVerification(z,Pt);Pe(Be.filter(pt=>pt.request_id!==z)),K.success(Ie.message||"Verification rejected")}catch(Ie){console.error("Failed to reject verification:",Ie),K.error(Ie.message||"Failed to reject verification")}finally{Ye(null)}},[Wt,la]=m.useState({open:!1,userId:null,username:"",action:"activate"}),[Ds,ms]=m.useState([]),[Je,At]=m.useState(1),[Vt,ts]=m.useState(1),[V,Y]=m.useState(""),[be,at]=m.useState(!1),[mt,X]=m.useState(null),[je,tt]=m.useState({open:!1,bookId:null,bookTitle:""}),[Ut,ur]=m.useState({open:!1,bookId:null,bookTitle:""}),[Yt,ss]=m.useState(""),[ht,mr]=m.useState({open:!1,book:null}),[Ht,Is]=m.useState({title:"",summary:"",isbn:"",publish_date:"",cover_image_url:"",source_name:"Manual",authors:[""],genres:[""]}),[Mi,ll]=m.useState(!1);m.useEffect(()=>{jn()},[]),m.useEffect(()=>{switch(i){case"users":no();break;case"authors":fr();break;case"books":Va();break;case"pending-books":hr();break;case"reports":wn();break;case"verification-requests":De();break;case"add-book":Is({title:"",summary:"",isbn:"",publish_date:"",cover_image_url:"",source_name:"Manual",authors:[""],genres:[""]});break}},[i,w,P,q,Je,ct]),m.useEffect(()=>{i==="verification-requests"&&De()},[Le]),m.useEffect(()=>{const z=async()=>{try{const pt=await Ce.getNotifications({limit:1});h(pt.unread_count)}catch(pt){console.error("Failed to load notification count:",pt),h(0)}};z();const Ie=setInterval(z,3e4);return()=>clearInterval(Ie)},[]);const jn=async()=>{try{b(!0);const z=await Ce.getAdminStats();p(Ie=>({...Ie,...z}))}catch(z){console.error("Failed to load stats:",z),K.error("Failed to load statistics")}finally{b(!1)}},no=async()=>{try{D(!0);const z=await Ce.getAdminUsers({page:w,limit:20,search:N||void 0});j(z.users),E(z.totalPages)}catch(z){console.error("Failed to load users:",z),K.error("Failed to load users")}finally{D(!1)}},fr=async()=>{try{ue(!0);const z=await Ce.getAdminAuthors({page:P,limit:20,search:oe||void 0});O(z.authors),xe(z.totalPages)}catch(z){console.error("Failed to load authors:",z),K.error("Failed to load authors")}finally{ue(!1)}},Va=async()=>{try{Q(!0);const z=await Ce.getAdminBooks({page:q,limit:20,search:B||void 0,status:"approved"});A(z.books),ve(z.totalPages)}catch(z){console.error("Failed to load books:",z),K.error("Failed to load books")}finally{Q(!1)}},wn=async()=>{try{he(!0);const z=await Ce.getAdminReports({status:"pending"});te(z.reports)}catch(z){console.error("Failed to load reports:",z),K.error("Failed to load reports")}finally{he(!1)}},hr=async()=>{try{at(!0);const z=await Ce.getAdminPendingBooks({page:Je,limit:20,search:V||void 0});ms(z.books),ts(z.totalPages)}catch(z){console.error("Failed to load pending books:",z),K.error("Failed to load pending books")}finally{at(!1)}},is=()=>{C(1),no()},il=()=>{$(1),fr()},cl=()=>{M(1),Va()},Ya=()=>{At(1),hr()},Fr=(z,Ie,pt)=>{la({open:!0,userId:z,username:Ie,action:pt?"deactivate":"activate"})},Oi=()=>{la({open:!1,userId:null,username:"",action:"activate"})},Pi=async()=>{if(!Wt.userId)return;const z=Wt.userId,Ie=Wt.action;_e(z),Oi();try{const pt=await Ce.toggleUserStatus(z,Ie);j(g.map(cs=>cs.user_id===z?{...cs,is_active:pt.user.is_active}:cs)),K.success(pt.message)}catch(pt){console.error(`Failed to ${Ie} user:`,pt),K.error(pt.message||`Failed to ${Ie} user`)}finally{_e(null)}},dl=(z,Ie)=>{tt({open:!0,bookId:z,bookTitle:Ie})},zi=()=>{tt({open:!1,bookId:null,bookTitle:""})},Nn=(z,Ie)=>{ur({open:!0,bookId:z,bookTitle:Ie}),ss("")},Sn=()=>{ur({open:!1,bookId:null,bookTitle:""}),ss("")},Oa=z=>{mr({open:!0,book:z})},$s=()=>{mr({open:!1,book:null})},Bi=async()=>{if(!je.bookId)return;const z=je.bookId;X(z),zi();try{const Ie=await Ce.approveBook(z);ms(Ds.filter(pt=>pt.book_id!==z)),K.success(Ie.message||"Book approved successfully!")}catch(Ie){console.error("Failed to approve book:",Ie),K.error(Ie.message||"Failed to approve book")}finally{X(null)}},ru=async()=>{if(!Ut.bookId)return;if(!Yt.trim()){K.error("Please provide a rejection reason");return}const z=Ut.bookId;X(z),Sn();try{const Ie=await Ce.rejectBook(z,Yt);ms(Ds.filter(pt=>pt.book_id!==z)),K.success(Ie.message||"Book rejected successfully")}catch(Ie){console.error("Failed to reject book:",Ie),K.error(Ie.message||"Failed to reject book")}finally{X(null)}},ul=()=>{Is(z=>({...z,authors:[...z.authors,""]}))},Li=z=>{Is(Ie=>({...Ie,authors:Ie.authors.filter((pt,cs)=>cs!==z)}))},oo=(z,Ie)=>{Is(pt=>({...pt,authors:pt.authors.map((cs,Xa)=>Xa===z?Ie:cs)}))},nu=()=>{Is(z=>({...z,genres:[...z.genres,""]}))},Ks=z=>{Is(Ie=>({...Ie,genres:Ie.genres.filter((pt,cs)=>cs!==z)}))},ml=(z,Ie)=>{Is(pt=>({...pt,genres:pt.genres.map((cs,Xa)=>Xa===z?Ie:cs)}))},Ui=async z=>{if(z.preventDefault(),!Ht.title.trim()){K.error("Book title is required");return}const Ie=Ht.authors.filter(cs=>cs.trim());if(Ie.length===0){K.error("At least one author is required");return}const pt=Ht.genres.filter(cs=>cs.trim());if(pt.length===0){K.error("At least one genre is required");return}ll(!0);try{await Ce.addBook({title:Ht.title.trim(),summary:Ht.summary.trim()||null,isbn:Ht.isbn.trim()||null,publish_date:Ht.publish_date||null,cover_image_url:Ht.cover_image_url.trim()||null,source_name:Ht.source_name,authors:Ie,genres:pt}),K.success("Book added successfully!"),Is({title:"",summary:"",isbn:"",publish_date:"",cover_image_url:"",source_name:"Manual",authors:[""],genres:[""]}),i==="books"&&Va()}catch(cs){console.error("Failed to add book:",cs),K.error(cs.message||"Failed to add book")}finally{ll(!1)}};return e.jsxs("div",{className:"flex min-h-screen bg-background",children:[e.jsx(ai,{open:Wt.open,onOpenChange:z=>!z&&Oi(),children:e.jsxs(ri,{className:"border-border",children:[e.jsxs(ni,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Wt.action==="deactivate"?e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 dark:bg-red-500/20 flex items-center justify-center",children:e.jsx(Aa,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 dark:bg-green-500/20 flex items-center justify-center",children:e.jsx(Us,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsx(li,{className:"text-xl",children:Wt.action==="deactivate"?"Deactivate Account":"Activate Account"})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to ",e.jsx("span",{className:"font-semibold text-foreground",children:Wt.action})," the account for"," ",e.jsx("span",{className:"font-semibold text-foreground",children:Wt.username}),"?"]}),Wt.action==="deactivate"&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"This user will not be able to log in until their account is reactivated."})]})]}),e.jsxs(oi,{children:[e.jsx(ci,{className:"border-border",children:"Cancel"}),e.jsx(ii,{onClick:Pi,className:Wt.action==="deactivate"?"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700 text-white",children:Wt.action==="deactivate"?"Deactivate":"Activate"})]})]})}),e.jsx(ai,{open:je.open,onOpenChange:z=>!z&&zi(),children:e.jsxs(ri,{className:"border-border max-w-lg",children:[e.jsx(ni,{children:e.jsxs("div",{className:"flex items-start gap-4 mb-2",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-green-500/20 to-green-600/20 dark:from-green-500/30 dark:to-green-600/30 flex items-center justify-center flex-shrink-0 ring-4 ring-green-500/10",children:e.jsx(Us,{className:"w-7 h-7 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsx(li,{className:"text-2xl mb-2",children:"Approve Book"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to approve:"}),e.jsx("div",{className:"bg-secondary/50 dark:bg-secondary/20 rounded-lg p-4 border border-border",children:e.jsxs("p",{className:"font-semibold text-foreground text-lg leading-relaxed",children:['"',je.bookTitle,'"']})}),e.jsxs("div",{className:"flex items-start gap-2 text-sm bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[e.jsx(Us,{className:"w-4 h-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-green-700 dark:text-green-300",children:"This book will be published and become visible to all users in the BookArc library."})]})]})]})]})}),e.jsxs(oi,{className:"gap-2 sm:gap-2",children:[e.jsx(ci,{className:"border-border hover:bg-secondary",children:"Cancel"}),e.jsxs(ii,{onClick:Bi,className:"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white shadow-lg shadow-green-500/20 border-0",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Approve Book"]})]})]})}),e.jsx(ai,{open:Ut.open,onOpenChange:z=>!z&&Sn(),children:e.jsxs(ri,{className:"border-border max-w-lg",children:[e.jsx(ni,{children:e.jsxs("div",{className:"flex items-start gap-4 mb-2",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-red-500/20 to-red-600/20 dark:from-red-500/30 dark:to-red-600/30 flex items-center justify-center flex-shrink-0 ring-4 ring-red-500/10",children:e.jsx(Aa,{className:"w-7 h-7 text-red-600 dark:text-red-400"})}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsx(li,{className:"text-2xl mb-2",children:"Reject Book"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to reject:"}),e.jsx("div",{className:"bg-secondary/50 dark:bg-secondary/20 rounded-lg p-4 border border-border",children:e.jsxs("p",{className:"font-semibold text-foreground text-lg leading-relaxed",children:['"',Ut.bookTitle,'"']})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[e.jsx("span",{children:"Rejection Reason"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:Yt,onChange:z=>ss(z.target.value),placeholder:"Please explain why this book is being rejected...",className:"w-full min-h-[120px] px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground resize-y focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",autoFocus:!0}),Yt.trim()&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Us,{className:"w-3 h-3 text-green-500"}),Yt.length," characters"]})]}),e.jsxs("div",{className:"flex items-start gap-2 text-sm bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-lg p-3",children:[e.jsx(Aa,{className:"w-4 h-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:"The author will be notified with your feedback. This action cannot be undone."})]})]})]})]})}),e.jsxs(oi,{className:"gap-2 sm:gap-2",children:[e.jsx(ci,{className:"border-border hover:bg-secondary",children:"Cancel"}),e.jsxs(ii,{onClick:ru,disabled:!Yt.trim(),className:"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white shadow-lg shadow-red-500/20 border-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",children:[e.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Reject Book"]})]})]})}),e.jsx(Cs,{open:ht.open,onOpenChange:z=>!z&&$s(),children:e.jsxs(bs,{className:"border-border max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Rs,{children:[e.jsx(As,{className:"text-2xl",children:"Book Details"}),e.jsx(_s,{children:"Review complete information about this book"})]}),ht.book&&e.jsxs("div",{className:"space-y-6 pt-4",children:[ht.book.cover_image_url&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:ht.book.cover_image_url,alt:ht.book.title,className:"w-48 h-72 object-cover rounded-lg border border-border shadow-lg",onError:z=>{z.currentTarget.style.display="none"}})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Title"}),e.jsx("p",{className:"text-lg font-semibold",children:ht.book.title})]}),ht.book.authors&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Author(s)"}),e.jsx("p",{children:ht.book.authors})]}),ht.book.genres&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Genre(s)"}),e.jsx("p",{children:ht.book.genres})]}),ht.book.summary&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Summary"}),e.jsx("p",{className:"text-sm leading-relaxed",children:ht.book.summary})]}),ht.book.isbn&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"ISBN"}),e.jsx("p",{className:"font-mono text-sm",children:ht.book.isbn})]}),ht.book.publish_date&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Publish Date"}),e.jsx("p",{children:new Date(ht.book.publish_date).toLocaleDateString()})]}),ht.book.source_name&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Source"}),e.jsx(Ke,{variant:"outline",children:ht.book.source_name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Submitted By"}),e.jsx("p",{className:"text-sm",children:ht.book.submitted_by?.username||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Submitted"}),e.jsx("p",{className:"text-sm",children:new Date(ht.book.submitted_at||ht.book.created_at).toLocaleString()})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-border",children:[e.jsxs(I,{onClick:()=>{$s(),dl(ht.book.book_id,ht.book.title)},className:"flex-1 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(I,{onClick:()=>{$s(),Nn(ht.book.book_id,ht.book.title)},className:"flex-1 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white",children:[e.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})]})}),e.jsx(Cs,{open:nt.open,onOpenChange:z=>!z&&gt(),children:e.jsxs(bs,{className:"border-border max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Rs,{children:[e.jsxs(As,{className:"text-2xl flex items-center gap-2",children:[e.jsx(hn,{className:"w-6 h-6 text-primary"}),"Verification Request Details"]}),e.jsx(_s,{children:"Review the submitted identity documents"})]}),nt.request&&e.jsxs("div",{className:"space-y-6 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-secondary/20 rounded-lg",children:[e.jsxs(as,{className:"w-16 h-16",children:[e.jsx(vs,{src:nt.request.profile_image}),e.jsx(rs,{className:"text-lg",children:nt.request.username[0]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:nt.request.username}),e.jsx("p",{className:"text-sm text-muted-foreground",children:nt.request.email}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Submitted: ",new Date(nt.request.submitted_at).toLocaleDateString()]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Full Legal Name"}),e.jsx("p",{className:"text-lg font-semibold",children:nt.request.full_name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Government-Issued ID Card"}),e.jsx("div",{className:"border border-border rounded-lg overflow-hidden bg-secondary/10",children:e.jsx("img",{src:nt.request.id_image_url,alt:"ID Card",className:"w-full h-auto",onError:z=>{z.currentTarget.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Selfie Photo"}),e.jsx("div",{className:"border border-border rounded-lg overflow-hidden bg-secondary/10",children:e.jsx("img",{src:nt.request.selfie_image_url,alt:"Selfie",className:"w-full h-auto",onError:z=>{z.currentTarget.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Status"}),e.jsx(Ke,{variant:nt.request.status==="approved"?"default":nt.request.status==="rejected"?"destructive":"secondary",className:"text-sm px-3 py-1",children:nt.request.status.toUpperCase()})]}),nt.request.status==="rejected"&&nt.request.rejection_reason&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Rejection Reason"}),e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:nt.request.rejection_reason})})]}),nt.request.status==="pending"&&e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-border",children:[e.jsxs(I,{onClick:()=>{gt(),Tt(nt.request.request_id,nt.request.username)},className:"flex-1 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(I,{onClick:()=>{gt(),Xt(nt.request.request_id,nt.request.username)},className:"flex-1 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white",children:[e.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})]})}),e.jsx(ai,{open:Es.open,onOpenChange:z=>!z&&jt(),children:e.jsxs(ri,{className:"border-border max-w-lg",children:[e.jsx(ni,{children:e.jsxs("div",{className:"flex items-start gap-4 mb-2",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-green-500/20 to-green-600/20 dark:from-green-500/30 dark:to-green-600/30 flex items-center justify-center flex-shrink-0 ring-4 ring-green-500/10",children:e.jsx(Us,{className:"w-7 h-7 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsx(li,{className:"text-2xl mb-2",children:"Approve Author Verification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to approve the verification request for:"}),e.jsx("div",{className:"bg-secondary/50 dark:bg-secondary/20 rounded-lg p-4 border border-border",children:e.jsx("p",{className:"font-semibold text-foreground text-lg leading-relaxed",children:Es.username})}),e.jsxs("div",{className:"flex items-start gap-2 text-sm bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[e.jsx(Us,{className:"w-4 h-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-green-700 dark:text-green-300",children:"This user will be granted author status and can start publishing books on BookArc."})]})]})]})]})}),e.jsxs(oi,{className:"gap-2 sm:gap-2",children:[e.jsx(ci,{className:"border-border hover:bg-secondary",children:"Cancel"}),e.jsxs(ii,{onClick:Ma,className:"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white shadow-lg shadow-green-500/20 border-0",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Approve Verification"]})]})]})}),e.jsx(ai,{open:lt.open,onOpenChange:z=>!z&&Fs(),children:e.jsxs(ri,{className:"border-border max-w-lg",children:[e.jsx(ni,{children:e.jsxs("div",{className:"flex items-start gap-4 mb-2",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-red-500/20 to-red-600/20 dark:from-red-500/30 dark:to-red-600/30 flex items-center justify-center flex-shrink-0 ring-4 ring-red-500/10",children:e.jsx(Aa,{className:"w-7 h-7 text-red-600 dark:text-red-400"})}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsx(li,{className:"text-2xl mb-2",children:"Reject Verification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to reject the verification request for:"}),e.jsx("div",{className:"bg-secondary/50 dark:bg-secondary/20 rounded-lg p-4 border border-border",children:e.jsx("p",{className:"font-semibold text-foreground text-lg leading-relaxed",children:lt.username})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[e.jsx("span",{children:"Rejection Reason"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:Pt,onChange:z=>Te(z.target.value),placeholder:"Please explain why this verification is being rejected...",className:"w-full min-h-[120px] px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground resize-y focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",autoFocus:!0}),Pt.trim()&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Us,{className:"w-3 h-3 text-green-500"}),Pt.length," characters"]})]}),e.jsxs("div",{className:"flex items-start gap-2 text-sm bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-lg p-3",children:[e.jsx(Aa,{className:"w-4 h-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:"The user will be notified with your feedback. They can resubmit a new verification request."})]})]})]})]})}),e.jsxs(oi,{className:"gap-2 sm:gap-2",children:[e.jsx(ci,{className:"border-border hover:bg-secondary",children:"Cancel"}),e.jsxs(ii,{onClick:Ts,disabled:!Pt.trim(),className:"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white shadow-lg shadow-red-500/20 border-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",children:[e.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Reject Verification"]})]})]})}),e.jsx("aside",{className:"w-64 border-r border-border bg-card p-6",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxs(as,{className:"w-12 h-12",children:[e.jsx(vs,{src:a.avatarUrl}),e.jsx(rs,{className:"bg-primary/10",children:e.jsx(na,{className:"w-6 h-6 text-primary"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"truncate",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:a.email})]})]})}),e.jsx("nav",{className:"flex-1 space-y-1",children:e.jsxs("button",{onClick:n,className:"flex items-center gap-3 w-full px-3 py-2 rounded-lg hover:bg-accent/10 hover:text-primary transition-colors text-left",children:[e.jsx(na,{className:"w-5 h-5"}),"My Profile"]})}),e.jsx("div",{className:"pt-4 border-t border-border",children:e.jsxs("button",{onClick:l,className:"flex items-center gap-3 w-full px-3 py-2 rounded-lg hover:bg-accent/10 hover:text-destructive transition-colors text-left",children:[e.jsx(ld,{className:"w-5 h-5"}),"Logout"]})})]})}),e.jsx("main",{className:"flex-1 p-8 overflow-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl mb-6",children:"Admin Dashboard"}),e.jsxs("div",{className:"flex gap-2 border-b border-border overflow-x-auto",children:[e.jsx("button",{onClick:()=>c("overview"),className:`px-4 py-2 border-b-2 transition-colors whitespace-nowrap ${i==="overview"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Overview"}),e.jsx("button",{onClick:()=>c("users"),className:`px-4 py-2 border-b-2 transition-colors whitespace-nowrap ${i==="users"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Users"}),e.jsx("button",{onClick:()=>c("authors"),className:`px-4 py-2 border-b-2 transition-colors whitespace-nowrap ${i==="authors"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Authors"}),e.jsx("button",{onClick:()=>c("verification-requests"),className:`px-4 py-2 border-b-2 transition-colors whitespace-nowrap ${i==="verification-requests"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Author Verification Requests"}),e.jsx("button",{onClick:()=>c("books"),className:`px-4 py-2 border-b-2 transition-colors whitespace-nowrap ${i==="books"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Books"}),e.jsx("button",{onClick:()=>c("pending-books"),className:`px-4 py-2 border-b-2 transition-colors whitespace-nowrap ${i==="pending-books"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Pending Books"}),e.jsx("button",{onClick:()=>c("reports"),className:`px-4 py-2 border-b-2 transition-colors whitespace-nowrap ${i==="reports"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Reports"}),e.jsx("button",{onClick:()=>c("add-book"),className:`px-4 py-2 border-b-2 transition-colors whitespace-nowrap ${i==="add-book"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Add Book"})]})]}),i==="pending-books"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Pending Books"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and approve books submitted by authors"})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Books Awaiting Approval"}),e.jsx(ot,{children:"Review books and approve or reject them"})]}),e.jsxs(Ae,{children:[e.jsxs("div",{className:"mb-4 flex gap-2",children:[e.jsx(Ee,{placeholder:"Search pending books...",className:"max-w-sm",value:V,onChange:z=>Y(z.target.value),onKeyDown:z=>z.key==="Enter"&&Ya()}),e.jsxs(I,{onClick:Ya,variant:"outline",children:[e.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Search"]})]}),be?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(z=>e.jsx("div",{className:"h-12 bg-muted animate-pulse rounded"},z))}):Ds.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(yt,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No pending books"})]}):e.jsxs(e.Fragment,{children:[e.jsxs($n,{children:[e.jsx(Hn,{children:e.jsxs(sa,{children:[e.jsx(St,{children:"Title"}),e.jsx(St,{children:"Author(s)"}),e.jsx(St,{children:"Submitted By"}),e.jsx(St,{children:"Date"}),e.jsx(St,{children:"Actions"})]})}),e.jsx(qn,{children:Ds.map(z=>e.jsxs(sa,{children:[e.jsx(kt,{className:"font-medium",children:z.title}),e.jsx(kt,{children:z.authors||"Unknown"}),e.jsx(kt,{children:z.submitted_by?.username||z.uploaded_by_username||"N/A"}),e.jsx(kt,{children:new Date(z.submitted_at||z.created_at).toLocaleDateString()}),e.jsx(kt,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>Oa(z),disabled:mt===z.book_id,children:[e.jsx(zf,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsx(I,{size:"sm",onClick:()=>dl(z.book_id,z.title),disabled:mt===z.book_id,className:"bg-green-600 hover:bg-green-700 text-white",children:mt===z.book_id?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Us,{className:"w-4 h-4 mr-1"}),"Approve"]})}),e.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>Nn(z.book_id,z.title),disabled:mt===z.book_id,children:[e.jsx(Aa,{className:"w-4 h-4 mr-1"}),"Reject"]})]})})]},z.book_id))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",Je," of ",Vt]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>At(z=>Math.max(1,z-1)),disabled:Je===1,children:"Previous"}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>At(z=>Math.min(Vt,z+1)),disabled:Je===Vt,children:"Next"})]})]})]})]})]})]}),i==="overview"&&e.jsxs("div",{className:"space-y-6",children:[v?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[1,2,3,4,5,6].map(z=>e.jsxs(ye,{children:[e.jsx(Ge,{className:"flex flex-row items-center justify-between pb-2",children:e.jsx("div",{className:"h-4 w-24 bg-muted animate-pulse rounded"})}),e.jsxs(Ae,{children:[e.jsx("div",{className:"h-8 w-20 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"})]})]},z))}):e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[e.jsxs(ye,{children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Ve,{className:"text-sm",children:"Total Users"}),e.jsx(qs,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs(Ae,{children:[e.jsx("div",{className:"text-2xl",children:x.totalUsers.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx(ga,{className:"w-3 h-3 inline mr-1"}),x.usersGrowth," from last month"]})]})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Ve,{className:"text-sm",children:"Total Authors"}),e.jsx(iS,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs(Ae,{children:[e.jsx("div",{className:"text-2xl",children:x.totalAuthors.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx(ga,{className:"w-3 h-3 inline mr-1"}),x.authorsGrowth," from last month"]})]})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Ve,{className:"text-sm",children:"Total Books"}),e.jsx(yt,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs(Ae,{children:[e.jsx("div",{className:"text-2xl",children:x.totalBooks.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx(ga,{className:"w-3 h-3 inline mr-1"}),x.booksGrowth," from last month"]})]})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Ve,{className:"text-sm",children:"Pending Reports"}),e.jsx(Vo,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs(Ae,{children:[e.jsx("div",{className:"text-2xl",children:x.pendingReports}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Requires attention"})]})]}),e.jsxs(ye,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>c("verification-requests"),children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Ve,{className:"text-sm",children:"Pending Verifications"}),e.jsx(hn,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs(Ae,{children:[e.jsx("div",{className:"text-2xl",children:x.pendingVerifications||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Author verification requests"})]})]}),e.jsxs(ye,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>c("pending-books"),children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Ve,{className:"text-sm",children:"Pending Books"}),e.jsx(yt,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs(Ae,{children:[e.jsx("div",{className:"text-2xl",children:x.pendingBooks||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Books awaiting approval"})]})]})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Recent Reports"}),e.jsx(ot,{children:"Latest reports that need review"})]}),e.jsx(Ae,{children:G?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(z=>e.jsx("div",{className:"h-12 bg-muted animate-pulse rounded"},z))}):le.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No pending reports"}):e.jsxs($n,{children:[e.jsx(Hn,{children:e.jsxs(sa,{children:[e.jsx(St,{children:"Type"}),e.jsx(St,{children:"Target"}),e.jsx(St,{children:"Reporter"}),e.jsx(St,{children:"Reason"}),e.jsx(St,{children:"Date"}),e.jsx(St,{children:"Status"})]})}),e.jsx(qn,{children:le.slice(0,5).map(z=>e.jsxs(sa,{children:[e.jsx(kt,{children:e.jsx(Ke,{variant:"outline",children:z.type})}),e.jsx(kt,{children:z.reported}),e.jsx(kt,{children:z.reporter}),e.jsx(kt,{children:z.reason}),e.jsx(kt,{children:new Date(z.date).toLocaleDateString()}),e.jsx(kt,{children:e.jsx(Ke,{variant:z.status==="pending"?"secondary":"default",children:z.status})})]},z.id))})]})})]})]}),i==="users"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"User Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage registered users and their accounts"})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"All Users"}),e.jsx(ot,{children:"View and manage user accounts"})]}),e.jsxs(Ae,{children:[e.jsxs("div",{className:"mb-4 flex gap-2",children:[e.jsx(Ee,{placeholder:"Search users...",className:"max-w-sm",value:N,onChange:z=>T(z.target.value),onKeyDown:z=>z.key==="Enter"&&is()}),e.jsxs(I,{onClick:is,variant:"outline",children:[e.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Search"]})]}),R?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(z=>e.jsx("div",{className:"h-12 bg-muted animate-pulse rounded"},z))}):g.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No users found"}):e.jsxs(e.Fragment,{children:[e.jsxs($n,{children:[e.jsx(Hn,{children:e.jsxs(sa,{children:[e.jsx(St,{children:"Username"}),e.jsx(St,{children:"Email"}),e.jsx(St,{children:"Role"}),e.jsx(St,{children:"Joined"}),e.jsx(St,{children:"Status"})]})}),e.jsx(qn,{children:g.map(z=>e.jsxs(sa,{children:[e.jsx(kt,{children:z.username}),e.jsx(kt,{children:z.email}),e.jsx(kt,{children:e.jsx(Ke,{variant:z.role==="admin"?"destructive":"default",children:z.role})}),e.jsx(kt,{children:new Date(z.join_date).toLocaleDateString()}),e.jsx(kt,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{variant:z.is_active?"default":"destructive",children:z.is_active?"Active":"Deactivated"}),z.role!=="admin"&&e.jsx(I,{variant:z.is_active?"destructive":"default",size:"sm",onClick:()=>Fr(z.user_id,z.username,z.is_active),disabled:Ne===z.user_id,className:z.is_active?"bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white border-0 shadow-sm":"bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white border-0 shadow-sm",children:Ne===z.user_id?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):z.is_active?"Deactivate":"Activate"})]})})]},z.user_id))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",w," of ",S]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>C(z=>Math.max(1,z-1)),disabled:w===1,children:"Previous"}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>C(z=>Math.min(S,z+1)),disabled:w===S,children:"Next"})]})]})]})]})]})]}),i==="authors"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Author Management"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage registered authors"})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"All Authors"}),e.jsx(ot,{children:"Browse verified and unverified authors"})]}),e.jsxs(Ae,{children:[e.jsxs("div",{className:"mb-4 flex gap-2",children:[e.jsx(Ee,{placeholder:"Search authors...",className:"max-w-sm",value:oe,onChange:z=>W(z.target.value),onKeyDown:z=>z.key==="Enter"&&il()}),e.jsxs(I,{onClick:il,variant:"outline",children:[e.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Search"]})]}),me?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(z=>e.jsx("div",{className:"h-12 bg-muted animate-pulse rounded"},z))}):_.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No authors found"}):e.jsxs(e.Fragment,{children:[e.jsxs($n,{children:[e.jsx(Hn,{children:e.jsxs(sa,{children:[e.jsx(St,{children:"Name"}),e.jsx(St,{children:"Email"}),e.jsx(St,{children:"Books"}),e.jsx(St,{children:"Verified"})]})}),e.jsx(qn,{children:_.map(z=>e.jsxs(sa,{children:[e.jsx(kt,{children:z.name}),e.jsx(kt,{children:z.email}),e.jsx(kt,{children:z.book_count||0}),e.jsx(kt,{children:e.jsx(Ke,{variant:z.verified?"default":"secondary",children:z.verified?"Verified":"Unverified"})})]},z.author_id))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",P," of ",se]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>$(z=>Math.max(1,z-1)),disabled:P===1,children:"Previous"}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>$(z=>Math.min(se,z+1)),disabled:P===se,children:"Next"})]})]})]})]})]})]}),i==="verification-requests"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Author Verification Requests"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and approve author verification requests"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:Le==="pending"?"default":"outline",onClick:()=>{ee("pending"),Se(1)},children:"Pending"}),e.jsx(I,{variant:Le==="approved"?"default":"outline",onClick:()=>{ee("approved"),Se(1)},children:"Approved"}),e.jsx(I,{variant:Le==="rejected"?"default":"outline",onClick:()=>{ee("rejected"),Se(1)},children:"Rejected"})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsxs(Ve,{children:["Verification Requests (",Le,")"]}),e.jsx(ot,{children:"Review identity documents and approve authors"})]}),e.jsx(Ae,{children:Qe?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(z=>e.jsx("div",{className:"h-12 bg-muted animate-pulse rounded"},z))}):Be.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(hn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsxs("p",{className:"text-muted-foreground",children:["No ",Le," requests"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs($n,{children:[e.jsx(Hn,{children:e.jsxs(sa,{children:[e.jsx(St,{children:"User"}),e.jsx(St,{children:"Full Name"}),e.jsx(St,{children:"Submitted"}),Le!=="pending"&&e.jsx(St,{children:"Reviewed"}),e.jsx(St,{children:"Actions"})]})}),e.jsx(qn,{children:Be.map(z=>e.jsxs(sa,{children:[e.jsx(kt,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(as,{className:"w-8 h-8",children:[e.jsx(vs,{src:z.profile_image}),e.jsx(rs,{children:z.username[0]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:z.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:z.email})]})]})}),e.jsx(kt,{children:z.full_name}),e.jsx(kt,{children:new Date(z.submitted_at).toLocaleDateString()}),Le!=="pending"&&e.jsx(kt,{children:z.reviewed_at&&new Date(z.reviewed_at).toLocaleDateString()}),e.jsx(kt,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>_t(z),children:[e.jsx(zf,{className:"w-4 h-4 mr-1"}),"View"]}),Le==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(I,{size:"sm",onClick:()=>Tt(z.request_id,z.username),disabled:Ue===z.request_id,className:"bg-green-600 hover:bg-green-700 text-white",children:Ue===z.request_id?e.jsx(ra,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Us,{className:"w-4 h-4 mr-1"}),"Approve"]})}),e.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>Xt(z.request_id,z.username),disabled:Ue===z.request_id,children:[e.jsx(Aa,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})})]},z.request_id))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",ct," of ",L]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>Se(z=>Math.max(1,z-1)),disabled:ct===1,children:"Previous"}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>Se(z=>Math.min(L,z+1)),disabled:ct===L,children:"Next"})]})]})]})})]})]}),i==="books"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Book Management"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage approved books"})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"All Books"}),e.jsx(ot,{children:"Browse approved books in the library"})]}),e.jsxs(Ae,{children:[e.jsxs("div",{className:"mb-4 flex gap-2",children:[e.jsx(Ee,{placeholder:"Search books...",className:"max-w-sm",value:B,onChange:z=>Z(z.target.value),onKeyDown:z=>z.key==="Enter"&&cl()}),e.jsxs(I,{onClick:cl,variant:"outline",children:[e.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Search"]})]}),U?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(z=>e.jsx("div",{className:"h-12 bg-muted animate-pulse rounded"},z))}):ce.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No books found"}):e.jsxs(e.Fragment,{children:[e.jsxs($n,{children:[e.jsx(Hn,{children:e.jsxs(sa,{children:[e.jsx(St,{children:"Title"}),e.jsx(St,{children:"Author(s)"}),e.jsx(St,{children:"Genre(s)"}),e.jsx(St,{children:"Rating"}),e.jsx(St,{children:"Status"})]})}),e.jsx(qn,{children:ce.map(z=>e.jsxs(sa,{children:[e.jsx(kt,{className:"font-medium",children:z.title}),e.jsx(kt,{children:z.authors||"Unknown"}),e.jsx(kt,{children:z.genres||"N/A"}),e.jsx(kt,{children:z.average_rating?.toFixed(1)||"0.0"}),e.jsx(kt,{children:e.jsx(Ke,{variant:"default",children:z.approval_status})})]},z.book_id))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",q," of ",ae]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>M(z=>Math.max(1,z-1)),disabled:q===1,children:"Previous"}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>M(z=>Math.min(ae,z+1)),disabled:q===ae,children:"Next"})]})]})]})]})]})]}),i==="reports"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Report Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and handle user reports"})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Pending Reports"}),e.jsx(ot,{children:"Reports that require action"})]}),e.jsx(Ae,{children:G?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(z=>e.jsx("div",{className:"h-12 bg-muted animate-pulse rounded"},z))}):le.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No pending reports"}):e.jsxs($n,{children:[e.jsx(Hn,{children:e.jsxs(sa,{children:[e.jsx(St,{children:"Type"}),e.jsx(St,{children:"Target"}),e.jsx(St,{children:"Reporter"}),e.jsx(St,{children:"Reason"}),e.jsx(St,{children:"Date"}),e.jsx(St,{children:"Status"})]})}),e.jsx(qn,{children:le.map(z=>e.jsxs(sa,{children:[e.jsx(kt,{children:e.jsx(Ke,{variant:"outline",children:z.type})}),e.jsx(kt,{children:z.reported}),e.jsx(kt,{children:z.reporter}),e.jsx(kt,{children:z.reason}),e.jsx(kt,{children:new Date(z.date).toLocaleDateString()}),e.jsx(kt,{children:e.jsx(Ke,{variant:z.status==="pending"?"secondary":"default",children:z.status})})]},z.id))})]})})]})]}),i==="add-book"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Add New Book"}),e.jsx("p",{className:"text-muted-foreground",children:"Manually add a book to the library"})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Book Information"}),e.jsx(ot,{children:"Enter the details for the new book"})]}),e.jsx(Ae,{children:e.jsxs("form",{onSubmit:Ui,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ee,{value:Ht.title,onChange:z=>Is({...Ht,title:z.target.value}),placeholder:"Enter book title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Summary"}),e.jsx("textarea",{value:Ht.summary,onChange:z=>Is({...Ht,summary:z.target.value}),placeholder:"Enter book summary or description",className:"w-full min-h-[100px] px-3 py-2 rounded-md border border-border bg-background text-foreground resize-y focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"ISBN"}),e.jsx(Ee,{value:Ht.isbn,onChange:z=>Is({...Ht,isbn:z.target.value}),placeholder:"Enter ISBN"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Publish Date"}),e.jsx(Ee,{type:"date",value:Ht.publish_date,onChange:z=>Is({...Ht,publish_date:z.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cover Image URL"}),e.jsx(Ee,{value:Ht.cover_image_url,onChange:z=>Is({...Ht,cover_image_url:z.target.value}),placeholder:"https://example.com/cover.jpg",type:"url"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Authors ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-2",children:[Ht.authors.map((z,Ie)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ee,{value:z,onChange:pt=>oo(Ie,pt.target.value),placeholder:`Author ${Ie+1}`}),Ht.authors.length>1&&e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>Li(Ie),children:"Remove"})]},Ie)),e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:ul,children:"Add Another Author"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Genres ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-2",children:[Ht.genres.map((z,Ie)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ee,{value:z,onChange:pt=>ml(Ie,pt.target.value),placeholder:`Genre ${Ie+1}`}),Ht.genres.length>1&&e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>Ks(Ie),children:"Remove"})]},Ie)),e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:nu,children:"Add Another Genre"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(I,{type:"submit",disabled:Mi,className:"flex-1",children:Mi?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Adding Book..."]}):"Add Book"}),e.jsx(I,{type:"button",variant:"outline",onClick:()=>{Is({title:"",summary:"",isbn:"",publish_date:"",cover_image_url:"",source_name:"Manual",authors:[""],genres:[""]})},children:"Reset"})]})]})})]})]})]})})]})}const ZR="modulepreload",QR=function(a){return"/"+a},pb={},qo=function(n,l,i){let c=Promise.resolve();if(l&&l.length>0){let v=function(b){return Promise.all(b.map(g=>Promise.resolve(g).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var h=v;document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),p=x?.nonce||x?.getAttribute("nonce");c=v(l.map(b=>{if(b=QR(b),b in pb)return;pb[b]=!0;const g=b.endsWith(".css"),j=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${j}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":ZR,g||(w.as="script"),w.crossOrigin="",w.href=b,p&&w.setAttribute("nonce",p),document.head.appendChild(w),g)return new Promise((C,S)=>{w.addEventListener("load",C),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${b}`)))})}))}function u(x){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=x,window.dispatchEvent(p),!p.defaultPrevented)throw x}return c.then(x=>{for(const p of x||[])p.status==="rejected"&&u(p.reason);return n().catch(u)})};var JR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],WR=JR.reduce((a,n)=>{const l=Si(`Primitive.${n}`),i=m.forwardRef((c,u)=>{const{asChild:h,...x}=c,p=h?l:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(p,{...x,ref:u})});return i.displayName=`Primitive.${n}`,{...a,[n]:i}},{}),eA="Label",d0=m.forwardRef((a,n)=>e.jsx(WR.label,{...a,ref:n,onMouseDown:l=>{l.target.closest("button, input, select, textarea")||(a.onMouseDown?.(l),!l.defaultPrevented&&l.detail>1&&l.preventDefault())}}));d0.displayName=eA;var tA=d0;function Me({className:a,...n}){return e.jsx(tA,{"data-slot":"label",className:Fe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...n})}function vb(a){const n=sA(a),l=m.forwardRef((i,c)=>{const{children:u,...h}=i,x=m.Children.toArray(u),p=x.find(rA);if(p){const v=p.props.children,b=x.map(g=>g===p?m.Children.count(v)>1?m.Children.only(null):m.isValidElement(v)?v.props.children:null:g);return e.jsx(n,{...h,ref:c,children:m.isValidElement(v)?m.cloneElement(v,void 0,b):null})}return e.jsx(n,{...h,ref:c,children:u})});return l.displayName=`${a}.Slot`,l}function sA(a){const n=m.forwardRef((l,i)=>{const{children:c,...u}=l;if(m.isValidElement(c)){const h=oA(c),x=nA(u,c.props);return c.type!==m.Fragment&&(x.ref=i?Lr(i,h):h),m.cloneElement(c,x)}return m.Children.count(c)>1?m.Children.only(null):null});return n.displayName=`${a}.SlotClone`,n}var aA=Symbol("radix.slottable");function rA(a){return m.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===aA}function nA(a,n){const l={...n};for(const i in n){const c=a[i],u=n[i];/^on[A-Z]/.test(i)?c&&u?l[i]=(...x)=>{const p=u(...x);return c(...x),p}:c&&(l[i]=c):i==="style"?l[i]={...c,...u}:i==="className"&&(l[i]=[c,u].filter(Boolean).join(" "))}return{...a,...l}}function oA(a){let n=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?a.ref:(n=Object.getOwnPropertyDescriptor(a,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?a.props.ref:a.props.ref||a.ref)}function Ld(a){const n=a+"CollectionProvider",[l,i]=oa(n),[c,u]=l(n,{collectionRef:{current:null},itemMap:new Map}),h=S=>{const{scope:E,children:N}=S,T=Re.useRef(null),R=Re.useRef(new Map).current;return e.jsx(c,{scope:E,itemMap:R,collectionRef:T,children:N})};h.displayName=n;const x=a+"CollectionSlot",p=vb(x),v=Re.forwardRef((S,E)=>{const{scope:N,children:T}=S,R=u(x,N),D=it(E,R.collectionRef);return e.jsx(p,{ref:D,children:T})});v.displayName=x;const b=a+"CollectionItemSlot",g="data-radix-collection-item",j=vb(b),w=Re.forwardRef((S,E)=>{const{scope:N,children:T,...R}=S,D=Re.useRef(null),_=it(E,D),O=u(b,N);return Re.useEffect(()=>(O.itemMap.set(D,{ref:D,...R}),()=>void O.itemMap.delete(D))),e.jsx(j,{[g]:"",ref:_,children:T})});w.displayName=b;function C(S){const E=u(a+"CollectionConsumer",S);return Re.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const R=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((O,P)=>R.indexOf(O.ref.current)-R.indexOf(P.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:h,Slot:v,ItemSlot:w},C,i]}var lA=m.createContext(void 0);function eo(a){const n=m.useContext(lA);return a||n||"ltr"}var _f="rovingFocusGroup.onEntryFocus",iA={bubbles:!1,cancelable:!0},Ci="RovingFocusGroup",[qf,u0,cA]=Ld(Ci),[dA,sl]=oa(Ci,[cA]),[uA,mA]=dA(Ci),m0=m.forwardRef((a,n)=>e.jsx(qf.Provider,{scope:a.__scopeRovingFocusGroup,children:e.jsx(qf.Slot,{scope:a.__scopeRovingFocusGroup,children:e.jsx(fA,{...a,ref:n})})}));m0.displayName=Ci;var fA=m.forwardRef((a,n)=>{const{__scopeRovingFocusGroup:l,orientation:i,loop:c=!1,dir:u,currentTabStopId:h,defaultCurrentTabStopId:x,onCurrentTabStopIdChange:p,onEntryFocus:v,preventScrollOnEntryFocus:b=!1,...g}=a,j=m.useRef(null),w=it(n,j),C=eo(u),[S,E]=Or({prop:h,defaultProp:x??null,onChange:p,caller:Ci}),[N,T]=m.useState(!1),R=Os(v),D=u0(l),_=m.useRef(!1),[O,P]=m.useState(0);return m.useEffect(()=>{const $=j.current;if($)return $.addEventListener(_f,R),()=>$.removeEventListener(_f,R)},[R]),e.jsx(uA,{scope:l,orientation:i,dir:C,loop:c,currentTabStopId:S,onItemFocus:m.useCallback($=>E($),[E]),onItemShiftTab:m.useCallback(()=>T(!0),[]),onFocusableItemAdd:m.useCallback(()=>P($=>$+1),[]),onFocusableItemRemove:m.useCallback(()=>P($=>$-1),[]),children:e.jsx(et.div,{tabIndex:N||O===0?-1:0,"data-orientation":i,...g,ref:w,style:{outline:"none",...a.style},onMouseDown:Oe(a.onMouseDown,()=>{_.current=!0}),onFocus:Oe(a.onFocus,$=>{const se=!_.current;if($.target===$.currentTarget&&se&&!N){const xe=new CustomEvent(_f,iA);if($.currentTarget.dispatchEvent(xe),!xe.defaultPrevented){const oe=D().filter(A=>A.focusable),W=oe.find(A=>A.active),me=oe.find(A=>A.id===S),ce=[W,me,...oe].filter(Boolean).map(A=>A.ref.current);x0(ce,b)}}_.current=!1}),onBlur:Oe(a.onBlur,()=>T(!1))})})}),f0="RovingFocusGroupItem",h0=m.forwardRef((a,n)=>{const{__scopeRovingFocusGroup:l,focusable:i=!0,active:c=!1,tabStopId:u,children:h,...x}=a,p=rr(),v=u||p,b=mA(f0,l),g=b.currentTabStopId===v,j=u0(l),{onFocusableItemAdd:w,onFocusableItemRemove:C,currentTabStopId:S}=b;return m.useEffect(()=>{if(i)return w(),()=>C()},[i,w,C]),e.jsx(qf.ItemSlot,{scope:l,id:v,focusable:i,active:c,children:e.jsx(et.span,{tabIndex:g?0:-1,"data-orientation":b.orientation,...x,ref:n,onMouseDown:Oe(a.onMouseDown,E=>{i?b.onItemFocus(v):E.preventDefault()}),onFocus:Oe(a.onFocus,()=>b.onItemFocus(v)),onKeyDown:Oe(a.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){b.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const N=gA(E,b.orientation,b.dir);if(N!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let R=j().filter(D=>D.focusable).map(D=>D.ref.current);if(N==="last")R.reverse();else if(N==="prev"||N==="next"){N==="prev"&&R.reverse();const D=R.indexOf(E.currentTarget);R=b.loop?pA(R,D+1):R.slice(D+1)}setTimeout(()=>x0(R))}}),children:typeof h=="function"?h({isCurrentTabStop:g,hasTabStop:S!=null}):h})})});h0.displayName=f0;var hA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xA(a,n){return n!=="rtl"?a:a==="ArrowLeft"?"ArrowRight":a==="ArrowRight"?"ArrowLeft":a}function gA(a,n,l){const i=xA(a.key,l);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return hA[i]}function x0(a,n=!1){const l=document.activeElement;for(const i of a)if(i===l||(i.focus({preventScroll:n}),document.activeElement!==l))return}function pA(a,n){return a.map((l,i)=>a[(n+i)%a.length])}var yh=m0,jh=h0,Ud="Tabs",[vA]=oa(Ud,[sl]),g0=sl(),[bA,wh]=vA(Ud),p0=m.forwardRef((a,n)=>{const{__scopeTabs:l,value:i,onValueChange:c,defaultValue:u,orientation:h="horizontal",dir:x,activationMode:p="automatic",...v}=a,b=eo(x),[g,j]=Or({prop:i,onChange:c,defaultProp:u??"",caller:Ud});return e.jsx(bA,{scope:l,baseId:rr(),value:g,onValueChange:j,orientation:h,dir:b,activationMode:p,children:e.jsx(et.div,{dir:b,"data-orientation":h,...v,ref:n})})});p0.displayName=Ud;var v0="TabsList",b0=m.forwardRef((a,n)=>{const{__scopeTabs:l,loop:i=!0,...c}=a,u=wh(v0,l),h=g0(l);return e.jsx(yh,{asChild:!0,...h,orientation:u.orientation,dir:u.dir,loop:i,children:e.jsx(et.div,{role:"tablist","aria-orientation":u.orientation,...c,ref:n})})});b0.displayName=v0;var y0="TabsTrigger",j0=m.forwardRef((a,n)=>{const{__scopeTabs:l,value:i,disabled:c=!1,...u}=a,h=wh(y0,l),x=g0(l),p=S0(h.baseId,i),v=k0(h.baseId,i),b=i===h.value;return e.jsx(jh,{asChild:!0,...x,focusable:!c,active:b,children:e.jsx(et.button,{type:"button",role:"tab","aria-selected":b,"aria-controls":v,"data-state":b?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:p,...u,ref:n,onMouseDown:Oe(a.onMouseDown,g=>{!c&&g.button===0&&g.ctrlKey===!1?h.onValueChange(i):g.preventDefault()}),onKeyDown:Oe(a.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&h.onValueChange(i)}),onFocus:Oe(a.onFocus,()=>{const g=h.activationMode!=="manual";!b&&!c&&g&&h.onValueChange(i)})})})});j0.displayName=y0;var w0="TabsContent",N0=m.forwardRef((a,n)=>{const{__scopeTabs:l,value:i,forceMount:c,children:u,...h}=a,x=wh(w0,l),p=S0(x.baseId,i),v=k0(x.baseId,i),b=i===x.value,g=m.useRef(b);return m.useEffect(()=>{const j=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(j)},[]),e.jsx(Ys,{present:c||b,children:({present:j})=>e.jsx(et.div,{"data-state":b?"active":"inactive","data-orientation":x.orientation,role:"tabpanel","aria-labelledby":p,hidden:!j,id:v,tabIndex:0,...h,ref:n,style:{...a.style,animationDuration:g.current?"0s":void 0},children:j&&u})})});N0.displayName=w0;function S0(a,n){return`${a}-trigger-${n}`}function k0(a,n){return`${a}-content-${n}`}var yA=p0,jA=b0,wA=j0,NA=N0;function or({className:a,...n}){return e.jsx(yA,{"data-slot":"tabs",className:Fe("flex flex-col gap-2",a),...n})}function lr({className:a,...n}){return e.jsx(jA,{"data-slot":"tabs-list",className:Fe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",a),...n})}function Qt({className:a,...n}){return e.jsx(wA,{"data-slot":"tabs-trigger",className:Fe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...n})}function Jt({className:a,...n}){return e.jsx(NA,{"data-slot":"tabs-content",className:Fe("flex-1 outline-none",a),...n})}function bb({onBack:a,onLogin:n,theme:l,onToggleTheme:i,defaultTab:c="login"}){const[u,h]=m.useState(""),[x,p]=m.useState(""),[v,b]=m.useState(""),[g,j]=m.useState(""),[w,C]=m.useState(""),[S,E]=m.useState(""),[N,T]=m.useState({}),[R,D]=m.useState(""),[_,O]=m.useState(!1),[P,$]=m.useState(""),[se,xe]=m.useState(""),[oe,W]=m.useState(!1),[me,ue]=m.useState(!1),[ce,A]=m.useState(""),[q,M]=m.useState(!1),[ae,ve]=m.useState(""),[B,Z]=m.useState(""),[U,Q]=m.useState(""),[le,te]=m.useState(""),G=Se=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Se),he=Se=>Se.length>=8,Ne=async Se=>{Se.preventDefault();const L={};if(u?G(u)||(L.loginEmail="Please enter a valid email"):L.loginEmail="Email is required",x?he(x)||(L.loginPassword="Password must be at least 8 characters"):L.loginPassword="Password is required",T(L),Object.keys(L).length===0){O(!0);try{const{authService:we}=await qo(async()=>{const{authService:ee}=await Promise.resolve().then(()=>Fo);return{authService:ee}},void 0),Le=await we.login({email:u,password:x});console.log("Login successful",Le),n&&n({username:Le.username,email:Le.email})}catch(we){console.error("Login error:",we),T({loginPassword:we.message||"Login failed. Please check your credentials."})}finally{O(!1)}}},_e=async Se=>{Se.preventDefault();const L={};if(v?G(v)||(L.registerEmail="Please enter a valid email"):L.registerEmail="Email is required",g?g.length<3?L.registerUsername="Username must be at least 3 characters":/^[a-z0-9_]+$/.test(g)||(L.registerUsername="Username can only contain lowercase letters, numbers, and underscores"):L.registerUsername="Username is required",le?le.length<2&&(L.registerDisplayName="Display name must be at least 2 characters"):L.registerDisplayName="Display name is required",w?he(w)||(L.registerPassword="Password must be at least 8 characters"):L.registerPassword="Password is required",S?w!==S&&(L.registerConfirmPassword="Passwords do not match"):L.registerConfirmPassword="Please confirm your password",T(L),Object.keys(L).length===0){O(!0);try{const{authService:we}=await qo(async()=>{const{authService:ee}=await Promise.resolve().then(()=>Fo);return{authService:ee}},void 0),Le=await we.register({email:v,password:w,username:g,displayName:le});console.log("Registration successful",Le),D(Le.message),$(v),W(!0),b(""),j(""),te(""),C(""),E("")}catch(we){console.error("Registration error:",we),T({registerPassword:we.message||"Registration failed. Please try again."})}finally{O(!1)}}},Be=async Se=>{Se.preventDefault(),O(!0),T({}),D("");try{const{authService:L}=await qo(async()=>{const{authService:we}=await Promise.resolve().then(()=>Fo);return{authService:we}},void 0);await L.confirmSignUp(P,se),D("Email verified successfully! You can now sign in."),W(!1),xe("")}catch(L){console.error("Verification error:",L),T({verificationCode:L.message||"Verification failed. Please check your code."})}finally{O(!1)}},Pe=async Se=>{if(Se.preventDefault(),O(!0),T({}),D(""),!ce){T({forgotPasswordEmail:"Email is required"}),O(!1);return}if(!G(ce)){T({forgotPasswordEmail:"Please enter a valid email"}),O(!1);return}try{const{authService:L}=await qo(async()=>{const{authService:we}=await Promise.resolve().then(()=>Fo);return{authService:we}},void 0);await L.forgotPassword(ce),D(`Password reset code sent to ${ce}`),M(!0)}catch(L){console.error("Forgot password error:",L),T({forgotPasswordEmail:L.message||"Failed to send reset code. Please try again."})}finally{O(!1)}},ct=async Se=>{Se.preventDefault();const L={};if(ae||(L.resetCode="Verification code is required"),B?he(B)||(L.newPassword="Password must be at least 8 characters"):L.newPassword="New password is required",U?B!==U&&(L.confirmNewPassword="Passwords do not match"):L.confirmNewPassword="Please confirm your password",T(L),Object.keys(L).length===0){O(!0);try{const{authService:we}=await qo(async()=>{const{authService:Le}=await Promise.resolve().then(()=>Fo);return{authService:Le}},void 0);await we.resetPassword(ce,ae,B),D("Password reset successfully! You can now sign in with your new password."),ue(!1),M(!1),A(""),ve(""),Z(""),Q("")}catch(we){console.error("Reset password error:",we),T({resetCode:we.message||"Failed to reset password. Please check your code."})}finally{O(!1)}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 bg-gradient-to-b from-background via-background to-card",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a&&e.jsxs(I,{variant:"ghost",size:"sm",onClick:a,children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),e.jsx("div",{className:a?"":"ml-auto",children:e.jsx(js,{theme:l,onToggle:i})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[e.jsx(Vs,{className:"w-10 h-10"}),e.jsx("span",{className:"text-3xl",children:"BookArc"})]}),R&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:R})}),me&&e.jsxs(ye,{className:"mb-6 border-border bg-card",children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:q?"Reset Password":"Forgot Password"}),e.jsx(ot,{children:q?"Enter the code sent to your email and create a new password":"Enter your email to receive a password reset code"})]}),e.jsx(Ae,{children:q?e.jsxs("form",{onSubmit:ct,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"reset-code",children:"Verification Code"}),e.jsx(Ee,{id:"reset-code",type:"text",placeholder:"Enter code from email",className:N.resetCode?"border-red-500":"",value:ae,onChange:Se=>{ve(Se.target.value),T(L=>({...L,resetCode:""}))}}),N.resetCode&&e.jsx("p",{className:"text-sm text-red-500",children:N.resetCode})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"new-password",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"new-password",type:"password",placeholder:"",className:`pl-10 ${N.newPassword?"border-red-500":""}`,value:B,onChange:Se=>{Z(Se.target.value),T(L=>({...L,newPassword:""}))}})]}),N.newPassword&&e.jsx("p",{className:"text-sm text-red-500",children:N.newPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"confirm-new-password",type:"password",placeholder:"",className:`pl-10 ${N.confirmNewPassword?"border-red-500":""}`,value:U,onChange:Se=>{Q(Se.target.value),T(L=>({...L,confirmNewPassword:""}))}})]}),N.confirmNewPassword&&e.jsx("p",{className:"text-sm text-red-500",children:N.confirmNewPassword})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{M(!1),ue(!1),ve(""),Z(""),Q(""),T({})},disabled:_,children:"Cancel"}),e.jsx(I,{type:"submit",className:"flex-1",disabled:_,children:_?"Resetting...":"Reset Password"})]})]}):e.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"forgot-password-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"forgot-password-email",type:"email",placeholder:"your@email.com",className:`pl-10 ${N.forgotPasswordEmail?"border-red-500":""}`,value:ce,onChange:Se=>{A(Se.target.value),T(L=>({...L,forgotPasswordEmail:""}))}})]}),N.forgotPasswordEmail&&e.jsx("p",{className:"text-sm text-red-500",children:N.forgotPasswordEmail})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{ue(!1),A(""),T({})},disabled:_,children:"Cancel"}),e.jsx(I,{type:"submit",className:"flex-1",disabled:_,children:_?"Sending...":"Send Code"})]})]})})]}),e.jsxs(or,{defaultValue:c,className:"w-full",children:[e.jsxs(lr,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(Qt,{value:"login",children:"Login"}),e.jsx(Qt,{value:"register",children:"Register"})]}),e.jsx(Jt,{value:"login",children:e.jsxs(ye,{className:"border-border bg-card",children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Welcome Back"}),e.jsx(ot,{children:"Sign in to your BookArc account"})]}),e.jsx(Ae,{className:"space-y-4",children:e.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"login-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"login-email",type:"email",placeholder:"your@email.com",className:`pl-10 ${N.loginEmail?"border-red-500":""}`,value:u,onChange:Se=>{h(Se.target.value),T(L=>({...L,loginEmail:""}))}})]}),N.loginEmail&&e.jsx("p",{className:"text-sm text-red-500",children:N.loginEmail})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"login-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"login-password",type:"password",placeholder:"",className:`pl-10 ${N.loginPassword?"border-red-500":""}`,value:x,onChange:Se=>{p(Se.target.value),T(L=>({...L,loginPassword:""}))}})]}),N.loginPassword&&e.jsx("p",{className:"text-sm text-red-500",children:N.loginPassword})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{type:"button",onClick:()=>ue(!0),className:"text-sm text-primary hover:underline",children:"Forgot password?"})}),e.jsx(I,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:_,children:_?"Signing in...":"Sign In"})]})})]})}),e.jsx(Jt,{value:"register",children:e.jsxs(ye,{className:"border-border bg-card",children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Create Account"}),e.jsx(ot,{children:"Join the BookArc community"})]}),e.jsxs(Ae,{className:"space-y-4",children:[oe&&e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-muted/50",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Verify Your Email"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["We've sent a verification code to ",P]}),e.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"verification-code",children:"Verification Code"}),e.jsx(Ee,{id:"verification-code",type:"text",placeholder:"Enter 6-digit code",value:se,onChange:Se=>{xe(Se.target.value),T(L=>({...L,verificationCode:""}))},className:N.verificationCode?"border-red-500":""}),N.verificationCode&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:N.verificationCode})]}),e.jsx(I,{type:"submit",className:"w-full",disabled:_,children:_?"Verifying...":"Verify Email"}),e.jsx(I,{type:"button",variant:"ghost",className:"w-full",disabled:_,onClick:async()=>{try{O(!0);const{authService:Se}=await qo(async()=>{const{authService:L}=await Promise.resolve().then(()=>Fo);return{authService:L}},void 0);await Se.resendVerificationCode(P),D("Verification code resent!")}catch(Se){T({verificationCode:Se.message})}finally{O(!1)}},children:"Resend Code"})]})]}),!oe&&e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"register-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"register-email",type:"email",placeholder:"your@email.com",className:`pl-10 ${N.registerEmail?"border-red-500":""}`,value:v,onChange:Se=>{b(Se.target.value),T(L=>({...L,registerEmail:""}))}})]}),N.registerEmail&&e.jsx("p",{className:"text-sm text-red-500",children:N.registerEmail})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"register-username",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"register-username",type:"text",placeholder:"username123",className:`pl-10 ${N.registerUsername?"border-red-500":""}`,value:g,onChange:Se=>{const L=Se.target.value.toLowerCase().replace(/\s/g,"");j(L),T(we=>({...we,registerUsername:""}))}})]}),N.registerUsername&&e.jsx("p",{className:"text-sm text-red-500",children:N.registerUsername}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your unique username - cannot be changed later"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"register-display-name",children:"Display Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"register-display-name",type:"text",placeholder:"DisplayName123",className:`pl-10 ${N.registerDisplayName?"border-red-500":""}`,value:le,onChange:Se=>{te(Se.target.value),T(L=>({...L,registerDisplayName:""}))}})]}),N.registerDisplayName&&e.jsx("p",{className:"text-sm text-red-500",children:N.registerDisplayName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"How your name appears to others (can be changed later)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"register-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"register-password",type:"password",placeholder:"",className:`pl-10 ${N.registerPassword?"border-red-500":""}`,value:w,onChange:Se=>{C(Se.target.value),T(L=>({...L,registerPassword:""}))}})]}),N.registerPassword&&e.jsx("p",{className:"text-sm text-red-500",children:N.registerPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"register-confirm-password",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"register-confirm-password",type:"password",placeholder:"",className:`pl-10 ${N.registerConfirmPassword?"border-red-500":""}`,value:S,onChange:Se=>{E(Se.target.value),T(L=>({...L,registerConfirmPassword:""}))}})]}),N.registerConfirmPassword&&e.jsx("p",{className:"text-sm text-red-500",children:N.registerConfirmPassword})]}),e.jsx(I,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:_,children:_?"Creating account...":"Create Account"})]})})]}),e.jsx(ud,{className:"flex justify-center",children:e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"By signing up, you agree to our Terms of Service and Privacy Policy"})})]})})]}),e.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Need help? ",e.jsx("a",{href:"#support",className:"text-primary hover:underline",children:"Contact Support"})]})]})})}var SA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kA=SA.reduce((a,n)=>{const l=Si(`Primitive.${n}`),i=m.forwardRef((c,u)=>{const{asChild:h,...x}=c,p=h?l:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(p,{...x,ref:u})});return i.displayName=`Primitive.${n}`,{...a,[n]:i}},{}),CA="Separator",yb="horizontal",RA=["horizontal","vertical"],C0=m.forwardRef((a,n)=>{const{decorative:l,orientation:i=yb,...c}=a,u=AA(i)?i:yb,x=l?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return e.jsx(kA.div,{"data-orientation":u,...x,...c,ref:n})});C0.displayName=CA;function AA(a){return RA.includes(a)}var _A=C0;function Lt({className:a,orientation:n="horizontal",decorative:l=!0,...i}){return e.jsx(_A,{"data-slot":"separator-root",decorative:l,orientation:n,className:Fe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...i})}function jb({className:a="w-5 h-5"}){return e.jsxs("svg",{className:a,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Fd(a){const n=m.useRef({value:a,previous:a});return m.useMemo(()=>(n.current.value!==a&&(n.current.previous=n.current.value,n.current.value=a),n.current.previous),[a])}function Id(a){const[n,l]=m.useState(void 0);return ys(()=>{if(a){l({width:a.offsetWidth,height:a.offsetHeight});const i=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const u=c[0];let h,x;if("borderBoxSize"in u){const p=u.borderBoxSize,v=Array.isArray(p)?p[0]:p;h=v.inlineSize,x=v.blockSize}else h=a.offsetWidth,x=a.offsetHeight;l({width:h,height:x})});return i.observe(a,{box:"border-box"}),()=>i.unobserve(a)}else l(void 0)},[a]),n}var $d="Checkbox",[EA]=oa($d),[TA,Nh]=EA($d);function DA(a){const{__scopeCheckbox:n,checked:l,children:i,defaultChecked:c,disabled:u,form:h,name:x,onCheckedChange:p,required:v,value:b="on",internal_do_not_use_render:g}=a,[j,w]=Or({prop:l,defaultProp:c??!1,onChange:p,caller:$d}),[C,S]=m.useState(null),[E,N]=m.useState(null),T=m.useRef(!1),R=C?!!h||!!C.closest("form"):!0,D={checked:j,disabled:u,setChecked:w,control:C,setControl:S,name:x,form:h,value:b,hasConsumerStoppedPropagationRef:T,required:v,defaultChecked:xn(c)?!1:c,isFormControl:R,bubbleInput:E,setBubbleInput:N};return e.jsx(TA,{scope:n,...D,children:MA(g)?g(D):i})}var R0="CheckboxTrigger",A0=m.forwardRef(({__scopeCheckbox:a,onKeyDown:n,onClick:l,...i},c)=>{const{control:u,value:h,disabled:x,checked:p,required:v,setControl:b,setChecked:g,hasConsumerStoppedPropagationRef:j,isFormControl:w,bubbleInput:C}=Nh(R0,a),S=it(c,b),E=m.useRef(p);return m.useEffect(()=>{const N=u?.form;if(N){const T=()=>g(E.current);return N.addEventListener("reset",T),()=>N.removeEventListener("reset",T)}},[u,g]),e.jsx(et.button,{type:"button",role:"checkbox","aria-checked":xn(p)?"mixed":p,"aria-required":v,"data-state":O0(p),"data-disabled":x?"":void 0,disabled:x,value:h,...i,ref:S,onKeyDown:Oe(n,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Oe(l,N=>{g(T=>xn(T)?!0:!T),C&&w&&(j.current=N.isPropagationStopped(),j.current||N.stopPropagation())})})});A0.displayName=R0;var _0=m.forwardRef((a,n)=>{const{__scopeCheckbox:l,name:i,checked:c,defaultChecked:u,required:h,disabled:x,value:p,onCheckedChange:v,form:b,...g}=a;return e.jsx(DA,{__scopeCheckbox:l,checked:c,defaultChecked:u,disabled:x,required:h,onCheckedChange:v,name:i,form:b,value:p,internal_do_not_use_render:({isFormControl:j})=>e.jsxs(e.Fragment,{children:[e.jsx(A0,{...g,ref:n,__scopeCheckbox:l}),j&&e.jsx(M0,{__scopeCheckbox:l})]})})});_0.displayName=$d;var E0="CheckboxIndicator",T0=m.forwardRef((a,n)=>{const{__scopeCheckbox:l,forceMount:i,...c}=a,u=Nh(E0,l);return e.jsx(Ys,{present:i||xn(u.checked)||u.checked===!0,children:e.jsx(et.span,{"data-state":O0(u.checked),"data-disabled":u.disabled?"":void 0,...c,ref:n,style:{pointerEvents:"none",...a.style}})})});T0.displayName=E0;var D0="CheckboxBubbleInput",M0=m.forwardRef(({__scopeCheckbox:a,...n},l)=>{const{control:i,hasConsumerStoppedPropagationRef:c,checked:u,defaultChecked:h,required:x,disabled:p,name:v,value:b,form:g,bubbleInput:j,setBubbleInput:w}=Nh(D0,a),C=it(l,w),S=Fd(u),E=Id(i);m.useEffect(()=>{const T=j;if(!T)return;const R=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(R,"checked").set,O=!c.current;if(S!==u&&_){const P=new Event("click",{bubbles:O});T.indeterminate=xn(u),_.call(T,xn(u)?!1:u),T.dispatchEvent(P)}},[j,S,u,c]);const N=m.useRef(xn(u)?!1:u);return e.jsx(et.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??N.current,required:x,disabled:p,name:v,value:b,form:g,...n,tabIndex:-1,ref:C,style:{...n.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});M0.displayName=D0;function MA(a){return typeof a=="function"}function xn(a){return a==="indeterminate"}function O0(a){return xn(a)?"indeterminate":a?"checked":"unchecked"}function OA({className:a,...n}){return e.jsx(_0,{"data-slot":"checkbox",className:Fe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...n,children:e.jsx(T0,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(Ss,{className:"size-3.5"})})})}const PA=oh("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function pa({className:a,variant:n,...l}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:Fe(PA({variant:n}),a),...l})}function va({className:a,...n}){return e.jsx("div",{"data-slot":"alert-description",className:Fe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...n})}function zA({onBack:a,onLogin:n,onRegister:l,theme:i,onToggleTheme:c}){const[u,h]=m.useState(""),[x,p]=m.useState(""),[v,b]=m.useState(""),[g,j]=m.useState(""),[w,C]=m.useState(""),[S,E]=m.useState(""),[N,T]=m.useState(!1),[R,D]=m.useState({}),[_,O]=m.useState(!1),[P,$]=m.useState(!1),se=ue=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ue),xe=ue=>ue.length>=8,oe=ue=>{ue.preventDefault();const ce={};u?se(u)||(ce.loginEmail="Please enter a valid email"):ce.loginEmail="Email is required",x?xe(x)||(ce.loginPassword="Password must be at least 8 characters"):ce.loginPassword="Password is required",D(ce),Object.keys(ce).length===0&&(O(!0),K.loading("Signing in..."),setTimeout(()=>{K.dismiss();const A={email:u,name:u.split("@")[0],profilePicture:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop"};localStorage.setItem("authorData",JSON.stringify(A)),localStorage.setItem("isAuthorLoggedIn","true"),localStorage.setItem("loginMethod","email"),console.log("Author login successful",{email:u}),K.success("Welcome back!",{description:"You have successfully signed in."}),O(!1),setTimeout(()=>{n?.()},500)},1500))},W=ue=>{ue.preventDefault();const ce={};v?se(v)||(ce.registerEmail="Please enter a valid email"):ce.registerEmail="Email is required",g?g.length<2&&(ce.registerPenName="Pen name must be at least 2 characters"):ce.registerPenName="Pen name is required",w?xe(w)||(ce.registerPassword="Password must be at least 8 characters"):ce.registerPassword="Password is required",S?w!==S&&(ce.registerConfirmPassword="Passwords do not match"):ce.registerConfirmPassword="Please confirm your password",D(ce),Object.keys(ce).length===0&&(O(!0),K.loading("Creating your author account..."),setTimeout(()=>{K.dismiss();const A={email:v,name:g,profilePicture:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop",verified:N};localStorage.setItem("authorData",JSON.stringify(A)),localStorage.setItem("isAuthorLoggedIn","true"),localStorage.setItem("loginMethod","email"),console.log("Author registration successful",{email:v,penName:g,requestVerification:N}),K.success("Account created successfully!",{description:N?"Your verification request has been submitted.":`Welcome to BookArc, ${g}!`}),O(!1),setTimeout(()=>{l?.()},500)},1500))},me=()=>{O(!0),$(!0),D({}),K.loading("Opening Google Sign-In...",{description:"Please wait while we redirect you to Google"}),setTimeout(()=>{K.dismiss(),K.loading("Authenticating with Google..."),setTimeout(()=>{K.dismiss();const ue={email:"author@gmail.com",name:"Google Author",profilePicture:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop",googleId:"google_"+Math.random().toString(36).substr(2,9)};console.log("Google sign-in successful for author:",ue),localStorage.setItem("authorData",JSON.stringify(ue)),localStorage.setItem("isAuthorLoggedIn","true"),localStorage.setItem("loginMethod","google"),K.success("Successfully signed in with Google!",{description:`Welcome, ${ue.name}!`,duration:3e3}),O(!1),$(!1),setTimeout(()=>{n?.()},800)},1e3)},800)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 bg-gradient-to-b from-background via-background to-card",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a&&e.jsxs(I,{variant:"ghost",size:"sm",onClick:a,children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),e.jsx("div",{className:a?"":"ml-auto",children:e.jsx(js,{theme:i,onToggle:c})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(Vs,{className:"w-10 h-10"}),e.jsx("span",{className:"text-3xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[e.jsx(Zb,{className:"w-5 h-5 text-accent"}),e.jsx("span",{className:"text-muted-foreground",children:"Author Portal"})]}),e.jsxs(or,{defaultValue:"login",className:"w-full",children:[e.jsxs(lr,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(Qt,{value:"login",children:"Login"}),e.jsx(Qt,{value:"register",children:"Register"})]}),e.jsx(Jt,{value:"login",children:e.jsxs(ye,{className:"border-border bg-card",children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Welcome Back, Author"}),e.jsx(ot,{children:"Sign in to manage your books and profile"})]}),e.jsxs(Ae,{className:"space-y-4",children:[P&&e.jsxs(pa,{className:"border-primary/50 bg-primary/10",children:[e.jsx(ra,{className:"h-4 w-4 animate-spin"}),e.jsx(va,{children:"Connecting to Google... Please wait while we authenticate your account."})]}),e.jsxs(I,{type:"button",variant:"outline",className:"w-full relative overflow-hidden group hover:border-primary/50 transition-all",onClick:me,disabled:_,children:[_&&P?e.jsx(ra,{className:"w-5 h-5 mr-2 animate-spin"}):e.jsx(jb,{className:"w-5 h-5 mr-2"}),_&&P?"Connecting...":"Continue with Google",e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Lt,{}),e.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-2 text-sm text-muted-foreground",children:"or"})]}),e.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"login-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"login-email",type:"email",placeholder:"author@email.com",className:`pl-10 ${R.loginEmail?"border-red-500":""}`,value:u,onChange:ue=>{h(ue.target.value),D(ce=>({...ce,loginEmail:""}))}})]}),R.loginEmail&&e.jsx("p",{className:"text-sm text-red-500",children:R.loginEmail})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"login-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"login-password",type:"password",placeholder:"",className:`pl-10 ${R.loginPassword?"border-red-500":""}`,value:x,onChange:ue=>{p(ue.target.value),D(ce=>({...ce,loginPassword:""}))}})]}),R.loginPassword&&e.jsx("p",{className:"text-sm text-red-500",children:R.loginPassword})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("a",{href:"#forgot",className:"text-sm text-primary hover:underline",children:"Forgot password?"})}),e.jsx(I,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:_,children:_?"Signing in...":"Sign In"})]})]})]})}),e.jsx(Jt,{value:"register",children:e.jsxs(ye,{className:"border-border bg-card",children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Join as an Author"}),e.jsx(ot,{children:"Share your work with the BookArc community"})]}),e.jsxs(Ae,{className:"space-y-4",children:[P&&e.jsxs(pa,{className:"border-primary/50 bg-primary/10",children:[e.jsx(ra,{className:"h-4 w-4 animate-spin"}),e.jsx(va,{children:"Connecting to Google... Please wait while we authenticate your account."})]}),e.jsxs(I,{type:"button",variant:"outline",className:"w-full relative overflow-hidden group hover:border-primary/50 transition-all",onClick:me,disabled:_,children:[_&&P?e.jsx(ra,{className:"w-5 h-5 mr-2 animate-spin"}):e.jsx(jb,{className:"w-5 h-5 mr-2"}),_&&P?"Connecting...":"Sign up with Google",e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Lt,{}),e.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-2 text-sm text-muted-foreground",children:"or"})]}),e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"register-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"register-email",type:"email",placeholder:"author@email.com",className:`pl-10 ${R.registerEmail?"border-red-500":""}`,value:v,onChange:ue=>{b(ue.target.value),D(ce=>({...ce,registerEmail:""}))}})]}),R.registerEmail&&e.jsx("p",{className:"text-sm text-red-500",children:R.registerEmail})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"register-penname",children:"Pen Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"register-penname",type:"text",placeholder:"J.K. Rowling",className:`pl-10 ${R.registerPenName?"border-red-500":""}`,value:g,onChange:ue=>{j(ue.target.value),D(ce=>({...ce,registerPenName:""}))}})]}),R.registerPenName&&e.jsx("p",{className:"text-sm text-red-500",children:R.registerPenName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"register-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"register-password",type:"password",placeholder:"",className:`pl-10 ${R.registerPassword?"border-red-500":""}`,value:w,onChange:ue=>{C(ue.target.value),D(ce=>({...ce,registerPassword:""}))}})]}),R.registerPassword&&e.jsx("p",{className:"text-sm text-red-500",children:R.registerPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"register-confirm-password",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"register-confirm-password",type:"password",placeholder:"",className:`pl-10 ${R.registerConfirmPassword?"border-red-500":""}`,value:S,onChange:ue=>{E(ue.target.value),D(ce=>({...ce,registerConfirmPassword:""}))}})]}),R.registerConfirmPassword&&e.jsx("p",{className:"text-sm text-red-500",children:R.registerConfirmPassword})]}),e.jsxs("div",{className:"flex items-start space-x-3 rounded-md border border-border p-4 bg-muted/30",children:[e.jsx(OA,{id:"verification",checked:N,onCheckedChange:ue=>T(ue)}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(Me,{htmlFor:"verification",className:"cursor-pointer",children:"Request verification badge"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get a verified author badge after our team reviews your credentials"})]})]}),e.jsx(I,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:_,children:_?"Creating account...":"Create Author Account"})]})]}),e.jsx(ud,{className:"flex justify-center",children:e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"By signing up, you agree to our Terms of Service and Privacy Policy"})})]})})]}),e.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Need help? ",e.jsx("a",{href:"#support",className:"text-primary hover:underline",children:"Contact Support"})]})]})})}function BA({onBack:a,onVerified:n,theme:l,onToggleTheme:i}){const[c,u]=m.useState(null),[h,x]=m.useState(""),[p,v]=m.useState(null),[b,g]=m.useState(""),[j,w]=m.useState(!1),[C,S]=m.useState("idle"),[E,N]=m.useState(1),T=O=>{const P=O.target.files?.[0];if(P){if(P.size>5*1024*1024){K.error("File size must be less than 5MB");return}u(P);const $=new FileReader;$.onloadend=()=>{x($.result)},$.readAsDataURL(P),K.success("ID card uploaded successfully")}},R=O=>{const P=O.target.files?.[0];if(P){if(P.size>5*1024*1024){K.error("File size must be less than 5MB");return}v(P);const $=new FileReader;$.onloadend=()=>{g($.result)},$.readAsDataURL(P),K.success("Photo uploaded successfully")}},D=async()=>{if(!c||!p){K.error("Please upload both ID card and photo");return}w(!0),S("verifying"),setTimeout(()=>{N(2),K.info("Analyzing ID card...")},1500),setTimeout(()=>{N(3),K.info("Matching face with ID...")},3e3),setTimeout(()=>{w(!1),S("success"),K.success("Verification successful! You can now complete your registration.")},5e3)},_=()=>{n()};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(Mr,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:e.jsx(js,{theme:l,onToggle:i})})]})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(I,{variant:"ghost",onClick:a,className:"mb-6 hover:bg-accent/10",children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(hn,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-3xl md:text-4xl mb-3",children:"Author Verification"}),e.jsx("p",{className:"text-muted-foreground",children:"To ensure the authenticity of our author community, we require identity verification before registration."})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:`flex items-center gap-2 ${E>=1?"text-primary":"text-muted-foreground"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${E>=1?"bg-primary text-primary-foreground":"bg-muted"}`,children:"1"}),e.jsx("span",{className:"hidden sm:inline",children:"Upload Documents"})]}),e.jsx("div",{className:`flex-1 h-0.5 mx-2 ${E>=2?"bg-primary":"bg-muted"}`}),e.jsxs("div",{className:`flex items-center gap-2 ${E>=2?"text-primary":"text-muted-foreground"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${E>=2?"bg-primary text-primary-foreground":"bg-muted"}`,children:"2"}),e.jsx("span",{className:"hidden sm:inline",children:"Verify ID"})]}),e.jsx("div",{className:`flex-1 h-0.5 mx-2 ${E>=3?"bg-primary":"bg-muted"}`}),e.jsxs("div",{className:`flex items-center gap-2 ${E>=3?"text-primary":"text-muted-foreground"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${E>=3?"bg-primary text-primary-foreground":"bg-muted"}`,children:"3"}),e.jsx("span",{className:"hidden sm:inline",children:"Match Face"})]})]})}),C==="success"?e.jsx(ye,{className:"p-8 bg-card border border-border",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Us,{className:"w-10 h-10 text-green-500"})}),e.jsx("h2",{className:"text-2xl mb-2",children:"Verification Successful!"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Your identity has been verified. You can now proceed to complete your author registration."}),e.jsx(I,{size:"lg",onClick:_,className:"bg-primary hover:bg-primary/90",children:"Continue to Registration"})]})}):e.jsxs(ye,{className:"p-6 md:p-8 bg-card border border-border",children:[e.jsxs(pa,{className:"mb-6 bg-primary/10 border-primary/30",children:[e.jsx(Ia,{className:"h-4 w-4 text-primary"}),e.jsxs(va,{className:"text-sm",children:[e.jsx("strong",{children:"Privacy Notice:"})," Your documents are encrypted and used only for verification purposes. They will not be shared with third parties."]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(Me,{className:"mb-2 block",children:"Government-issued ID Card *"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upload a clear photo of your passport, driver's license, or national ID card"}),e.jsx("div",{className:"space-y-3",children:h?e.jsxs("div",{className:"relative border-2 border-dashed border-primary/50 rounded-lg p-4 bg-primary/5",children:[e.jsx("img",{src:h,alt:"ID Card Preview",className:"max-h-48 mx-auto rounded"}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{u(null),x("")},className:"absolute top-2 right-2",children:"Remove"})]}):e.jsxs("label",{className:"border-2 border-dashed border-border rounded-lg p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-accent/10 transition-colors",children:[e.jsx(vi,{className:"w-10 h-10 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground mb-1",children:"Click to upload or drag and drop"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"PNG, JPG or PDF (max. 5MB)"}),e.jsx(Ee,{type:"file",accept:"image/*,.pdf",onChange:T,className:"hidden"})]})})]}),e.jsxs("div",{children:[e.jsx(Me,{className:"mb-2 block",children:"Selfie Photo *"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upload a clear selfie showing your face. Make sure your face is well-lit and matches your ID"}),e.jsx("div",{className:"space-y-3",children:b?e.jsxs("div",{className:"relative border-2 border-dashed border-primary/50 rounded-lg p-4 bg-primary/5",children:[e.jsx("img",{src:b,alt:"Photo Preview",className:"max-h-48 mx-auto rounded"}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{v(null),g("")},className:"absolute top-2 right-2",children:"Remove"})]}):e.jsxs("label",{className:"border-2 border-dashed border-border rounded-lg p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-accent/10 transition-colors",children:[e.jsx(vi,{className:"w-10 h-10 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground mb-1",children:"Click to upload or drag and drop"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"PNG or JPG (max. 5MB)"}),e.jsx(Ee,{type:"file",accept:"image/*",onChange:R,className:"hidden"})]})})]}),C==="verifying"&&e.jsxs(pa,{className:"bg-blue-500/10 border-blue-500/30",children:[e.jsx(ra,{className:"h-4 w-4 text-blue-500 animate-spin"}),e.jsxs(va,{children:[e.jsx("strong",{children:"Verifying your identity..."}),e.jsx("br",{}),e.jsxs("span",{className:"text-sm",children:[E===1&&"Processing documents...",E===2&&"Analyzing ID card information...",E===3&&"Matching face with ID photo..."]})]})]}),C==="failed"&&e.jsxs(pa,{className:"bg-red-500/10 border-red-500/30",children:[e.jsx(Ia,{className:"h-4 w-4 text-red-500"}),e.jsxs(va,{children:[e.jsx("strong",{children:"Verification Failed"}),e.jsx("br",{}),e.jsx("span",{className:"text-sm",children:"We couldn't verify your identity. Please ensure your documents are clear and your face is visible."})]})]}),e.jsx(I,{size:"lg",onClick:D,disabled:!c||!p||j,className:"w-full bg-primary hover:bg-primary/90",children:j?e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify Identity"}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By uploading your documents, you agree to our"," ",e.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]}),C==="idle"&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-6",children:[e.jsxs(ye,{className:"p-4 bg-card border border-border",children:[e.jsx("h3",{className:"text-sm mb-2",children:"Why do we need this?"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"We verify all authors to maintain trust and prevent fraud in our community. This protects both authors and readers."})]}),e.jsxs(ye,{className:"p-4 bg-card border border-border",children:[e.jsx("h3",{className:"text-sm mb-2",children:"How long does it take?"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Verification is instant using our automated system. In rare cases, manual review may take up to 24 hours."})]})]})]})})]})}const Ea=m.forwardRef(({className:a,...n},l)=>e.jsx("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,ref:l,...n}));Ea.displayName="Textarea";function LA({onBack:a,onRegister:n,theme:l,onToggleTheme:i}){const[c,u]=m.useState({fullName:"",penName:"",email:"",password:"",confirmPassword:"",bio:"",website:"",genre:""}),h=p=>{const{name:v,value:b}=p.target;u(g=>({...g,[v]:b}))},x=p=>{if(p.preventDefault(),!c.fullName||!c.email||!c.password){K.error("Please fill in all required fields");return}if(c.password!==c.confirmPassword){K.error("Passwords do not match");return}if(c.password.length<8){K.error("Password must be at least 8 characters");return}K.success("Registration successful! Welcome to BookArc"),n()};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mr,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsx(js,{theme:l,onToggle:i})]})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(I,{variant:"ghost",onClick:a,className:"mb-6 hover:bg-accent/10",children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Us,{className:"w-8 h-8 text-green-500"})}),e.jsx("h1",{className:"text-3xl md:text-4xl mb-3",children:"Complete Your Registration"}),e.jsx("p",{className:"text-muted-foreground",children:"You're verified! Now let's set up your author profile."})]}),e.jsx(ye,{className:"p-6 md:p-8 bg-card border border-border",children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"fullName",children:"Full Name *"}),e.jsx(Ee,{id:"fullName",name:"fullName",value:c.fullName,onChange:h,placeholder:"John Doe",required:!0,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"penName",children:"Pen Name (Optional)"}),e.jsx(Ee,{id:"penName",name:"penName",value:c.penName,onChange:h,placeholder:"J.D. Writer",className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"If you write under a different name, enter it here"})]}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"email",children:"Email Address *"}),e.jsx(Ee,{id:"email",name:"email",type:"email",value:c.email,onChange:h,placeholder:"author@example.com",required:!0,className:"mt-2"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"password",children:"Password *"}),e.jsx(Ee,{id:"password",name:"password",type:"password",value:c.password,onChange:h,placeholder:"",required:!0,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsx(Ee,{id:"confirmPassword",name:"confirmPassword",type:"password",value:c.confirmPassword,onChange:h,placeholder:"",required:!0,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"bio",children:"Bio"}),e.jsx(Ea,{id:"bio",name:"bio",value:c.bio,onChange:h,placeholder:"Tell readers about yourself and your writing journey...",rows:4,className:"mt-2 resize-none"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.bio.length,"/500 characters"]})]}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"website",children:"Website (Optional)"}),e.jsx(Ee,{id:"website",name:"website",type:"url",value:c.website,onChange:h,placeholder:"https://yourwebsite.com",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"genre",children:"Primary Genre"}),e.jsx(Ee,{id:"genre",name:"genre",value:c.genre,onChange:h,placeholder:"Fiction, Mystery, Romance, etc.",className:"mt-2"})]}),e.jsx(I,{type:"submit",size:"lg",className:"w-full bg-primary hover:bg-primary/90",children:"Complete Registration"}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By registering, you agree to our"," ",e.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})})]})})]})}function UA({onBack:a,onLogin:n,theme:l,onToggleTheme:i}){const[c,u]=m.useState(""),[h,x]=m.useState(""),[p,v]=m.useState({}),[b,g]=m.useState(!1),[j,w]=m.useState(!1),[C,S]=m.useState(""),[E,N]=m.useState(!1),T=_=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_),R=_=>{_.preventDefault();const O={};c?T(c)||(O.email="Please enter a valid admin email"):O.email="Admin email is required",h?h.length<8&&(O.password="Password must be at least 8 characters"):O.password="Password is required",v(O),Object.keys(O).length===0&&(g(!0),setTimeout(()=>{console.log("Admin login attempt",{email:c}),g(!1),n?.()},1500))},D=_=>{_.preventDefault();const O={};C?T(C)||(O.forgotPasswordEmail="Please enter a valid admin email"):O.forgotPasswordEmail="Admin email is required",v(O),Object.keys(O).length===0&&(g(!0),setTimeout(()=>{console.log("Password reset requested for admin:",C),N(!0),g(!1)},1500))};return e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 bg-gradient-to-b from-background via-background to-card",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a&&e.jsxs(I,{variant:"ghost",size:"sm",onClick:a,children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),e.jsx("div",{className:a?"":"ml-auto",children:e.jsx(js,{theme:l,onToggle:i})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(Vs,{className:"w-10 h-10"}),e.jsx("span",{className:"text-3xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[e.jsx(hn,{className:"w-5 h-5 text-destructive"}),e.jsx("span",{className:"text-muted-foreground",children:"Admin Access Only"})]}),e.jsxs(pa,{className:"mb-6 border-destructive/50 bg-destructive/10",children:[e.jsx(Ia,{className:"h-4 w-4 text-destructive"}),e.jsx(va,{className:"text-sm",children:"This area is restricted to authorized administrators only. All access attempts are logged."})]}),j?e.jsxs(ye,{className:"border-border bg-card",children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Reset Admin Password"}),e.jsx(ot,{children:"Password reset requests are sent to your registered admin email"})]}),e.jsx(Ae,{className:"space-y-4",children:E?e.jsxs("div",{className:"space-y-4",children:[e.jsxs(pa,{className:"border-green-500/50 bg-green-500/10",children:[e.jsx(Ia,{className:"h-4 w-4 text-green-500"}),e.jsx(va,{className:"text-sm",children:"If an admin account exists with this email, password reset instructions have been sent."})]}),e.jsx(I,{variant:"outline",className:"w-full",onClick:()=>{w(!1),N(!1),S("")},children:"Back to Login"})]}):e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"forgot-email",children:"Admin Email"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"forgot-email",type:"email",placeholder:"admin@bookhub.com",className:`pl-10 ${p.forgotPasswordEmail?"border-red-500":""}`,value:C,onChange:_=>{S(_.target.value),v(O=>({...O,forgotPasswordEmail:""}))},autoComplete:"email"})]}),p.forgotPasswordEmail&&e.jsx("p",{className:"text-sm text-red-500",children:p.forgotPasswordEmail})]}),e.jsxs(pa,{className:"border-border",children:[e.jsx(Ia,{className:"h-4 w-4"}),e.jsx(va,{className:"text-sm",children:"Password reset links are only sent to verified admin email addresses. Contact the system administrator if you need assistance."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(I,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{w(!1),S(""),v({})},children:"Cancel"}),e.jsx(I,{type:"submit",className:"flex-1 bg-primary hover:bg-primary/90",disabled:b,children:b?"Sending...":"Send Reset Link"})]})]})})]}):e.jsxs(ye,{className:"border-border bg-card",children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Admin Login"}),e.jsx(ot,{children:"Enter your administrator credentials"})]}),e.jsx(Ae,{className:"space-y-4",children:e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"admin-email",children:"Admin Email"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"admin-email",type:"email",placeholder:"admin@bookhub.com",className:`pl-10 ${p.email?"border-red-500":""}`,value:c,onChange:_=>{u(_.target.value),v(O=>({...O,email:""}))},autoComplete:"email"})]}),p.email&&e.jsx("p",{className:"text-sm text-red-500",children:p.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"admin-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"admin-password",type:"password",placeholder:"",className:`pl-10 ${p.password?"border-red-500":""}`,value:h,onChange:_=>{x(_.target.value),v(O=>({...O,password:""}))},autoComplete:"current-password"})]}),p.password&&e.jsx("p",{className:"text-sm text-red-500",children:p.password})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-sm text-primary hover:underline",children:"Forgot password?"})}),e.jsx(I,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:b,children:b?"Verifying...":"Sign In as Admin"})]})})]}),e.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Not an admin? ",e.jsx("a",{href:"#",onClick:a,className:"text-primary hover:underline",children:"Return to main site"})]})]})})}const FA=a=>{if(!a)return"Unknown";const n=a.endsWith("Z")?a:a+"Z",l=new Date(n);if(isNaN(l.getTime()))return"Invalid date";const c=new Date().getTime()-l.getTime(),u=Math.floor(c/6e4),h=Math.floor(c/36e5),x=Math.floor(c/864e5);return u<1?"Just now":u<60?`${u} minute${u>1?"s":""} ago`:h<24?`${h} hour${h>1?"s":""} ago`:x<7?`${x} day${x>1?"s":""} ago`:l.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},Ef=a=>{if(!a)return"Unknown";const n=a.endsWith("Z")?a:a+"Z",l=new Date(n);return isNaN(l.getTime())?"Invalid date":l.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},mn=({children:a,variant:n="default",size:l="default",onClick:i,disabled:c,className:u=""})=>e.jsx("button",{onClick:i,disabled:c,className:`px-4 py-2 rounded-md font-medium transition-colors ${n==="ghost"?"hover:bg-gray-100 dark:hover:bg-gray-800":n==="outline"?"border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800":"bg-blue-600 text-white hover:bg-blue-700"} ${l==="sm"?"text-sm px-3 py-1":""} ${l==="icon"?"p-2":""} ${u}`,children:a}),Tf=({children:a,className:n=""})=>e.jsx("div",{className:`bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg ${n}`,children:a}),di=({children:a,variant:n="default",className:l=""})=>e.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${n==="secondary"?"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200":n==="outline"?"border border-gray-300 dark:border-gray-700":"bg-blue-600 text-white"} ${l}`,children:a}),wb=({checked:a,onCheckedChange:n,disabled:l})=>e.jsx("button",{onClick:()=>!l&&n(!a),disabled:l,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a?"bg-blue-600":"bg-gray-300 dark:bg-gray-700"} ${l?"opacity-50 cursor-not-allowed":""}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})}),IA=({id:a,type:n="text",placeholder:l,value:i,onChange:c,className:u=""})=>e.jsx("input",{id:a,type:n,placeholder:l,value:i,onChange:c,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-900 ${u}`}),$A=({htmlFor:a,children:n})=>e.jsx("label",{htmlFor:a,className:"text-sm font-medium",children:n}),ui=({orientation:a="horizontal",className:n=""})=>e.jsx("div",{className:`${a==="vertical"?"w-px h-full":"h-px w-full"} bg-gray-200 dark:bg-gray-800 ${n}`}),HA=({value:a,onValueChange:n,children:l})=>e.jsx("div",{"data-value":a,onClick:i=>{const c=i.target.closest("[data-tab-value]");c&&n(c.dataset.tabValue)},children:l}),qA=({children:a,className:n=""})=>e.jsx("div",{className:`inline-flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1 ${n}`,children:a}),Df=({value:a,children:n})=>e.jsx("button",{"data-tab-value":a,className:"px-4 py-2 rounded-md text-sm font-medium hover:bg-white dark:hover:bg-gray-900 transition-colors",children:n}),GA=({value:a,children:n})=>e.jsx("div",{children:n}),VA=({children:a,className:n=""})=>e.jsx("div",{className:`overflow-y-auto ${n}`,children:a}),YA=({open:a,onOpenChange:n,children:l})=>a?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>n(!1)}),e.jsx("div",{className:"relative bg-white dark:bg-gray-900 rounded-lg max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:l})]}):null,XA=({asChild:a,children:n})=>n,KA=({children:a})=>e.jsx("div",{className:"p-6",children:a}),ZA=({children:a})=>e.jsx("div",{className:"mb-4",children:a}),QA=({children:a})=>e.jsx("h2",{className:"text-xl font-semibold",children:a}),JA=({children:a})=>e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a}),WA={normal:{badge:null,title:"Your Notifications",subtitle:"Stay updated with your reading community",emailSettings:{newReviews:"New Reviews",newReviewsDesc:"When people you follow post reviews",newFollowers:"New Followers",newFollowersDesc:"When someone starts following you",bookRecommendations:"Book Recommendations",bookRecommendationsDesc:"Personalized book suggestions",systemUpdates:"System Updates",systemUpdatesDesc:"Platform updates and new features",weeklyDigest:"Weekly Digest",weeklyDigestDesc:"Weekly summary of reading activity"},inAppSettings:{newReviews:"New Reviews",newReviewsDesc:"Show notifications for new reviews",newFollowers:"New Followers",newFollowersDesc:"Show notifications for new followers",bookRecommendations:"Book Recommendations",bookRecommendationsDesc:"Show book suggestions",systemUpdates:"System Updates",systemUpdatesDesc:"Show system announcements",comments:"Comments",commentsDesc:"Show notifications for review comments",ratings:"Ratings",ratingsDesc:"Show notifications for book ratings"}},author:{badge:{text:"Author",variant:"outline"},title:"Your Notifications",subtitle:"Stay updated with your book performance and reader engagement",emailSettings:{newReviews:"New Reviews",newReviewsDesc:"When readers review your books",bookSales:"Book Sales",bookSalesDesc:"Sales and revenue notifications",milestones:"Milestones",milestonesDesc:"Book achievements and milestones",readerEngagement:"Reader Engagement",readerEngagementDesc:"Comments, ratings, and interactions",systemUpdates:"System Updates",systemUpdatesDesc:"Platform updates and new features",weeklyReport:"Weekly Report",weeklyReportDesc:"Weekly summary of your book performance"},inAppSettings:{newReviews:"New Reviews",newReviewsDesc:"Show notifications for new book reviews",bookSales:"Book Sales",bookSalesDesc:"Show sales notifications",milestones:"Milestones",milestonesDesc:"Show achievement notifications",readerEngagement:"Reader Engagement",readerEngagementDesc:"Show notifications for reader interactions",systemUpdates:"System Updates",systemUpdatesDesc:"Show system announcements",comments:"Comments",commentsDesc:"Show notifications for review comments",ratings:"Ratings",ratingsDesc:"Show notifications for new book ratings"}},admin:{badge:{text:"Admin",variant:"outline"},title:"Admin Notifications",subtitle:"Monitor platform activity and system alerts",emailSettings:{userReports:"User Reports",userReportsDesc:"Flagged content and user reports",systemAlerts:"System Alerts",systemAlertsDesc:"Critical system notifications",contentModeration:"Content Moderation",contentModerationDesc:"Content requiring review",platformUpdates:"Platform Updates",platformUpdatesDesc:"Platform changes and updates",weeklyAnalytics:"Weekly Analytics",weeklyAnalyticsDesc:"Weekly platform performance summary"},inAppSettings:{userReports:"User Reports",userReportsDesc:"Show flagged content notifications",systemAlerts:"System Alerts",systemAlertsDesc:"Show critical system alerts",contentModeration:"Content Moderation",contentModerationDesc:"Show moderation queue notifications",platformUpdates:"Platform Updates",platformUpdatesDesc:"Show platform update notifications",userActivity:"User Activity",userActivityDesc:"Show user activity alerts"}}};function e_({onBack:a,theme:n,onToggleTheme:l,userRole:i="normal"}){const[c,u]=m.useState("all"),[h,x]=m.useState(!1),[p,v]=m.useState(!0),[b,g]=m.useState(""),[j,w]=m.useState(""),[C,S]=m.useState(!1),[E,N]=m.useState(""),[T,R]=m.useState(!1),D=WA[i],[_,O]=m.useState(()=>{const U={};return Object.keys(D.emailSettings).forEach(Q=>{Q.endsWith("Desc")||(U[Q]=Q!=="systemUpdates")}),U}),[P,$]=m.useState(()=>{const U={};return Object.keys(D.inAppSettings).forEach(Q=>{Q.endsWith("Desc")||(U[Q]=!0)}),U}),[se,xe]=m.useState([]);m.useEffect(()=>{oe(),W()},[]);const oe=async()=>{try{v(!0);const U=await Ce.getNotifications();console.log(" Loaded notifications:",U),xe(U.notifications)}catch(U){console.error(" Failed to load notifications:",U),K.error("Failed to load notifications")}finally{v(!1)}},W=async()=>{try{const U=await Ce.getNotificationPreferences();console.log(" Loaded preferences:",U),O(Q=>({...Q,systemUpdates:U.allow_email}))}catch(U){console.error(" Failed to load notification preferences:",U)}},me=U=>{switch(U.toLowerCase()){case"review":return e.jsx(ns,{className:"w-5 h-5 text-blue-500"});case"sale":return e.jsx(W2,{className:"w-5 h-5 text-green-500"});case"milestone":return e.jsx(Zo,{className:"w-5 h-5 text-yellow-500"});case"comment":return e.jsx(ns,{className:"w-5 h-5 text-purple-500"});case"rating":return e.jsx(Ct,{className:"w-5 h-5 text-orange-500"});case"trending":return e.jsx(ga,{className:"w-5 h-5 text-pink-500"});case"follower":case"follow":return e.jsx(qs,{className:"w-5 h-5 text-indigo-500"});case"recommendation":return e.jsx(yt,{className:"w-5 h-5 text-blue-600"});case"system":return e.jsx(Ia,{className:"w-5 h-5 text-gray-500"});default:return e.jsx(Vn,{className:"w-5 h-5"})}},ue=async U=>{try{await Ce.markNotificationAsRead(U),xe(se.map(Q=>Q.notification_id===U?{...Q,is_read:!0}:Q)),K.success("Notification marked as read")}catch(Q){console.error(" Failed to mark as read:",Q),K.error("Failed to mark notification as read")}},ce=async()=>{try{await Ce.markAllNotificationsAsRead(),xe(se.map(U=>({...U,is_read:!0}))),K.success("All notifications marked as read")}catch(U){console.error(" Failed to mark all as read:",U),K.error("Failed to mark all as read")}},A=async U=>{try{await Ce.deleteNotification(U),xe(se.filter(Q=>Q.notification_id!==U)),K.success("Notification deleted")}catch(Q){console.error(" Failed to delete notification:",Q),K.error("Failed to delete notification")}},q=U=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U),M=()=>{if(N(""),R(!1),!b){N("Email address is required");return}if(!q(b)){N("Please enter a valid email address");return}w(b),R(!0),setTimeout(()=>{S(!0)},2e3),setTimeout(()=>{R(!1)},3e3)},ae=()=>{R(!0),setTimeout(()=>{R(!1)},3e3)},ve=async U=>{try{await Ce.updateNotificationPreferences({allow_email:_.systemUpdates}),K.success("Preferences updated")}catch(Q){console.error(" Failed to update preferences:",Q),K.error("Failed to update preferences")}},B=se.filter(U=>c==="unread"?!U.is_read:c==="read"?U.is_read:!0),Z=se.filter(U=>!U.is_read).length;return e.jsxs("div",{className:`min-h-screen ${n==="dark"?"dark bg-gray-950 text-white":"bg-white"}`,children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(mn,{variant:"ghost",size:"icon",onClick:a,children:e.jsx(Br,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vn,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{className:"text-xl font-semibold",children:"Notifications"}),Z>0&&e.jsx(di,{className:"bg-red-600",children:Z})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[D.badge&&e.jsx(di,{variant:D.badge.variant,className:"border-blue-600 text-blue-600",children:D.badge.text}),e.jsxs(YA,{open:h,onOpenChange:x,children:[e.jsx(XA,{asChild:!0,children:e.jsxs(mn,{variant:"outline",size:"sm",children:[e.jsx(FS,{className:"w-4 h-4 mr-2"}),"Settings"]})}),e.jsxs(KA,{children:[e.jsxs(ZA,{children:[e.jsx(QA,{children:"Notification Settings"}),e.jsx(JA,{children:"Manage how you receive notifications"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ns,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Email Address for Notifications"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Enter your email address to receive notifications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($A,{htmlFor:"notification-email",children:"Email Address"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(IA,{id:"notification-email",type:"email",placeholder:"your.email@example.com",value:b,onChange:U=>{g(U.target.value),N("")},className:E?"border-red-500":""}),e.jsx(mn,{onClick:M,disabled:!b,children:"Save Email"})]}),E&&e.jsx("p",{className:"text-sm text-red-600",children:E}),T&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(Ss,{className:"w-4 h-4"}),e.jsx("span",{children:"Email saved successfully!"})]})]}),j&&e.jsx("div",{className:"pt-2 space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-900 rounded-md border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex items-center gap-2 ${C?"text-green-600":"text-gray-500"}`,children:C?e.jsxs(e.Fragment,{children:[e.jsx(Ss,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Verified"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ia,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Not verified"})]})}),e.jsx(ui,{orientation:"vertical"}),e.jsx("span",{className:"text-sm",children:j})]}),!C&&e.jsx(mn,{variant:"outline",size:"sm",onClick:ae,children:"Verify Email"})]})})]})]}),e.jsx(ui,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Email Notifications"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Choose which notifications you want to receive via email",!j&&" (Email address required)"]}),e.jsx("div",{className:`space-y-4 ${j?"":"opacity-50 pointer-events-none"}`,children:Object.entries(D.emailSettings).map(([U,Q],le)=>{if(U.endsWith("Desc"))return null;const te=`${U}Desc`;return e.jsxs("div",{children:[le>0&&e.jsx(ui,{}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:Q}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:D.emailSettings[te]})]}),e.jsx(wb,{checked:_[U],onCheckedChange:G=>{const he={..._,[U]:G};O(he),ve()},disabled:!j})]})]},U)})})]}),e.jsx(ui,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"In-App Notifications"}),e.jsx("div",{className:"space-y-4",children:Object.entries(D.inAppSettings).map(([U,Q],le)=>{if(U.endsWith("Desc"))return null;const te=`${U}Desc`;return e.jsxs("div",{children:[le>0&&e.jsx(ui,{}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:Q}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:D.inAppSettings[te]})]}),e.jsx(wb,{checked:P[U],onCheckedChange:G=>$({...P,[U]:G})})]})]},U)})})]})]})]})]}),e.jsx(mn,{variant:"ghost",size:"icon",onClick:l,children:n==="dark"?e.jsx(Jb,{className:"w-5 h-5"}):e.jsx(Xb,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:D.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:D.subtitle})]}),Z>0&&e.jsxs(mn,{variant:"outline",onClick:ce,children:[e.jsx(z2,{className:"w-4 h-4 mr-2"}),"Mark All as Read"]})]}),e.jsxs(HA,{value:c,onValueChange:U=>u(U),children:[e.jsxs(qA,{className:"grid w-full max-w-md grid-cols-3 mb-6",children:[e.jsxs(Df,{value:"all",children:["All",e.jsx(di,{variant:"secondary",className:"ml-2",children:se.length})]}),e.jsxs(Df,{value:"unread",children:["Unread",Z>0&&e.jsx(di,{className:"ml-2 bg-red-600",children:Z})]}),e.jsxs(Df,{value:"read",children:["Read",e.jsx(di,{variant:"secondary",className:"ml-2",children:se.length-Z})]})]}),e.jsx(GA,{value:c,children:e.jsx(VA,{className:"h-[calc(100vh-300px)]",children:p?e.jsxs(Tf,{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading notifications..."})]}):B.length===0?e.jsxs(Tf,{className:"p-12 text-center",children:[e.jsx(Vn,{className:"w-12 h-12 mx-auto mb-4 text-gray-400 opacity-50"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No notifications"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c==="unread"?"You're all caught up! No unread notifications.":"You don't have any notifications yet."})]}):e.jsx("div",{className:"space-y-2",children:B.map(U=>e.jsx(Tf,{className:`p-4 transition-all hover:border-blue-400 ${U.is_read?"":"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-900"}`,children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:me(U.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-1",children:[e.jsxs("h3",{className:U.is_read?"":"font-semibold",children:[U.type.charAt(0).toUpperCase()+U.type.slice(1)," Notification"]}),!U.is_read&&e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0 mt-2"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:U.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:FA(U.created_at)}),e.jsxs("div",{className:"flex gap-2",children:[!U.is_read&&e.jsxs(mn,{variant:"ghost",size:"sm",onClick:()=>ue(U.notification_id),children:[e.jsx(Ss,{className:"w-4 h-4 mr-1"}),"Mark as Read"]}),e.jsx(mn,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>A(U.notification_id),children:"Delete"})]})]})]})]})},U.notification_id))})})})]})]})]})}function t_({onBack:a,onLogoClick:n,currentAuthor:l,onSave:i,onLogout:c,theme:u,onToggleTheme:h}){const[x,p]=m.useState(l.name),[v,b]=m.useState(l.email),[g,j]=m.useState(l.avatarUrl||""),[w,C]=m.useState(""),[S,E]=m.useState(""),[N,T]=m.useState(""),[R,D]=m.useState(""),[_,O]=m.useState(""),[P,$]=m.useState(""),[se,xe]=m.useState(""),[oe,W]=m.useState(""),[me,ue]=m.useState({}),[ce,A]=m.useState(""),[q,M]=m.useState(!1),[ae,ve]=m.useState(g),[B,Z]=m.useState(null),[U,Q]=m.useState(""),[le,te]=m.useState(!1),[G,he]=m.useState(""),Ne=m.useRef(null),_e=["https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1463453091185-61582044d556?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1552374196-c4e7ffc6e126?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1531384441138-2736e62e0919?w=400&h=400&fit=crop"],Be=ke=>ke.split(" ").map(Ue=>Ue[0]).join("").toUpperCase().slice(0,2),Pe=ke=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ke),ct=ke=>{ke.preventDefault();const Ue={};if(x?x.length<2&&(Ue.name="Name must be at least 2 characters"):Ue.name="Name is required",v?Pe(v)||(Ue.email="Please enter a valid email"):Ue.email="Email is required",ue(Ue),Object.keys(Ue).length===0){const Ye={name:x,email:v,avatarUrl:g,bio:w,website:S,socialLinks:{twitter:N,instagram:R,facebook:_}};localStorage.setItem("authorData",JSON.stringify({name:x,email:v,profilePicture:g,bio:w,website:S,socialLinks:{twitter:N,instagram:R,facebook:_}})),i(Ye),A("Profile updated successfully!"),setTimeout(()=>A(""),3e3)}},Se=ke=>{ke.preventDefault();const Ue={};P||(Ue.currentPassword="Current password is required"),se?se.length<8&&(Ue.newPassword="Password must be at least 8 characters"):Ue.newPassword="New password is required",oe?se!==oe&&(Ue.confirmPassword="Passwords do not match"):Ue.confirmPassword="Please confirm your password",ue(Ue),Object.keys(Ue).length===0&&(A("Password changed successfully!"),$(""),xe(""),W(""),setTimeout(()=>A(""),3e3))},L=ke=>{const Ue=ke.target.files?.[0];if(Q(""),Ue){if(!Ue.type.startsWith("image/")){Q("Please select an image file");return}if(Ue.size>5*1024*1024){Q("Image size must be less than 5MB");return}const Ye=new FileReader;Ye.onloadend=()=>{const nt=Ye.result;Z(nt),ve(nt)},Ye.readAsDataURL(Ue)}},we=ke=>{ke.preventDefault()},Le=ke=>{ke.preventDefault();const Ue=ke.dataTransfer.files[0];if(Ue){if(Q(""),!Ue.type.startsWith("image/")){Q("Please select an image file");return}if(Ue.size>5*1024*1024){Q("Image size must be less than 5MB");return}const Ye=new FileReader;Ye.onloadend=()=>{const nt=Ye.result;Z(nt),ve(nt)},Ye.readAsDataURL(Ue)}},ee=()=>{j(ae),M(!1),Z(null),Q("")},Qe=()=>{G.toLowerCase()==="delete"&&(localStorage.removeItem("authorData"),localStorage.removeItem("authorBooks"),te(!1),he(""),K.success("Author account deleted successfully"),setTimeout(()=>{c()},1500))};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{variant:"ghost",size:"icon",onClick:a,children:e.jsx(Br,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:a,className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[e.jsx(Vs,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{variant:"outline",className:"border-primary/40 text-primary",children:"Author"}),e.jsx(js,{theme:u,onToggle:h})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Edit Author Profile"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your author profile and account settings"})]}),ce&&e.jsxs("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx(Ss,{className:"w-5 h-5"}),e.jsx("span",{children:ce})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-[300px_1fr]",children:[e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Profile Picture"}),e.jsx(ot,{children:"Update your author photo"})]}),e.jsxs(Ae,{className:"flex flex-col items-center space-y-4",children:[e.jsxs(as,{className:"w-32 h-32",children:[e.jsx(vs,{src:g}),e.jsx(rs,{className:"text-2xl",children:Be(x)})]}),e.jsxs(I,{variant:"outline",size:"sm",className:"w-full",onClick:()=>M(!0),children:[e.jsx(qb,{className:"w-4 h-4 mr-2"}),"Change Photo"]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"JPG, PNG or GIF. Max size 5MB"})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(or,{defaultValue:"profile",className:"w-full",children:[e.jsxs(lr,{className:"grid w-full grid-cols-3",children:[e.jsx(Qt,{value:"profile",children:"Profile"}),e.jsx(Qt,{value:"author-info",children:"Author Info"}),e.jsx(Qt,{value:"security",children:"Security"})]}),e.jsx(Jt,{value:"profile",children:e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Basic Information"}),e.jsx(ot,{children:"Update your author name and email address"})]}),e.jsx(Ae,{children:e.jsxs("form",{onSubmit:ct,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"name",children:"Author / Pen Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"name",placeholder:"Your author name",className:`pl-10 ${me.name?"border-red-500":""}`,value:x,onChange:ke=>{p(ke.target.value),ue(Ue=>({...Ue,name:""}))}})]}),me.name&&e.jsx("p",{className:"text-sm text-red-500",children:me.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"email",type:"email",placeholder:"your.email@example.com",className:`pl-10 ${me.email?"border-red-500":""}`,value:v,onChange:ke=>{b(ke.target.value),ue(Ue=>({...Ue,email:""}))}})]}),me.email&&e.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 font-medium",children:me.email})]}),e.jsx(Lt,{className:"my-6"}),e.jsxs(I,{type:"submit",className:"w-full",children:[e.jsx(id,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})})]})}),e.jsx(Jt,{value:"author-info",children:e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Author Information"}),e.jsx(ot,{children:"Share more about yourself with your readers"})]}),e.jsx(Ae,{children:e.jsxs("form",{onSubmit:ct,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"bio",children:"Biography"}),e.jsx(Ea,{id:"bio",placeholder:"Tell readers about yourself, your writing journey, and your work...",className:"min-h-[120px]",value:w,onChange:ke=>C(ke.target.value)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.length,"/500 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"website",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"website",type:"url",placeholder:"https://yourwebsite.com",className:"pl-10",value:S,onChange:ke=>E(ke.target.value)})]})]}),e.jsx(Lt,{className:"my-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Me,{children:"Social Media Links"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"twitter",className:"text-sm text-muted-foreground",children:"Twitter / X"}),e.jsx(Ee,{id:"twitter",placeholder:"@yourusername",value:N,onChange:ke=>T(ke.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"instagram",className:"text-sm text-muted-foreground",children:"Instagram"}),e.jsx(Ee,{id:"instagram",placeholder:"@yourusername",value:R,onChange:ke=>D(ke.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"facebook",className:"text-sm text-muted-foreground",children:"Facebook"}),e.jsx(Ee,{id:"facebook",placeholder:"Your Facebook page",value:_,onChange:ke=>O(ke.target.value)})]})]}),e.jsx(Lt,{className:"my-6"}),e.jsxs(I,{type:"submit",className:"w-full",children:[e.jsx(id,{className:"w-4 h-4 mr-2"}),"Save Author Info"]})]})})]})}),e.jsxs(Jt,{value:"security",children:[e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Change Password"}),e.jsx(ot,{children:"Update your password to keep your account secure"})]}),e.jsx(Ae,{children:e.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"current-password",children:"Current Password"}),e.jsx(Ee,{id:"current-password",type:"password",placeholder:"",className:me.currentPassword?"border-red-500":"",value:P,onChange:ke=>{$(ke.target.value),ue(Ue=>({...Ue,currentPassword:""}))}}),me.currentPassword&&e.jsx("p",{className:"text-sm text-red-500",children:me.currentPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"new-password",children:"New Password"}),e.jsx(Ee,{id:"new-password",type:"password",placeholder:"",className:me.newPassword?"border-red-500":"",value:se,onChange:ke=>{xe(ke.target.value),ue(Ue=>({...Ue,newPassword:""}))}}),me.newPassword&&e.jsx("p",{className:"text-sm text-red-500",children:me.newPassword}),e.jsx("p",{className:"text-xs text-foreground/70 font-medium",children:"Must be at least 8 characters long"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsx(Ee,{id:"confirm-password",type:"password",placeholder:"",className:me.confirmPassword?"border-red-500":"",value:oe,onChange:ke=>{W(ke.target.value),ue(Ue=>({...Ue,confirmPassword:""}))}}),me.confirmPassword&&e.jsx("p",{className:"text-sm text-red-500",children:me.confirmPassword})]}),e.jsx(Lt,{className:"my-6"}),e.jsx(I,{type:"submit",className:"w-full",children:"Change Password"})]})})]}),e.jsxs(ye,{className:"border-destructive/50",children:[e.jsxs(Ge,{children:[e.jsx(Ve,{className:"text-destructive",children:"Danger Zone"}),e.jsx(ot,{children:"Irreversible account actions"})]}),e.jsxs(Ae,{className:"space-y-3",children:[e.jsxs(pa,{variant:"destructive",children:[e.jsx(Vo,{className:"h-4 w-4"}),e.jsx(va,{children:"Once you delete your account, there is no going back. All your data, including reviews, ratings, and lists will be permanently deleted."})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-md bg-destructive/5 border border-destructive/20",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Delete Account"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Permanently delete your account and all data"})]}),e.jsx(I,{variant:"destructive",onClick:()=>te(!0),className:"gap-2",children:"Delete Account"})]})]})]})]})]})})]})]}),e.jsx(Cs,{open:q,onOpenChange:M,children:e.jsxs(bs,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Change Profile Picture"}),e.jsx(_s,{children:"Choose from our collection or upload your own image"})]}),e.jsxs(or,{defaultValue:"gallery",className:"w-full",children:[e.jsxs(lr,{className:"grid w-full grid-cols-2",children:[e.jsx(Qt,{value:"gallery",children:"Gallery"}),e.jsx(Qt,{value:"upload",children:"Upload"})]}),e.jsx(Jt,{value:"gallery",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-4 gap-4 pt-4",children:_e.map((ke,Ue)=>e.jsxs("button",{onClick:()=>ve(ke),className:`relative aspect-square rounded-lg overflow-hidden border-2 transition-all hover:scale-105 ${ae===ke?"border-primary ring-2 ring-primary":"border-border"}`,children:[e.jsx("img",{src:ke,alt:`Avatar option ${Ue+1}`,className:"w-full h-full object-cover"}),ae===ke&&e.jsx("div",{className:"absolute inset-0 bg-primary/20 flex items-center justify-center",children:e.jsx(Ss,{className:"w-8 h-8 text-primary"})})]},Ue))})}),e.jsxs(Jt,{value:"upload",className:"space-y-4",children:[e.jsx("div",{onDragOver:we,onDrop:Le,className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",onClick:()=>Ne.current?.click(),children:B?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:B,alt:"Uploaded preview",className:"w-32 h-32 rounded-full mx-auto object-cover"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click or drag to change image"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-accent rounded-full mx-auto flex items-center justify-center",children:e.jsx(pS,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG, JPG or GIF (max. 5MB)"})]})]})}),e.jsx("input",{ref:Ne,type:"file",accept:"image/*",className:"hidden",onChange:L}),U&&e.jsx("p",{className:"text-sm text-red-500 text-center",children:U})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[e.jsx(I,{variant:"outline",onClick:()=>{M(!1),ve(g),Z(null),Q("")},children:"Cancel"}),e.jsxs(I,{onClick:ee,children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),e.jsx(Cs,{open:le,onOpenChange:te,children:e.jsxs(bs,{className:"sm:max-w-[400px]",children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Are you sure?"}),e.jsx(_s,{children:"This action cannot be undone. This will permanently delete your account and remove your data from our servers."})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(Ee,{id:"deleteConfirmText",type:"text",placeholder:"Type 'delete' to confirm",value:G,onChange:ke=>he(ke.target.value),className:"w-full"})}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>{te(!1),he("")},children:"Cancel"}),e.jsx(I,{type:"button",variant:"destructive",disabled:G.toLowerCase()!=="delete",onClick:Qe,children:"Delete Account"})]})]})})]})}var s_=(a,n,l,i,c,u,h,x)=>{let p=document.documentElement,v=["light","dark"];function b(w){(Array.isArray(a)?a:[a]).forEach(C=>{let S=C==="class",E=S&&u?c.map(N=>u[N]||N):c;S?(p.classList.remove(...E),p.classList.add(u&&u[w]?u[w]:w)):p.setAttribute(C,w)}),g(w)}function g(w){x&&v.includes(w)&&(p.style.colorScheme=w)}function j(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)b(i);else try{let w=localStorage.getItem(n)||l,C=h&&w==="system"?j():w;b(C)}catch{}},a_=m.createContext(void 0),r_={setTheme:a=>{},themes:[]},n_=()=>{var a;return(a=m.useContext(a_))!=null?a:r_};m.memo(({forcedTheme:a,storageKey:n,attribute:l,enableSystem:i,enableColorScheme:c,defaultTheme:u,value:h,themes:x,nonce:p,scriptProps:v})=>{let b=JSON.stringify([l,n,u,a,x,h,i,c]).slice(1,-1);return m.createElement("script",{...v,suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(${s_.toString()})(${b})`}})});const ps=({...a})=>{const{theme:n="system"}=n_();return e.jsx(H4,{theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...a})};function bi(a,[n,l]){return Math.min(l,Math.max(n,a))}function o_(a,n){return m.useReducer((l,i)=>n[l][i]??l,a)}var Sh="ScrollArea",[P0]=oa(Sh),[l_,Da]=P0(Sh),z0=m.forwardRef((a,n)=>{const{__scopeScrollArea:l,type:i="hover",dir:c,scrollHideDelay:u=600,...h}=a,[x,p]=m.useState(null),[v,b]=m.useState(null),[g,j]=m.useState(null),[w,C]=m.useState(null),[S,E]=m.useState(null),[N,T]=m.useState(0),[R,D]=m.useState(0),[_,O]=m.useState(!1),[P,$]=m.useState(!1),se=it(n,oe=>p(oe)),xe=eo(c);return e.jsx(l_,{scope:l,type:i,dir:xe,scrollHideDelay:u,scrollArea:x,viewport:v,onViewportChange:b,content:g,onContentChange:j,scrollbarX:w,onScrollbarXChange:C,scrollbarXEnabled:_,onScrollbarXEnabledChange:O,scrollbarY:S,onScrollbarYChange:E,scrollbarYEnabled:P,onScrollbarYEnabledChange:$,onCornerWidthChange:T,onCornerHeightChange:D,children:e.jsx(et.div,{dir:xe,...h,ref:se,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":R+"px",...a.style}})})});z0.displayName=Sh;var B0="ScrollAreaViewport",L0=m.forwardRef((a,n)=>{const{__scopeScrollArea:l,children:i,nonce:c,...u}=a,h=Da(B0,l),x=m.useRef(null),p=it(n,x,h.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),e.jsx(et.div,{"data-radix-scroll-area-viewport":"",...u,ref:p,style:{overflowX:h.scrollbarXEnabled?"scroll":"hidden",overflowY:h.scrollbarYEnabled?"scroll":"hidden",...a.style},children:e.jsx("div",{ref:h.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});L0.displayName=B0;var cr="ScrollAreaScrollbar",U0=m.forwardRef((a,n)=>{const{forceMount:l,...i}=a,c=Da(cr,a.__scopeScrollArea),{onScrollbarXEnabledChange:u,onScrollbarYEnabledChange:h}=c,x=a.orientation==="horizontal";return m.useEffect(()=>(x?u(!0):h(!0),()=>{x?u(!1):h(!1)}),[x,u,h]),c.type==="hover"?e.jsx(i_,{...i,ref:n,forceMount:l}):c.type==="scroll"?e.jsx(c_,{...i,ref:n,forceMount:l}):c.type==="auto"?e.jsx(F0,{...i,ref:n,forceMount:l}):c.type==="always"?e.jsx(kh,{...i,ref:n}):null});U0.displayName=cr;var i_=m.forwardRef((a,n)=>{const{forceMount:l,...i}=a,c=Da(cr,a.__scopeScrollArea),[u,h]=m.useState(!1);return m.useEffect(()=>{const x=c.scrollArea;let p=0;if(x){const v=()=>{window.clearTimeout(p),h(!0)},b=()=>{p=window.setTimeout(()=>h(!1),c.scrollHideDelay)};return x.addEventListener("pointerenter",v),x.addEventListener("pointerleave",b),()=>{window.clearTimeout(p),x.removeEventListener("pointerenter",v),x.removeEventListener("pointerleave",b)}}},[c.scrollArea,c.scrollHideDelay]),e.jsx(Ys,{present:l||u,children:e.jsx(F0,{"data-state":u?"visible":"hidden",...i,ref:n})})}),c_=m.forwardRef((a,n)=>{const{forceMount:l,...i}=a,c=Da(cr,a.__scopeScrollArea),u=a.orientation==="horizontal",h=qd(()=>p("SCROLL_END"),100),[x,p]=o_("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(x==="idle"){const v=window.setTimeout(()=>p("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(v)}},[x,c.scrollHideDelay,p]),m.useEffect(()=>{const v=c.viewport,b=u?"scrollLeft":"scrollTop";if(v){let g=v[b];const j=()=>{const w=v[b];g!==w&&(p("SCROLL"),h()),g=w};return v.addEventListener("scroll",j),()=>v.removeEventListener("scroll",j)}},[c.viewport,u,p,h]),e.jsx(Ys,{present:l||x!=="hidden",children:e.jsx(kh,{"data-state":x==="hidden"?"hidden":"visible",...i,ref:n,onPointerEnter:Oe(a.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:Oe(a.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),F0=m.forwardRef((a,n)=>{const l=Da(cr,a.__scopeScrollArea),{forceMount:i,...c}=a,[u,h]=m.useState(!1),x=a.orientation==="horizontal",p=qd(()=>{if(l.viewport){const v=l.viewport.offsetWidth<l.viewport.scrollWidth,b=l.viewport.offsetHeight<l.viewport.scrollHeight;h(x?v:b)}},10);return Jo(l.viewport,p),Jo(l.content,p),e.jsx(Ys,{present:i||u,children:e.jsx(kh,{"data-state":u?"visible":"hidden",...c,ref:n})})}),kh=m.forwardRef((a,n)=>{const{orientation:l="vertical",...i}=a,c=Da(cr,a.__scopeScrollArea),u=m.useRef(null),h=m.useRef(0),[x,p]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),v=G0(x.viewport,x.content),b={...i,sizes:x,onSizesChange:p,hasThumb:v>0&&v<1,onThumbChange:j=>u.current=j,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:j=>h.current=j};function g(j,w){return x_(j,h.current,x,w)}return l==="horizontal"?e.jsx(d_,{...b,ref:n,onThumbPositionChange:()=>{if(c.viewport&&u.current){const j=c.viewport.scrollLeft,w=Nb(j,x,c.dir);u.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:j=>{c.viewport&&(c.viewport.scrollLeft=j)},onDragScroll:j=>{c.viewport&&(c.viewport.scrollLeft=g(j,c.dir))}}):l==="vertical"?e.jsx(u_,{...b,ref:n,onThumbPositionChange:()=>{if(c.viewport&&u.current){const j=c.viewport.scrollTop,w=Nb(j,x);u.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:j=>{c.viewport&&(c.viewport.scrollTop=j)},onDragScroll:j=>{c.viewport&&(c.viewport.scrollTop=g(j))}}):null}),d_=m.forwardRef((a,n)=>{const{sizes:l,onSizesChange:i,...c}=a,u=Da(cr,a.__scopeScrollArea),[h,x]=m.useState(),p=m.useRef(null),v=it(n,p,u.onScrollbarXChange);return m.useEffect(()=>{p.current&&x(getComputedStyle(p.current))},[p]),e.jsx($0,{"data-orientation":"horizontal",...c,ref:v,sizes:l,style:{bottom:0,left:u.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:u.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hd(l)+"px",...a.style},onThumbPointerDown:b=>a.onThumbPointerDown(b.x),onDragScroll:b=>a.onDragScroll(b.x),onWheelScroll:(b,g)=>{if(u.viewport){const j=u.viewport.scrollLeft+b.deltaX;a.onWheelScroll(j),Y0(j,g)&&b.preventDefault()}},onResize:()=>{p.current&&u.viewport&&h&&i({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:p.current.clientWidth,paddingStart:hd(h.paddingLeft),paddingEnd:hd(h.paddingRight)}})}})}),u_=m.forwardRef((a,n)=>{const{sizes:l,onSizesChange:i,...c}=a,u=Da(cr,a.__scopeScrollArea),[h,x]=m.useState(),p=m.useRef(null),v=it(n,p,u.onScrollbarYChange);return m.useEffect(()=>{p.current&&x(getComputedStyle(p.current))},[p]),e.jsx($0,{"data-orientation":"vertical",...c,ref:v,sizes:l,style:{top:0,right:u.dir==="ltr"?0:void 0,left:u.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hd(l)+"px",...a.style},onThumbPointerDown:b=>a.onThumbPointerDown(b.y),onDragScroll:b=>a.onDragScroll(b.y),onWheelScroll:(b,g)=>{if(u.viewport){const j=u.viewport.scrollTop+b.deltaY;a.onWheelScroll(j),Y0(j,g)&&b.preventDefault()}},onResize:()=>{p.current&&u.viewport&&h&&i({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:p.current.clientHeight,paddingStart:hd(h.paddingTop),paddingEnd:hd(h.paddingBottom)}})}})}),[m_,I0]=P0(cr),$0=m.forwardRef((a,n)=>{const{__scopeScrollArea:l,sizes:i,hasThumb:c,onThumbChange:u,onThumbPointerUp:h,onThumbPointerDown:x,onThumbPositionChange:p,onDragScroll:v,onWheelScroll:b,onResize:g,...j}=a,w=Da(cr,l),[C,S]=m.useState(null),E=it(n,se=>S(se)),N=m.useRef(null),T=m.useRef(""),R=w.viewport,D=i.content-i.viewport,_=Os(b),O=Os(p),P=qd(g,10);function $(se){if(N.current){const xe=se.clientX-N.current.left,oe=se.clientY-N.current.top;v({x:xe,y:oe})}}return m.useEffect(()=>{const se=xe=>{const oe=xe.target;C?.contains(oe)&&_(xe,D)};return document.addEventListener("wheel",se,{passive:!1}),()=>document.removeEventListener("wheel",se,{passive:!1})},[R,C,D,_]),m.useEffect(O,[i,O]),Jo(C,P),Jo(w.content,P),e.jsx(m_,{scope:l,scrollbar:C,hasThumb:c,onThumbChange:Os(u),onThumbPointerUp:Os(h),onThumbPositionChange:O,onThumbPointerDown:Os(x),children:e.jsx(et.div,{...j,ref:E,style:{position:"absolute",...j.style},onPointerDown:Oe(a.onPointerDown,se=>{se.button===0&&(se.target.setPointerCapture(se.pointerId),N.current=C.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),$(se))}),onPointerMove:Oe(a.onPointerMove,$),onPointerUp:Oe(a.onPointerUp,se=>{const xe=se.target;xe.hasPointerCapture(se.pointerId)&&xe.releasePointerCapture(se.pointerId),document.body.style.webkitUserSelect=T.current,w.viewport&&(w.viewport.style.scrollBehavior=""),N.current=null})})})}),fd="ScrollAreaThumb",H0=m.forwardRef((a,n)=>{const{forceMount:l,...i}=a,c=I0(fd,a.__scopeScrollArea);return e.jsx(Ys,{present:l||c.hasThumb,children:e.jsx(f_,{ref:n,...i})})}),f_=m.forwardRef((a,n)=>{const{__scopeScrollArea:l,style:i,...c}=a,u=Da(fd,l),h=I0(fd,l),{onThumbPositionChange:x}=h,p=it(n,g=>h.onThumbChange(g)),v=m.useRef(void 0),b=qd(()=>{v.current&&(v.current(),v.current=void 0)},100);return m.useEffect(()=>{const g=u.viewport;if(g){const j=()=>{if(b(),!v.current){const w=g_(g,x);v.current=w,x()}};return x(),g.addEventListener("scroll",j),()=>g.removeEventListener("scroll",j)}},[u.viewport,b,x]),e.jsx(et.div,{"data-state":h.hasThumb?"visible":"hidden",...c,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Oe(a.onPointerDownCapture,g=>{const w=g.target.getBoundingClientRect(),C=g.clientX-w.left,S=g.clientY-w.top;h.onThumbPointerDown({x:C,y:S})}),onPointerUp:Oe(a.onPointerUp,h.onThumbPointerUp)})});H0.displayName=fd;var Ch="ScrollAreaCorner",q0=m.forwardRef((a,n)=>{const l=Da(Ch,a.__scopeScrollArea),i=!!(l.scrollbarX&&l.scrollbarY);return l.type!=="scroll"&&i?e.jsx(h_,{...a,ref:n}):null});q0.displayName=Ch;var h_=m.forwardRef((a,n)=>{const{__scopeScrollArea:l,...i}=a,c=Da(Ch,l),[u,h]=m.useState(0),[x,p]=m.useState(0),v=!!(u&&x);return Jo(c.scrollbarX,()=>{const b=c.scrollbarX?.offsetHeight||0;c.onCornerHeightChange(b),p(b)}),Jo(c.scrollbarY,()=>{const b=c.scrollbarY?.offsetWidth||0;c.onCornerWidthChange(b),h(b)}),v?e.jsx(et.div,{...i,ref:n,style:{width:u,height:x,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...a.style}}):null});function hd(a){return a?parseInt(a,10):0}function G0(a,n){const l=a/n;return isNaN(l)?0:l}function Hd(a){const n=G0(a.viewport,a.content),l=a.scrollbar.paddingStart+a.scrollbar.paddingEnd,i=(a.scrollbar.size-l)*n;return Math.max(i,18)}function x_(a,n,l,i="ltr"){const c=Hd(l),u=c/2,h=n||u,x=c-h,p=l.scrollbar.paddingStart+h,v=l.scrollbar.size-l.scrollbar.paddingEnd-x,b=l.content-l.viewport,g=i==="ltr"?[0,b]:[b*-1,0];return V0([p,v],g)(a)}function Nb(a,n,l="ltr"){const i=Hd(n),c=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,u=n.scrollbar.size-c,h=n.content-n.viewport,x=u-i,p=l==="ltr"?[0,h]:[h*-1,0],v=bi(a,p);return V0([0,h],[0,x])(v)}function V0(a,n){return l=>{if(a[0]===a[1]||n[0]===n[1])return n[0];const i=(n[1]-n[0])/(a[1]-a[0]);return n[0]+i*(l-a[0])}}function Y0(a,n){return a>0&&a<n}var g_=(a,n=()=>{})=>{let l={left:a.scrollLeft,top:a.scrollTop},i=0;return(function c(){const u={left:a.scrollLeft,top:a.scrollTop},h=l.left!==u.left,x=l.top!==u.top;(h||x)&&n(),l=u,i=window.requestAnimationFrame(c)})(),()=>window.cancelAnimationFrame(i)};function qd(a,n){const l=Os(a),i=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(i.current),[]),m.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(l,n)},[l,n])}function Jo(a,n){const l=Os(n);ys(()=>{let i=0;if(a){const c=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(l)});return c.observe(a),()=>{window.cancelAnimationFrame(i),c.unobserve(a)}}},[a,l])}var p_=z0,v_=L0,b_=q0;function xd({className:a,children:n,...l}){return e.jsxs(p_,{"data-slot":"scroll-area",className:Fe("relative",a),...l,children:[e.jsx(v_,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:n}),e.jsx(y_,{}),e.jsx(b_,{})]})}function y_({className:a,orientation:n="vertical",...l}){return e.jsx(U0,{"data-slot":"scroll-area-scrollbar",orientation:n,className:Fe("flex touch-none p-px transition-colors select-none",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",a),...l,children:e.jsx(H0,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const j_=["top","right","bottom","left"],pn=Math.min,xa=Math.max,gd=Math.round,ad=Math.floor,nr=a=>({x:a,y:a}),w_={left:"right",right:"left",bottom:"top",top:"bottom"},N_={start:"end",end:"start"};function Gf(a,n,l){return xa(a,pn(n,l))}function Pr(a,n){return typeof a=="function"?a(n):a}function zr(a){return a.split("-")[0]}function al(a){return a.split("-")[1]}function Rh(a){return a==="x"?"y":"x"}function Ah(a){return a==="y"?"height":"width"}const S_=new Set(["top","bottom"]);function sr(a){return S_.has(zr(a))?"y":"x"}function _h(a){return Rh(sr(a))}function k_(a,n,l){l===void 0&&(l=!1);const i=al(a),c=_h(a),u=Ah(c);let h=c==="x"?i===(l?"end":"start")?"right":"left":i==="start"?"bottom":"top";return n.reference[u]>n.floating[u]&&(h=pd(h)),[h,pd(h)]}function C_(a){const n=pd(a);return[Vf(a),n,Vf(n)]}function Vf(a){return a.replace(/start|end/g,n=>N_[n])}const Sb=["left","right"],kb=["right","left"],R_=["top","bottom"],A_=["bottom","top"];function __(a,n,l){switch(a){case"top":case"bottom":return l?n?kb:Sb:n?Sb:kb;case"left":case"right":return n?R_:A_;default:return[]}}function E_(a,n,l,i){const c=al(a);let u=__(zr(a),l==="start",i);return c&&(u=u.map(h=>h+"-"+c),n&&(u=u.concat(u.map(Vf)))),u}function pd(a){return a.replace(/left|right|bottom|top/g,n=>w_[n])}function T_(a){return{top:0,right:0,bottom:0,left:0,...a}}function X0(a){return typeof a!="number"?T_(a):{top:a,right:a,bottom:a,left:a}}function vd(a){const{x:n,y:l,width:i,height:c}=a;return{width:i,height:c,top:l,left:n,right:n+i,bottom:l+c,x:n,y:l}}function Cb(a,n,l){let{reference:i,floating:c}=a;const u=sr(n),h=_h(n),x=Ah(h),p=zr(n),v=u==="y",b=i.x+i.width/2-c.width/2,g=i.y+i.height/2-c.height/2,j=i[x]/2-c[x]/2;let w;switch(p){case"top":w={x:b,y:i.y-c.height};break;case"bottom":w={x:b,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:g};break;case"left":w={x:i.x-c.width,y:g};break;default:w={x:i.x,y:i.y}}switch(al(n)){case"start":w[h]-=j*(l&&v?-1:1);break;case"end":w[h]+=j*(l&&v?-1:1);break}return w}const D_=async(a,n,l)=>{const{placement:i="bottom",strategy:c="absolute",middleware:u=[],platform:h}=l,x=u.filter(Boolean),p=await(h.isRTL==null?void 0:h.isRTL(n));let v=await h.getElementRects({reference:a,floating:n,strategy:c}),{x:b,y:g}=Cb(v,i,p),j=i,w={},C=0;for(let S=0;S<x.length;S++){const{name:E,fn:N}=x[S],{x:T,y:R,data:D,reset:_}=await N({x:b,y:g,initialPlacement:i,placement:j,strategy:c,middlewareData:w,rects:v,platform:h,elements:{reference:a,floating:n}});b=T??b,g=R??g,w={...w,[E]:{...w[E],...D}},_&&C<=50&&(C++,typeof _=="object"&&(_.placement&&(j=_.placement),_.rects&&(v=_.rects===!0?await h.getElementRects({reference:a,floating:n,strategy:c}):_.rects),{x:b,y:g}=Cb(v,j,p)),S=-1)}return{x:b,y:g,placement:j,strategy:c,middlewareData:w}};async function yi(a,n){var l;n===void 0&&(n={});const{x:i,y:c,platform:u,rects:h,elements:x,strategy:p}=a,{boundary:v="clippingAncestors",rootBoundary:b="viewport",elementContext:g="floating",altBoundary:j=!1,padding:w=0}=Pr(n,a),C=X0(w),E=x[j?g==="floating"?"reference":"floating":g],N=vd(await u.getClippingRect({element:(l=await(u.isElement==null?void 0:u.isElement(E)))==null||l?E:E.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(x.floating)),boundary:v,rootBoundary:b,strategy:p})),T=g==="floating"?{x:i,y:c,width:h.floating.width,height:h.floating.height}:h.reference,R=await(u.getOffsetParent==null?void 0:u.getOffsetParent(x.floating)),D=await(u.isElement==null?void 0:u.isElement(R))?await(u.getScale==null?void 0:u.getScale(R))||{x:1,y:1}:{x:1,y:1},_=vd(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:x,rect:T,offsetParent:R,strategy:p}):T);return{top:(N.top-_.top+C.top)/D.y,bottom:(_.bottom-N.bottom+C.bottom)/D.y,left:(N.left-_.left+C.left)/D.x,right:(_.right-N.right+C.right)/D.x}}const M_=a=>({name:"arrow",options:a,async fn(n){const{x:l,y:i,placement:c,rects:u,platform:h,elements:x,middlewareData:p}=n,{element:v,padding:b=0}=Pr(a,n)||{};if(v==null)return{};const g=X0(b),j={x:l,y:i},w=_h(c),C=Ah(w),S=await h.getDimensions(v),E=w==="y",N=E?"top":"left",T=E?"bottom":"right",R=E?"clientHeight":"clientWidth",D=u.reference[C]+u.reference[w]-j[w]-u.floating[C],_=j[w]-u.reference[w],O=await(h.getOffsetParent==null?void 0:h.getOffsetParent(v));let P=O?O[R]:0;(!P||!await(h.isElement==null?void 0:h.isElement(O)))&&(P=x.floating[R]||u.floating[C]);const $=D/2-_/2,se=P/2-S[C]/2-1,xe=pn(g[N],se),oe=pn(g[T],se),W=xe,me=P-S[C]-oe,ue=P/2-S[C]/2+$,ce=Gf(W,ue,me),A=!p.arrow&&al(c)!=null&&ue!==ce&&u.reference[C]/2-(ue<W?xe:oe)-S[C]/2<0,q=A?ue<W?ue-W:ue-me:0;return{[w]:j[w]+q,data:{[w]:ce,centerOffset:ue-ce-q,...A&&{alignmentOffset:q}},reset:A}}}),O_=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(n){var l,i;const{placement:c,middlewareData:u,rects:h,initialPlacement:x,platform:p,elements:v}=n,{mainAxis:b=!0,crossAxis:g=!0,fallbackPlacements:j,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,...E}=Pr(a,n);if((l=u.arrow)!=null&&l.alignmentOffset)return{};const N=zr(c),T=sr(x),R=zr(x)===x,D=await(p.isRTL==null?void 0:p.isRTL(v.floating)),_=j||(R||!S?[pd(x)]:C_(x)),O=C!=="none";!j&&O&&_.push(...E_(x,S,C,D));const P=[x,..._],$=await yi(n,E),se=[];let xe=((i=u.flip)==null?void 0:i.overflows)||[];if(b&&se.push($[N]),g){const ue=k_(c,h,D);se.push($[ue[0]],$[ue[1]])}if(xe=[...xe,{placement:c,overflows:se}],!se.every(ue=>ue<=0)){var oe,W;const ue=(((oe=u.flip)==null?void 0:oe.index)||0)+1,ce=P[ue];if(ce&&(!(g==="alignment"?T!==sr(ce):!1)||xe.every(M=>sr(M.placement)===T?M.overflows[0]>0:!0)))return{data:{index:ue,overflows:xe},reset:{placement:ce}};let A=(W=xe.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:W.placement;if(!A)switch(w){case"bestFit":{var me;const q=(me=xe.filter(M=>{if(O){const ae=sr(M.placement);return ae===T||ae==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(ae=>ae>0).reduce((ae,ve)=>ae+ve,0)]).sort((M,ae)=>M[1]-ae[1])[0])==null?void 0:me[0];q&&(A=q);break}case"initialPlacement":A=x;break}if(c!==A)return{reset:{placement:A}}}return{}}}};function Rb(a,n){return{top:a.top-n.height,right:a.right-n.width,bottom:a.bottom-n.height,left:a.left-n.width}}function Ab(a){return j_.some(n=>a[n]>=0)}const P_=function(a){return a===void 0&&(a={}),{name:"hide",options:a,async fn(n){const{rects:l}=n,{strategy:i="referenceHidden",...c}=Pr(a,n);switch(i){case"referenceHidden":{const u=await yi(n,{...c,elementContext:"reference"}),h=Rb(u,l.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Ab(h)}}}case"escaped":{const u=await yi(n,{...c,altBoundary:!0}),h=Rb(u,l.floating);return{data:{escapedOffsets:h,escaped:Ab(h)}}}default:return{}}}}},K0=new Set(["left","top"]);async function z_(a,n){const{placement:l,platform:i,elements:c}=a,u=await(i.isRTL==null?void 0:i.isRTL(c.floating)),h=zr(l),x=al(l),p=sr(l)==="y",v=K0.has(h)?-1:1,b=u&&p?-1:1,g=Pr(n,a);let{mainAxis:j,crossAxis:w,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return x&&typeof C=="number"&&(w=x==="end"?C*-1:C),p?{x:w*b,y:j*v}:{x:j*v,y:w*b}}const B_=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(n){var l,i;const{x:c,y:u,placement:h,middlewareData:x}=n,p=await z_(n,a);return h===((l=x.offset)==null?void 0:l.placement)&&(i=x.arrow)!=null&&i.alignmentOffset?{}:{x:c+p.x,y:u+p.y,data:{...p,placement:h}}}}},L_=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(n){const{x:l,y:i,placement:c}=n,{mainAxis:u=!0,crossAxis:h=!1,limiter:x={fn:E=>{let{x:N,y:T}=E;return{x:N,y:T}}},...p}=Pr(a,n),v={x:l,y:i},b=await yi(n,p),g=sr(zr(c)),j=Rh(g);let w=v[j],C=v[g];if(u){const E=j==="y"?"top":"left",N=j==="y"?"bottom":"right",T=w+b[E],R=w-b[N];w=Gf(T,w,R)}if(h){const E=g==="y"?"top":"left",N=g==="y"?"bottom":"right",T=C+b[E],R=C-b[N];C=Gf(T,C,R)}const S=x.fn({...n,[j]:w,[g]:C});return{...S,data:{x:S.x-l,y:S.y-i,enabled:{[j]:u,[g]:h}}}}}},U_=function(a){return a===void 0&&(a={}),{options:a,fn(n){const{x:l,y:i,placement:c,rects:u,middlewareData:h}=n,{offset:x=0,mainAxis:p=!0,crossAxis:v=!0}=Pr(a,n),b={x:l,y:i},g=sr(c),j=Rh(g);let w=b[j],C=b[g];const S=Pr(x,n),E=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(p){const R=j==="y"?"height":"width",D=u.reference[j]-u.floating[R]+E.mainAxis,_=u.reference[j]+u.reference[R]-E.mainAxis;w<D?w=D:w>_&&(w=_)}if(v){var N,T;const R=j==="y"?"width":"height",D=K0.has(zr(c)),_=u.reference[g]-u.floating[R]+(D&&((N=h.offset)==null?void 0:N[g])||0)+(D?0:E.crossAxis),O=u.reference[g]+u.reference[R]+(D?0:((T=h.offset)==null?void 0:T[g])||0)-(D?E.crossAxis:0);C<_?C=_:C>O&&(C=O)}return{[j]:w,[g]:C}}}},F_=function(a){return a===void 0&&(a={}),{name:"size",options:a,async fn(n){var l,i;const{placement:c,rects:u,platform:h,elements:x}=n,{apply:p=()=>{},...v}=Pr(a,n),b=await yi(n,v),g=zr(c),j=al(c),w=sr(c)==="y",{width:C,height:S}=u.floating;let E,N;g==="top"||g==="bottom"?(E=g,N=j===(await(h.isRTL==null?void 0:h.isRTL(x.floating))?"start":"end")?"left":"right"):(N=g,E=j==="end"?"top":"bottom");const T=S-b.top-b.bottom,R=C-b.left-b.right,D=pn(S-b[E],T),_=pn(C-b[N],R),O=!n.middlewareData.shift;let P=D,$=_;if((l=n.middlewareData.shift)!=null&&l.enabled.x&&($=R),(i=n.middlewareData.shift)!=null&&i.enabled.y&&(P=T),O&&!j){const xe=xa(b.left,0),oe=xa(b.right,0),W=xa(b.top,0),me=xa(b.bottom,0);w?$=C-2*(xe!==0||oe!==0?xe+oe:xa(b.left,b.right)):P=S-2*(W!==0||me!==0?W+me:xa(b.top,b.bottom))}await p({...n,availableWidth:$,availableHeight:P});const se=await h.getDimensions(x.floating);return C!==se.width||S!==se.height?{reset:{rects:!0}}:{}}}};function Gd(){return typeof window<"u"}function rl(a){return Z0(a)?(a.nodeName||"").toLowerCase():"#document"}function ba(a){var n;return(a==null||(n=a.ownerDocument)==null?void 0:n.defaultView)||window}function dr(a){var n;return(n=(Z0(a)?a.ownerDocument:a.document)||window.document)==null?void 0:n.documentElement}function Z0(a){return Gd()?a instanceof Node||a instanceof ba(a).Node:!1}function Ha(a){return Gd()?a instanceof Element||a instanceof ba(a).Element:!1}function ir(a){return Gd()?a instanceof HTMLElement||a instanceof ba(a).HTMLElement:!1}function _b(a){return!Gd()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof ba(a).ShadowRoot}const I_=new Set(["inline","contents"]);function Ri(a){const{overflow:n,overflowX:l,overflowY:i,display:c}=qa(a);return/auto|scroll|overlay|hidden|clip/.test(n+i+l)&&!I_.has(c)}const $_=new Set(["table","td","th"]);function H_(a){return $_.has(rl(a))}const q_=[":popover-open",":modal"];function Vd(a){return q_.some(n=>{try{return a.matches(n)}catch{return!1}})}const G_=["transform","translate","scale","rotate","perspective"],V_=["transform","translate","scale","rotate","perspective","filter"],Y_=["paint","layout","strict","content"];function Eh(a){const n=Th(),l=Ha(a)?qa(a):a;return G_.some(i=>l[i]?l[i]!=="none":!1)||(l.containerType?l.containerType!=="normal":!1)||!n&&(l.backdropFilter?l.backdropFilter!=="none":!1)||!n&&(l.filter?l.filter!=="none":!1)||V_.some(i=>(l.willChange||"").includes(i))||Y_.some(i=>(l.contain||"").includes(i))}function X_(a){let n=vn(a);for(;ir(n)&&!Wo(n);){if(Eh(n))return n;if(Vd(n))return null;n=vn(n)}return null}function Th(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const K_=new Set(["html","body","#document"]);function Wo(a){return K_.has(rl(a))}function qa(a){return ba(a).getComputedStyle(a)}function Yd(a){return Ha(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function vn(a){if(rl(a)==="html")return a;const n=a.assignedSlot||a.parentNode||_b(a)&&a.host||dr(a);return _b(n)?n.host:n}function Q0(a){const n=vn(a);return Wo(n)?a.ownerDocument?a.ownerDocument.body:a.body:ir(n)&&Ri(n)?n:Q0(n)}function ji(a,n,l){var i;n===void 0&&(n=[]),l===void 0&&(l=!0);const c=Q0(a),u=c===((i=a.ownerDocument)==null?void 0:i.body),h=ba(c);if(u){const x=Yf(h);return n.concat(h,h.visualViewport||[],Ri(c)?c:[],x&&l?ji(x):[])}return n.concat(c,ji(c,[],l))}function Yf(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function J0(a){const n=qa(a);let l=parseFloat(n.width)||0,i=parseFloat(n.height)||0;const c=ir(a),u=c?a.offsetWidth:l,h=c?a.offsetHeight:i,x=gd(l)!==u||gd(i)!==h;return x&&(l=u,i=h),{width:l,height:i,$:x}}function Dh(a){return Ha(a)?a:a.contextElement}function Ko(a){const n=Dh(a);if(!ir(n))return nr(1);const l=n.getBoundingClientRect(),{width:i,height:c,$:u}=J0(n);let h=(u?gd(l.width):l.width)/i,x=(u?gd(l.height):l.height)/c;return(!h||!Number.isFinite(h))&&(h=1),(!x||!Number.isFinite(x))&&(x=1),{x:h,y:x}}const Z_=nr(0);function W0(a){const n=ba(a);return!Th()||!n.visualViewport?Z_:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Q_(a,n,l){return n===void 0&&(n=!1),!l||n&&l!==ba(a)?!1:n}function Qn(a,n,l,i){n===void 0&&(n=!1),l===void 0&&(l=!1);const c=a.getBoundingClientRect(),u=Dh(a);let h=nr(1);n&&(i?Ha(i)&&(h=Ko(i)):h=Ko(a));const x=Q_(u,l,i)?W0(u):nr(0);let p=(c.left+x.x)/h.x,v=(c.top+x.y)/h.y,b=c.width/h.x,g=c.height/h.y;if(u){const j=ba(u),w=i&&Ha(i)?ba(i):i;let C=j,S=Yf(C);for(;S&&i&&w!==C;){const E=Ko(S),N=S.getBoundingClientRect(),T=qa(S),R=N.left+(S.clientLeft+parseFloat(T.paddingLeft))*E.x,D=N.top+(S.clientTop+parseFloat(T.paddingTop))*E.y;p*=E.x,v*=E.y,b*=E.x,g*=E.y,p+=R,v+=D,C=ba(S),S=Yf(C)}}return vd({width:b,height:g,x:p,y:v})}function Xd(a,n){const l=Yd(a).scrollLeft;return n?n.left+l:Qn(dr(a)).left+l}function ej(a,n){const l=a.getBoundingClientRect(),i=l.left+n.scrollLeft-Xd(a,l),c=l.top+n.scrollTop;return{x:i,y:c}}function J_(a){let{elements:n,rect:l,offsetParent:i,strategy:c}=a;const u=c==="fixed",h=dr(i),x=n?Vd(n.floating):!1;if(i===h||x&&u)return l;let p={scrollLeft:0,scrollTop:0},v=nr(1);const b=nr(0),g=ir(i);if((g||!g&&!u)&&((rl(i)!=="body"||Ri(h))&&(p=Yd(i)),ir(i))){const w=Qn(i);v=Ko(i),b.x=w.x+i.clientLeft,b.y=w.y+i.clientTop}const j=h&&!g&&!u?ej(h,p):nr(0);return{width:l.width*v.x,height:l.height*v.y,x:l.x*v.x-p.scrollLeft*v.x+b.x+j.x,y:l.y*v.y-p.scrollTop*v.y+b.y+j.y}}function W_(a){return Array.from(a.getClientRects())}function eE(a){const n=dr(a),l=Yd(a),i=a.ownerDocument.body,c=xa(n.scrollWidth,n.clientWidth,i.scrollWidth,i.clientWidth),u=xa(n.scrollHeight,n.clientHeight,i.scrollHeight,i.clientHeight);let h=-l.scrollLeft+Xd(a);const x=-l.scrollTop;return qa(i).direction==="rtl"&&(h+=xa(n.clientWidth,i.clientWidth)-c),{width:c,height:u,x:h,y:x}}const Eb=25;function tE(a,n){const l=ba(a),i=dr(a),c=l.visualViewport;let u=i.clientWidth,h=i.clientHeight,x=0,p=0;if(c){u=c.width,h=c.height;const b=Th();(!b||b&&n==="fixed")&&(x=c.offsetLeft,p=c.offsetTop)}const v=Xd(i);if(v<=0){const b=i.ownerDocument,g=b.body,j=getComputedStyle(g),w=b.compatMode==="CSS1Compat"&&parseFloat(j.marginLeft)+parseFloat(j.marginRight)||0,C=Math.abs(i.clientWidth-g.clientWidth-w);C<=Eb&&(u-=C)}else v<=Eb&&(u+=v);return{width:u,height:h,x,y:p}}const sE=new Set(["absolute","fixed"]);function aE(a,n){const l=Qn(a,!0,n==="fixed"),i=l.top+a.clientTop,c=l.left+a.clientLeft,u=ir(a)?Ko(a):nr(1),h=a.clientWidth*u.x,x=a.clientHeight*u.y,p=c*u.x,v=i*u.y;return{width:h,height:x,x:p,y:v}}function Tb(a,n,l){let i;if(n==="viewport")i=tE(a,l);else if(n==="document")i=eE(dr(a));else if(Ha(n))i=aE(n,l);else{const c=W0(a);i={x:n.x-c.x,y:n.y-c.y,width:n.width,height:n.height}}return vd(i)}function tj(a,n){const l=vn(a);return l===n||!Ha(l)||Wo(l)?!1:qa(l).position==="fixed"||tj(l,n)}function rE(a,n){const l=n.get(a);if(l)return l;let i=ji(a,[],!1).filter(x=>Ha(x)&&rl(x)!=="body"),c=null;const u=qa(a).position==="fixed";let h=u?vn(a):a;for(;Ha(h)&&!Wo(h);){const x=qa(h),p=Eh(h);!p&&x.position==="fixed"&&(c=null),(u?!p&&!c:!p&&x.position==="static"&&!!c&&sE.has(c.position)||Ri(h)&&!p&&tj(a,h))?i=i.filter(b=>b!==h):c=x,h=vn(h)}return n.set(a,i),i}function nE(a){let{element:n,boundary:l,rootBoundary:i,strategy:c}=a;const h=[...l==="clippingAncestors"?Vd(n)?[]:rE(n,this._c):[].concat(l),i],x=h[0],p=h.reduce((v,b)=>{const g=Tb(n,b,c);return v.top=xa(g.top,v.top),v.right=pn(g.right,v.right),v.bottom=pn(g.bottom,v.bottom),v.left=xa(g.left,v.left),v},Tb(n,x,c));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function oE(a){const{width:n,height:l}=J0(a);return{width:n,height:l}}function lE(a,n,l){const i=ir(n),c=dr(n),u=l==="fixed",h=Qn(a,!0,u,n);let x={scrollLeft:0,scrollTop:0};const p=nr(0);function v(){p.x=Xd(c)}if(i||!i&&!u)if((rl(n)!=="body"||Ri(c))&&(x=Yd(n)),i){const w=Qn(n,!0,u,n);p.x=w.x+n.clientLeft,p.y=w.y+n.clientTop}else c&&v();u&&!i&&c&&v();const b=c&&!i&&!u?ej(c,x):nr(0),g=h.left+x.scrollLeft-p.x-b.x,j=h.top+x.scrollTop-p.y-b.y;return{x:g,y:j,width:h.width,height:h.height}}function Mf(a){return qa(a).position==="static"}function Db(a,n){if(!ir(a)||qa(a).position==="fixed")return null;if(n)return n(a);let l=a.offsetParent;return dr(a)===l&&(l=l.ownerDocument.body),l}function sj(a,n){const l=ba(a);if(Vd(a))return l;if(!ir(a)){let c=vn(a);for(;c&&!Wo(c);){if(Ha(c)&&!Mf(c))return c;c=vn(c)}return l}let i=Db(a,n);for(;i&&H_(i)&&Mf(i);)i=Db(i,n);return i&&Wo(i)&&Mf(i)&&!Eh(i)?l:i||X_(a)||l}const iE=async function(a){const n=this.getOffsetParent||sj,l=this.getDimensions,i=await l(a.floating);return{reference:lE(a.reference,await n(a.floating),a.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function cE(a){return qa(a).direction==="rtl"}const dE={convertOffsetParentRelativeRectToViewportRelativeRect:J_,getDocumentElement:dr,getClippingRect:nE,getOffsetParent:sj,getElementRects:iE,getClientRects:W_,getDimensions:oE,getScale:Ko,isElement:Ha,isRTL:cE};function aj(a,n){return a.x===n.x&&a.y===n.y&&a.width===n.width&&a.height===n.height}function uE(a,n){let l=null,i;const c=dr(a);function u(){var x;clearTimeout(i),(x=l)==null||x.disconnect(),l=null}function h(x,p){x===void 0&&(x=!1),p===void 0&&(p=1),u();const v=a.getBoundingClientRect(),{left:b,top:g,width:j,height:w}=v;if(x||n(),!j||!w)return;const C=ad(g),S=ad(c.clientWidth-(b+j)),E=ad(c.clientHeight-(g+w)),N=ad(b),R={rootMargin:-C+"px "+-S+"px "+-E+"px "+-N+"px",threshold:xa(0,pn(1,p))||1};let D=!0;function _(O){const P=O[0].intersectionRatio;if(P!==p){if(!D)return h();P?h(!1,P):i=setTimeout(()=>{h(!1,1e-7)},1e3)}P===1&&!aj(v,a.getBoundingClientRect())&&h(),D=!1}try{l=new IntersectionObserver(_,{...R,root:c.ownerDocument})}catch{l=new IntersectionObserver(_,R)}l.observe(a)}return h(!0),u}function mE(a,n,l,i){i===void 0&&(i={});const{ancestorScroll:c=!0,ancestorResize:u=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:x=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,v=Dh(a),b=c||u?[...v?ji(v):[],...ji(n)]:[];b.forEach(N=>{c&&N.addEventListener("scroll",l,{passive:!0}),u&&N.addEventListener("resize",l)});const g=v&&x?uE(v,l):null;let j=-1,w=null;h&&(w=new ResizeObserver(N=>{let[T]=N;T&&T.target===v&&w&&(w.unobserve(n),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var R;(R=w)==null||R.observe(n)})),l()}),v&&!p&&w.observe(v),w.observe(n));let C,S=p?Qn(a):null;p&&E();function E(){const N=Qn(a);S&&!aj(S,N)&&l(),S=N,C=requestAnimationFrame(E)}return l(),()=>{var N;b.forEach(T=>{c&&T.removeEventListener("scroll",l),u&&T.removeEventListener("resize",l)}),g?.(),(N=w)==null||N.disconnect(),w=null,p&&cancelAnimationFrame(C)}}const fE=B_,hE=L_,xE=O_,gE=F_,pE=P_,Mb=M_,vE=U_,bE=(a,n,l)=>{const i=new Map,c={platform:dE,...l},u={...c.platform,_c:i};return D_(a,n,{...c,platform:u})};var yE=typeof document<"u",jE=function(){},od=yE?m.useLayoutEffect:jE;function bd(a,n){if(a===n)return!0;if(typeof a!=typeof n)return!1;if(typeof a=="function"&&a.toString()===n.toString())return!0;let l,i,c;if(a&&n&&typeof a=="object"){if(Array.isArray(a)){if(l=a.length,l!==n.length)return!1;for(i=l;i--!==0;)if(!bd(a[i],n[i]))return!1;return!0}if(c=Object.keys(a),l=c.length,l!==Object.keys(n).length)return!1;for(i=l;i--!==0;)if(!{}.hasOwnProperty.call(n,c[i]))return!1;for(i=l;i--!==0;){const u=c[i];if(!(u==="_owner"&&a.$$typeof)&&!bd(a[u],n[u]))return!1}return!0}return a!==a&&n!==n}function rj(a){return typeof window>"u"?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function Ob(a,n){const l=rj(a);return Math.round(n*l)/l}function Of(a){const n=m.useRef(a);return od(()=>{n.current=a}),n}function wE(a){a===void 0&&(a={});const{placement:n="bottom",strategy:l="absolute",middleware:i=[],platform:c,elements:{reference:u,floating:h}={},transform:x=!0,whileElementsMounted:p,open:v}=a,[b,g]=m.useState({x:0,y:0,strategy:l,placement:n,middlewareData:{},isPositioned:!1}),[j,w]=m.useState(i);bd(j,i)||w(i);const[C,S]=m.useState(null),[E,N]=m.useState(null),T=m.useCallback(M=>{M!==O.current&&(O.current=M,S(M))},[]),R=m.useCallback(M=>{M!==P.current&&(P.current=M,N(M))},[]),D=u||C,_=h||E,O=m.useRef(null),P=m.useRef(null),$=m.useRef(b),se=p!=null,xe=Of(p),oe=Of(c),W=Of(v),me=m.useCallback(()=>{if(!O.current||!P.current)return;const M={placement:n,strategy:l,middleware:j};oe.current&&(M.platform=oe.current),bE(O.current,P.current,M).then(ae=>{const ve={...ae,isPositioned:W.current!==!1};ue.current&&!bd($.current,ve)&&($.current=ve,ki.flushSync(()=>{g(ve)}))})},[j,n,l,oe,W]);od(()=>{v===!1&&$.current.isPositioned&&($.current.isPositioned=!1,g(M=>({...M,isPositioned:!1})))},[v]);const ue=m.useRef(!1);od(()=>(ue.current=!0,()=>{ue.current=!1}),[]),od(()=>{if(D&&(O.current=D),_&&(P.current=_),D&&_){if(xe.current)return xe.current(D,_,me);me()}},[D,_,me,xe,se]);const ce=m.useMemo(()=>({reference:O,floating:P,setReference:T,setFloating:R}),[T,R]),A=m.useMemo(()=>({reference:D,floating:_}),[D,_]),q=m.useMemo(()=>{const M={position:l,left:0,top:0};if(!A.floating)return M;const ae=Ob(A.floating,b.x),ve=Ob(A.floating,b.y);return x?{...M,transform:"translate("+ae+"px, "+ve+"px)",...rj(A.floating)>=1.5&&{willChange:"transform"}}:{position:l,left:ae,top:ve}},[l,x,A.floating,b.x,b.y]);return m.useMemo(()=>({...b,update:me,refs:ce,elements:A,floatingStyles:q}),[b,me,ce,A,q])}const NE=a=>{function n(l){return{}.hasOwnProperty.call(l,"current")}return{name:"arrow",options:a,fn(l){const{element:i,padding:c}=typeof a=="function"?a(l):a;return i&&n(i)?i.current!=null?Mb({element:i.current,padding:c}).fn(l):{}:i?Mb({element:i,padding:c}).fn(l):{}}}},SE=(a,n)=>({...fE(a),options:[a,n]}),kE=(a,n)=>({...hE(a),options:[a,n]}),CE=(a,n)=>({...vE(a),options:[a,n]}),RE=(a,n)=>({...xE(a),options:[a,n]}),AE=(a,n)=>({...gE(a),options:[a,n]}),_E=(a,n)=>({...pE(a),options:[a,n]}),EE=(a,n)=>({...NE(a),options:[a,n]});var TE="Arrow",nj=m.forwardRef((a,n)=>{const{children:l,width:i=10,height:c=5,...u}=a;return e.jsx(et.svg,{...u,ref:n,width:i,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:a.asChild?l:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});nj.displayName=TE;var DE=nj,Mh="Popper",[oj,Kd]=oa(Mh),[ME,lj]=oj(Mh),ij=a=>{const{__scopePopper:n,children:l}=a,[i,c]=m.useState(null);return e.jsx(ME,{scope:n,anchor:i,onAnchorChange:c,children:l})};ij.displayName=Mh;var cj="PopperAnchor",dj=m.forwardRef((a,n)=>{const{__scopePopper:l,virtualRef:i,...c}=a,u=lj(cj,l),h=m.useRef(null),x=it(n,h),p=m.useRef(null);return m.useEffect(()=>{const v=p.current;p.current=i?.current||h.current,v!==p.current&&u.onAnchorChange(p.current)}),i?null:e.jsx(et.div,{...c,ref:x})});dj.displayName=cj;var Oh="PopperContent",[OE,PE]=oj(Oh),uj=m.forwardRef((a,n)=>{const{__scopePopper:l,side:i="bottom",sideOffset:c=0,align:u="center",alignOffset:h=0,arrowPadding:x=0,avoidCollisions:p=!0,collisionBoundary:v=[],collisionPadding:b=0,sticky:g="partial",hideWhenDetached:j=!1,updatePositionStrategy:w="optimized",onPlaced:C,...S}=a,E=lj(Oh,l),[N,T]=m.useState(null),R=it(n,G=>T(G)),[D,_]=m.useState(null),O=Id(D),P=O?.width??0,$=O?.height??0,se=i+(u!=="center"?"-"+u:""),xe=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},oe=Array.isArray(v)?v:[v],W=oe.length>0,me={padding:xe,boundary:oe.filter(BE),altBoundary:W},{refs:ue,floatingStyles:ce,placement:A,isPositioned:q,middlewareData:M}=wE({strategy:"fixed",placement:se,whileElementsMounted:(...G)=>mE(...G,{animationFrame:w==="always"}),elements:{reference:E.anchor},middleware:[SE({mainAxis:c+$,alignmentAxis:h}),p&&kE({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?CE():void 0,...me}),p&&RE({...me}),AE({...me,apply:({elements:G,rects:he,availableWidth:Ne,availableHeight:_e})=>{const{width:Be,height:Pe}=he.reference,ct=G.floating.style;ct.setProperty("--radix-popper-available-width",`${Ne}px`),ct.setProperty("--radix-popper-available-height",`${_e}px`),ct.setProperty("--radix-popper-anchor-width",`${Be}px`),ct.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),D&&EE({element:D,padding:x}),LE({arrowWidth:P,arrowHeight:$}),j&&_E({strategy:"referenceHidden",...me})]}),[ae,ve]=hj(A),B=Os(C);ys(()=>{q&&B?.()},[q,B]);const Z=M.arrow?.x,U=M.arrow?.y,Q=M.arrow?.centerOffset!==0,[le,te]=m.useState();return ys(()=>{N&&te(window.getComputedStyle(N).zIndex)},[N]),e.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:q?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:a.dir,children:e.jsx(OE,{scope:l,placedSide:ae,onArrowChange:_,arrowX:Z,arrowY:U,shouldHideArrow:Q,children:e.jsx(et.div,{"data-side":ae,"data-align":ve,...S,ref:R,style:{...S.style,animation:q?void 0:"none"}})})})});uj.displayName=Oh;var mj="PopperArrow",zE={top:"bottom",right:"left",bottom:"top",left:"right"},fj=m.forwardRef(function(n,l){const{__scopePopper:i,...c}=n,u=PE(mj,i),h=zE[u.placedSide];return e.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:e.jsx(DE,{...c,ref:l,style:{...c.style,display:"block"}})})});fj.displayName=mj;function BE(a){return a!==null}var LE=a=>({name:"transformOrigin",options:a,fn(n){const{placement:l,rects:i,middlewareData:c}=n,h=c.arrow?.centerOffset!==0,x=h?0:a.arrowWidth,p=h?0:a.arrowHeight,[v,b]=hj(l),g={start:"0%",center:"50%",end:"100%"}[b],j=(c.arrow?.x??0)+x/2,w=(c.arrow?.y??0)+p/2;let C="",S="";return v==="bottom"?(C=h?g:`${j}px`,S=`${-p}px`):v==="top"?(C=h?g:`${j}px`,S=`${i.floating.height+p}px`):v==="right"?(C=`${-p}px`,S=h?g:`${w}px`):v==="left"&&(C=`${i.floating.width+p}px`,S=h?g:`${w}px`),{data:{x:C,y:S}}}});function hj(a){const[n,l="center"]=a.split("-");return[n,l]}var xj=ij,gj=dj,pj=uj,vj=fj;function UE(a){const n=FE(a),l=m.forwardRef((i,c)=>{const{children:u,...h}=i,x=m.Children.toArray(u),p=x.find($E);if(p){const v=p.props.children,b=x.map(g=>g===p?m.Children.count(v)>1?m.Children.only(null):m.isValidElement(v)?v.props.children:null:g);return e.jsx(n,{...h,ref:c,children:m.isValidElement(v)?m.cloneElement(v,void 0,b):null})}return e.jsx(n,{...h,ref:c,children:u})});return l.displayName=`${a}.Slot`,l}function FE(a){const n=m.forwardRef((l,i)=>{const{children:c,...u}=l;if(m.isValidElement(c)){const h=qE(c),x=HE(u,c.props);return c.type!==m.Fragment&&(x.ref=i?Lr(i,h):h),m.cloneElement(c,x)}return m.Children.count(c)>1?m.Children.only(null):null});return n.displayName=`${a}.SlotClone`,n}var IE=Symbol("radix.slottable");function $E(a){return m.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===IE}function HE(a,n){const l={...n};for(const i in n){const c=a[i],u=n[i];/^on[A-Z]/.test(i)?c&&u?l[i]=(...x)=>{const p=u(...x);return c(...x),p}:c&&(l[i]=c):i==="style"?l[i]={...c,...u}:i==="className"&&(l[i]=[c,u].filter(Boolean).join(" "))}return{...a,...l}}function qE(a){let n=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?a.ref:(n=Object.getOwnPropertyDescriptor(a,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?a.props.ref:a.props.ref||a.ref)}var Xf=["Enter"," "],GE=["ArrowDown","PageUp","Home"],bj=["ArrowUp","PageDown","End"],VE=[...GE,...bj],YE={ltr:[...Xf,"ArrowRight"],rtl:[...Xf,"ArrowLeft"]},XE={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ai="Menu",[wi,KE,ZE]=Ld(Ai),[to,yj]=oa(Ai,[ZE,Kd,sl]),Zd=Kd(),jj=sl(),[QE,so]=to(Ai),[JE,_i]=to(Ai),wj=a=>{const{__scopeMenu:n,open:l=!1,children:i,dir:c,onOpenChange:u,modal:h=!0}=a,x=Zd(n),[p,v]=m.useState(null),b=m.useRef(!1),g=Os(u),j=eo(c);return m.useEffect(()=>{const w=()=>{b.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>b.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),e.jsx(xj,{...x,children:e.jsx(QE,{scope:n,open:l,onOpenChange:g,content:p,onContentChange:v,children:e.jsx(JE,{scope:n,onClose:m.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:b,dir:j,modal:h,children:i})})})};wj.displayName=Ai;var WE="MenuAnchor",Ph=m.forwardRef((a,n)=>{const{__scopeMenu:l,...i}=a,c=Zd(l);return e.jsx(gj,{...c,...i,ref:n})});Ph.displayName=WE;var zh="MenuPortal",[e5,Nj]=to(zh,{forceMount:void 0}),Sj=a=>{const{__scopeMenu:n,forceMount:l,children:i,container:c}=a,u=so(zh,n);return e.jsx(e5,{scope:n,forceMount:l,children:e.jsx(Ys,{present:l||u.open,children:e.jsx(Td,{asChild:!0,container:c,children:i})})})};Sj.displayName=zh;var Ta="MenuContent",[t5,Bh]=to(Ta),kj=m.forwardRef((a,n)=>{const l=Nj(Ta,a.__scopeMenu),{forceMount:i=l.forceMount,...c}=a,u=so(Ta,a.__scopeMenu),h=_i(Ta,a.__scopeMenu);return e.jsx(wi.Provider,{scope:a.__scopeMenu,children:e.jsx(Ys,{present:i||u.open,children:e.jsx(wi.Slot,{scope:a.__scopeMenu,children:h.modal?e.jsx(s5,{...c,ref:n}):e.jsx(a5,{...c,ref:n})})})})}),s5=m.forwardRef((a,n)=>{const l=so(Ta,a.__scopeMenu),i=m.useRef(null),c=it(n,i);return m.useEffect(()=>{const u=i.current;if(u)return uh(u)},[]),e.jsx(Lh,{...a,ref:c,trapFocus:l.open,disableOutsidePointerEvents:l.open,disableOutsideScroll:!0,onFocusOutside:Oe(a.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>l.onOpenChange(!1)})}),a5=m.forwardRef((a,n)=>{const l=so(Ta,a.__scopeMenu);return e.jsx(Lh,{...a,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>l.onOpenChange(!1)})}),r5=UE("MenuContent.ScrollLock"),Lh=m.forwardRef((a,n)=>{const{__scopeMenu:l,loop:i=!1,trapFocus:c,onOpenAutoFocus:u,onCloseAutoFocus:h,disableOutsidePointerEvents:x,onEntryFocus:p,onEscapeKeyDown:v,onPointerDownOutside:b,onFocusOutside:g,onInteractOutside:j,onDismiss:w,disableOutsideScroll:C,...S}=a,E=so(Ta,l),N=_i(Ta,l),T=Zd(l),R=jj(l),D=KE(l),[_,O]=m.useState(null),P=m.useRef(null),$=it(n,P,E.onContentChange),se=m.useRef(0),xe=m.useRef(""),oe=m.useRef(0),W=m.useRef(null),me=m.useRef("right"),ue=m.useRef(0),ce=C?Md:m.Fragment,A=C?{as:r5,allowPinchZoom:!0}:void 0,q=ae=>{const ve=xe.current+ae,B=D().filter(G=>!G.disabled),Z=document.activeElement,U=B.find(G=>G.ref.current===Z)?.textValue,Q=B.map(G=>G.textValue),le=g5(Q,ve,U),te=B.find(G=>G.textValue===le)?.ref.current;(function G(he){xe.current=he,window.clearTimeout(se.current),he!==""&&(se.current=window.setTimeout(()=>G(""),1e3))})(ve),te&&setTimeout(()=>te.focus())};m.useEffect(()=>()=>window.clearTimeout(se.current),[]),dh();const M=m.useCallback(ae=>me.current===W.current?.side&&v5(ae,W.current?.area),[]);return e.jsx(t5,{scope:l,searchRef:xe,onItemEnter:m.useCallback(ae=>{M(ae)&&ae.preventDefault()},[M]),onItemLeave:m.useCallback(ae=>{M(ae)||(P.current?.focus(),O(null))},[M]),onTriggerLeave:m.useCallback(ae=>{M(ae)&&ae.preventDefault()},[M]),pointerGraceTimerRef:oe,onPointerGraceIntentChange:m.useCallback(ae=>{W.current=ae},[]),children:e.jsx(ce,{...A,children:e.jsx(Ed,{asChild:!0,trapped:c,onMountAutoFocus:Oe(u,ae=>{ae.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:e.jsx(_d,{asChild:!0,disableOutsidePointerEvents:x,onEscapeKeyDown:v,onPointerDownOutside:b,onFocusOutside:g,onInteractOutside:j,onDismiss:w,children:e.jsx(yh,{asChild:!0,...R,dir:N.dir,orientation:"vertical",loop:i,currentTabStopId:_,onCurrentTabStopIdChange:O,onEntryFocus:Oe(p,ae=>{N.isUsingKeyboardRef.current||ae.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(pj,{role:"menu","aria-orientation":"vertical","data-state":Ij(E.open),"data-radix-menu-content":"",dir:N.dir,...T,...S,ref:$,style:{outline:"none",...S.style},onKeyDown:Oe(S.onKeyDown,ae=>{const B=ae.target.closest("[data-radix-menu-content]")===ae.currentTarget,Z=ae.ctrlKey||ae.altKey||ae.metaKey,U=ae.key.length===1;B&&(ae.key==="Tab"&&ae.preventDefault(),!Z&&U&&q(ae.key));const Q=P.current;if(ae.target!==Q||!VE.includes(ae.key))return;ae.preventDefault();const te=D().filter(G=>!G.disabled).map(G=>G.ref.current);bj.includes(ae.key)&&te.reverse(),h5(te)}),onBlur:Oe(a.onBlur,ae=>{ae.currentTarget.contains(ae.target)||(window.clearTimeout(se.current),xe.current="")}),onPointerMove:Oe(a.onPointerMove,Ni(ae=>{const ve=ae.target,B=ue.current!==ae.clientX;if(ae.currentTarget.contains(ve)&&B){const Z=ae.clientX>ue.current?"right":"left";me.current=Z,ue.current=ae.clientX}}))})})})})})})});kj.displayName=Ta;var n5="MenuGroup",Uh=m.forwardRef((a,n)=>{const{__scopeMenu:l,...i}=a;return e.jsx(et.div,{role:"group",...i,ref:n})});Uh.displayName=n5;var o5="MenuLabel",Cj=m.forwardRef((a,n)=>{const{__scopeMenu:l,...i}=a;return e.jsx(et.div,{...i,ref:n})});Cj.displayName=o5;var yd="MenuItem",Pb="menu.itemSelect",Qd=m.forwardRef((a,n)=>{const{disabled:l=!1,onSelect:i,...c}=a,u=m.useRef(null),h=_i(yd,a.__scopeMenu),x=Bh(yd,a.__scopeMenu),p=it(n,u),v=m.useRef(!1),b=()=>{const g=u.current;if(!l&&g){const j=new CustomEvent(Pb,{bubbles:!0,cancelable:!0});g.addEventListener(Pb,w=>i?.(w),{once:!0}),wy(g,j),j.defaultPrevented?v.current=!1:h.onClose()}};return e.jsx(Rj,{...c,ref:p,disabled:l,onClick:Oe(a.onClick,b),onPointerDown:g=>{a.onPointerDown?.(g),v.current=!0},onPointerUp:Oe(a.onPointerUp,g=>{v.current||g.currentTarget?.click()}),onKeyDown:Oe(a.onKeyDown,g=>{const j=x.searchRef.current!=="";l||j&&g.key===" "||Xf.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Qd.displayName=yd;var Rj=m.forwardRef((a,n)=>{const{__scopeMenu:l,disabled:i=!1,textValue:c,...u}=a,h=Bh(yd,l),x=jj(l),p=m.useRef(null),v=it(n,p),[b,g]=m.useState(!1),[j,w]=m.useState("");return m.useEffect(()=>{const C=p.current;C&&w((C.textContent??"").trim())},[u.children]),e.jsx(wi.ItemSlot,{scope:l,disabled:i,textValue:c??j,children:e.jsx(jh,{asChild:!0,...x,focusable:!i,children:e.jsx(et.div,{role:"menuitem","data-highlighted":b?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...u,ref:v,onPointerMove:Oe(a.onPointerMove,Ni(C=>{i?h.onItemLeave(C):(h.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Oe(a.onPointerLeave,Ni(C=>h.onItemLeave(C))),onFocus:Oe(a.onFocus,()=>g(!0)),onBlur:Oe(a.onBlur,()=>g(!1))})})})}),l5="MenuCheckboxItem",Aj=m.forwardRef((a,n)=>{const{checked:l=!1,onCheckedChange:i,...c}=a;return e.jsx(Mj,{scope:a.__scopeMenu,checked:l,children:e.jsx(Qd,{role:"menuitemcheckbox","aria-checked":jd(l)?"mixed":l,...c,ref:n,"data-state":Ih(l),onSelect:Oe(c.onSelect,()=>i?.(jd(l)?!0:!l),{checkForDefaultPrevented:!1})})})});Aj.displayName=l5;var _j="MenuRadioGroup",[i5,c5]=to(_j,{value:void 0,onValueChange:()=>{}}),Ej=m.forwardRef((a,n)=>{const{value:l,onValueChange:i,...c}=a,u=Os(i);return e.jsx(i5,{scope:a.__scopeMenu,value:l,onValueChange:u,children:e.jsx(Uh,{...c,ref:n})})});Ej.displayName=_j;var Tj="MenuRadioItem",Dj=m.forwardRef((a,n)=>{const{value:l,...i}=a,c=c5(Tj,a.__scopeMenu),u=l===c.value;return e.jsx(Mj,{scope:a.__scopeMenu,checked:u,children:e.jsx(Qd,{role:"menuitemradio","aria-checked":u,...i,ref:n,"data-state":Ih(u),onSelect:Oe(i.onSelect,()=>c.onValueChange?.(l),{checkForDefaultPrevented:!1})})})});Dj.displayName=Tj;var Fh="MenuItemIndicator",[Mj,d5]=to(Fh,{checked:!1}),Oj=m.forwardRef((a,n)=>{const{__scopeMenu:l,forceMount:i,...c}=a,u=d5(Fh,l);return e.jsx(Ys,{present:i||jd(u.checked)||u.checked===!0,children:e.jsx(et.span,{...c,ref:n,"data-state":Ih(u.checked)})})});Oj.displayName=Fh;var u5="MenuSeparator",Pj=m.forwardRef((a,n)=>{const{__scopeMenu:l,...i}=a;return e.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...i,ref:n})});Pj.displayName=u5;var m5="MenuArrow",zj=m.forwardRef((a,n)=>{const{__scopeMenu:l,...i}=a,c=Zd(l);return e.jsx(vj,{...c,...i,ref:n})});zj.displayName=m5;var f5="MenuSub",[DD,Bj]=to(f5),mi="MenuSubTrigger",Lj=m.forwardRef((a,n)=>{const l=so(mi,a.__scopeMenu),i=_i(mi,a.__scopeMenu),c=Bj(mi,a.__scopeMenu),u=Bh(mi,a.__scopeMenu),h=m.useRef(null),{pointerGraceTimerRef:x,onPointerGraceIntentChange:p}=u,v={__scopeMenu:a.__scopeMenu},b=m.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return m.useEffect(()=>b,[b]),m.useEffect(()=>{const g=x.current;return()=>{window.clearTimeout(g),p(null)}},[x,p]),e.jsx(Ph,{asChild:!0,...v,children:e.jsx(Rj,{id:c.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":c.contentId,"data-state":Ij(l.open),...a,ref:Lr(n,c.onTriggerChange),onClick:g=>{a.onClick?.(g),!(a.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),l.open||l.onOpenChange(!0))},onPointerMove:Oe(a.onPointerMove,Ni(g=>{u.onItemEnter(g),!g.defaultPrevented&&!a.disabled&&!l.open&&!h.current&&(u.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{l.onOpenChange(!0),b()},100))})),onPointerLeave:Oe(a.onPointerLeave,Ni(g=>{b();const j=l.content?.getBoundingClientRect();if(j){const w=l.content?.dataset.side,C=w==="right",S=C?-5:5,E=j[C?"left":"right"],N=j[C?"right":"left"];u.onPointerGraceIntentChange({area:[{x:g.clientX+S,y:g.clientY},{x:E,y:j.top},{x:N,y:j.top},{x:N,y:j.bottom},{x:E,y:j.bottom}],side:w}),window.clearTimeout(x.current),x.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(g),g.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:Oe(a.onKeyDown,g=>{const j=u.searchRef.current!=="";a.disabled||j&&g.key===" "||YE[i.dir].includes(g.key)&&(l.onOpenChange(!0),l.content?.focus(),g.preventDefault())})})})});Lj.displayName=mi;var Uj="MenuSubContent",Fj=m.forwardRef((a,n)=>{const l=Nj(Ta,a.__scopeMenu),{forceMount:i=l.forceMount,...c}=a,u=so(Ta,a.__scopeMenu),h=_i(Ta,a.__scopeMenu),x=Bj(Uj,a.__scopeMenu),p=m.useRef(null),v=it(n,p);return e.jsx(wi.Provider,{scope:a.__scopeMenu,children:e.jsx(Ys,{present:i||u.open,children:e.jsx(wi.Slot,{scope:a.__scopeMenu,children:e.jsx(Lh,{id:x.contentId,"aria-labelledby":x.triggerId,...c,ref:v,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:b=>{h.isUsingKeyboardRef.current&&p.current?.focus(),b.preventDefault()},onCloseAutoFocus:b=>b.preventDefault(),onFocusOutside:Oe(a.onFocusOutside,b=>{b.target!==x.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:Oe(a.onEscapeKeyDown,b=>{h.onClose(),b.preventDefault()}),onKeyDown:Oe(a.onKeyDown,b=>{const g=b.currentTarget.contains(b.target),j=XE[h.dir].includes(b.key);g&&j&&(u.onOpenChange(!1),x.trigger?.focus(),b.preventDefault())})})})})})});Fj.displayName=Uj;function Ij(a){return a?"open":"closed"}function jd(a){return a==="indeterminate"}function Ih(a){return jd(a)?"indeterminate":a?"checked":"unchecked"}function h5(a){const n=document.activeElement;for(const l of a)if(l===n||(l.focus(),document.activeElement!==n))return}function x5(a,n){return a.map((l,i)=>a[(n+i)%a.length])}function g5(a,n,l){const c=n.length>1&&Array.from(n).every(v=>v===n[0])?n[0]:n,u=l?a.indexOf(l):-1;let h=x5(a,Math.max(u,0));c.length===1&&(h=h.filter(v=>v!==l));const p=h.find(v=>v.toLowerCase().startsWith(c.toLowerCase()));return p!==l?p:void 0}function p5(a,n){const{x:l,y:i}=a;let c=!1;for(let u=0,h=n.length-1;u<n.length;h=u++){const x=n[u],p=n[h],v=x.x,b=x.y,g=p.x,j=p.y;b>i!=j>i&&l<(g-v)*(i-b)/(j-b)+v&&(c=!c)}return c}function v5(a,n){if(!n)return!1;const l={x:a.clientX,y:a.clientY};return p5(l,n)}function Ni(a){return n=>n.pointerType==="mouse"?a(n):void 0}var b5=wj,y5=Ph,j5=Sj,w5=kj,N5=Uh,S5=Cj,k5=Qd,C5=Aj,R5=Ej,A5=Dj,_5=Oj,E5=Pj,T5=zj,D5=Lj,M5=Fj,Jd="DropdownMenu",[O5]=oa(Jd,[yj]),Xs=yj(),[P5,$j]=O5(Jd),Hj=a=>{const{__scopeDropdownMenu:n,children:l,dir:i,open:c,defaultOpen:u,onOpenChange:h,modal:x=!0}=a,p=Xs(n),v=m.useRef(null),[b,g]=Or({prop:c,defaultProp:u??!1,onChange:h,caller:Jd});return e.jsx(P5,{scope:n,triggerId:rr(),triggerRef:v,contentId:rr(),open:b,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(j=>!j),[g]),modal:x,children:e.jsx(b5,{...p,open:b,onOpenChange:g,dir:i,modal:x,children:l})})};Hj.displayName=Jd;var qj="DropdownMenuTrigger",Gj=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,disabled:i=!1,...c}=a,u=$j(qj,l),h=Xs(l);return e.jsx(y5,{asChild:!0,...h,children:e.jsx(et.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...c,ref:Lr(n,u.triggerRef),onPointerDown:Oe(a.onPointerDown,x=>{!i&&x.button===0&&x.ctrlKey===!1&&(u.onOpenToggle(),u.open||x.preventDefault())}),onKeyDown:Oe(a.onKeyDown,x=>{i||(["Enter"," "].includes(x.key)&&u.onOpenToggle(),x.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(x.key)&&x.preventDefault())})})})});Gj.displayName=qj;var z5="DropdownMenuPortal",Vj=a=>{const{__scopeDropdownMenu:n,...l}=a,i=Xs(n);return e.jsx(j5,{...i,...l})};Vj.displayName=z5;var Yj="DropdownMenuContent",Xj=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=$j(Yj,l),u=Xs(l),h=m.useRef(!1);return e.jsx(w5,{id:c.contentId,"aria-labelledby":c.triggerId,...u,...i,ref:n,onCloseAutoFocus:Oe(a.onCloseAutoFocus,x=>{h.current||c.triggerRef.current?.focus(),h.current=!1,x.preventDefault()}),onInteractOutside:Oe(a.onInteractOutside,x=>{const p=x.detail.originalEvent,v=p.button===0&&p.ctrlKey===!0,b=p.button===2||v;(!c.modal||b)&&(h.current=!0)}),style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xj.displayName=Yj;var B5="DropdownMenuGroup",L5=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(N5,{...c,...i,ref:n})});L5.displayName=B5;var U5="DropdownMenuLabel",Kj=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(S5,{...c,...i,ref:n})});Kj.displayName=U5;var F5="DropdownMenuItem",Zj=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(k5,{...c,...i,ref:n})});Zj.displayName=F5;var I5="DropdownMenuCheckboxItem",$5=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(C5,{...c,...i,ref:n})});$5.displayName=I5;var H5="DropdownMenuRadioGroup",q5=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(R5,{...c,...i,ref:n})});q5.displayName=H5;var G5="DropdownMenuRadioItem",V5=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(A5,{...c,...i,ref:n})});V5.displayName=G5;var Y5="DropdownMenuItemIndicator",X5=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(_5,{...c,...i,ref:n})});X5.displayName=Y5;var K5="DropdownMenuSeparator",Qj=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(E5,{...c,...i,ref:n})});Qj.displayName=K5;var Z5="DropdownMenuArrow",Q5=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(T5,{...c,...i,ref:n})});Q5.displayName=Z5;var J5="DropdownMenuSubTrigger",W5=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(D5,{...c,...i,ref:n})});W5.displayName=J5;var e3="DropdownMenuSubContent",t3=m.forwardRef((a,n)=>{const{__scopeDropdownMenu:l,...i}=a,c=Xs(l);return e.jsx(M5,{...c,...i,ref:n,style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});t3.displayName=e3;var s3=Hj,a3=Gj,r3=Vj,n3=Xj,o3=Kj,l3=Zj,i3=Qj;function Ei({...a}){return e.jsx(s3,{"data-slot":"dropdown-menu",...a})}function Ti({...a}){return e.jsx(a3,{"data-slot":"dropdown-menu-trigger",...a})}function Di({className:a,sideOffset:n=4,...l}){return e.jsx(r3,{children:e.jsx(n3,{"data-slot":"dropdown-menu-content",sideOffset:n,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...l})})}function _a({className:a,inset:n,variant:l="default",...i}){return e.jsx(l3,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":l,className:Fe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...i})}function Jj({className:a,inset:n,...l}){return e.jsx(o3,{"data-slot":"dropdown-menu-label","data-inset":n,className:Fe("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",a),...l})}function wd({className:a,...n}){return e.jsx(i3,{"data-slot":"dropdown-menu-separator",className:Fe("bg-border -mx-1 my-1 h-px",a),...n})}function $h({isOpen:a,onClose:n,userId:l,username:i,defaultTab:c="followers",onUserClick:u}){const[h,x]=m.useState(c),[p,v]=m.useState([]),[b,g]=m.useState([]),[j,w]=m.useState(!1),[C,S]=m.useState(!1);m.useEffect(()=>{a&&x(c)},[a,c]),m.useEffect(()=>{a&&h==="followers"&&E()},[a,h,l]),m.useEffect(()=>{a&&h==="following"&&N()},[a,h,l]);const E=async()=>{if(!(j||p.length>0)){w(!0);try{console.log(` Loading followers for user ${l}`);const O=await Ce.getUserFollowers(l);console.log(` Loaded ${O.followers.length} followers:`,O),v(O.followers)}catch(O){console.error("Error loading followers:",O),K.error(O.message||"Failed to load followers"),v([])}finally{w(!1)}}},N=async()=>{if(!(C||b.length>0)){S(!0);try{console.log(` Loading following for user ${l}`);const O=await Ce.getUserFollowing(l);console.log(` Loaded ${O.following.length} following users:`,O),g(O.following)}catch(O){console.error("Error loading following:",O),K.error(O.message||"Failed to load following"),g([])}finally{S(!1)}}},T=()=>{v([]),g([]),n()},R=O=>O.split(" ").map(P=>P[0]).join("").toUpperCase().slice(0,2),D=(O,P,$)=>{console.log(" User clicked in FollowersModal:",{userId:O,type:P,role:$,hasOnUserClick:!!u}),u?(u(O,P==="author"?"author":$),T()):console.warn(" onUserClick handler not provided to FollowersModal")},_=(O,P,$)=>P?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(ra,{className:"w-8 h-8 animate-spin text-primary mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):O.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(qs,{className:"w-12 h-12 mb-3 text-muted-foreground opacity-20"}),e.jsx("p",{className:"text-muted-foreground mb-1",children:$==="followers"?"No followers yet":"Not following anyone yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:$==="followers"?`${i} doesn't have any followers yet`:`${i} isn't following anyone yet`})]}):e.jsx("div",{className:"space-y-3",children:O.map(se=>e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg border border-border hover:border-primary transition-colors",children:[e.jsxs(as,{className:"w-12 h-12 border-2 border-primary/20 flex-shrink-0",children:[e.jsx(vs,{src:se.avatarUrl,alt:se.username}),e.jsx(rs,{className:"bg-primary/10 text-primary",children:R(se.username)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium truncate",children:se.username}),se.isPrivate&&e.jsxs(Ke,{variant:"secondary",className:"text-xs gap-1 flex-shrink-0",children:[e.jsx(ks,{className:"w-3 h-3"}),"Private"]}),se.role==="author"&&e.jsx(Ke,{variant:"outline",className:"text-xs gap-1 flex-shrink-0 border-primary/40 text-primary",children:"Author"})]}),se.bio&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-2",children:se.bio}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ns,{className:"w-3 h-3"}),se.stats.totalReviews," reviews"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(yt,{className:"w-3 h-3"}),se.stats.booksRead," books"]})]})]}),e.jsx(I,{variant:"ghost",size:"sm",className:"flex-shrink-0",onClick:()=>D(se.id,se.type,se.role),children:"View Profile"})]},se.id))});return e.jsx(Cs,{open:a,onOpenChange:T,children:e.jsxs(bs,{className:"sm:max-w-[600px] max-h-[80vh]",children:[e.jsxs(Rs,{children:[e.jsxs(As,{className:"flex items-center gap-2",children:[e.jsx(qs,{className:"w-5 h-5"}),i,"'s Connections"]}),e.jsxs(_s,{children:["See who follows ",i," and who they follow"]})]}),e.jsxs(or,{value:h,onValueChange:O=>x(O),children:[e.jsxs(lr,{className:"grid w-full grid-cols-2",children:[e.jsxs(Qt,{value:"followers",children:["Followers (",p.length,")"]}),e.jsxs(Qt,{value:"following",children:["Following (",b.length,")"]})]}),e.jsx(Jt,{value:"followers",className:"mt-4",children:e.jsx(xd,{className:"h-[400px] pr-4",children:_(p,j,"followers")})}),e.jsx(Jt,{value:"following",className:"mt-4",children:e.jsx(xd,{className:"h-[400px] pr-4",children:_(b,C,"following")})})]})]})})}function zb({listId:a,isPublic:n,onToggle:l,disabled:i=!1}){const[c,u]=Re.useState(!1),h=async x=>{u(!0);try{await l(a,x)}finally{u(!1)}};return e.jsxs(Ei,{children:[e.jsx(Ti,{asChild:!0,children:e.jsx(I,{variant:"ghost",size:"icon",className:"h-7 w-7 bg-background/80 backdrop-blur-sm hover:bg-background",disabled:i||c,children:n?e.jsx(Yn,{className:"w-3 h-3 text-green-600 dark:text-green-400"}):e.jsx(ks,{className:"w-3 h-3 text-muted-foreground"})})}),e.jsxs(Di,{align:"end",children:[e.jsxs(_a,{onClick:()=>h("public"),disabled:c,children:[e.jsx(Yn,{className:"w-4 h-4 mr-2 text-green-600 dark:text-green-400"}),"Public",n&&e.jsx("span",{className:"ml-auto text-xs",children:""})]}),e.jsxs(_a,{onClick:()=>h("private"),disabled:c,children:[e.jsx(ks,{className:"w-4 h-4 mr-2"}),"Private",!n&&e.jsx("span",{className:"ml-auto text-xs",children:""})]})]})]})}function c3({onLogout:a,onLogoClick:n,onViewNotifications:l,onViewSubscription:i,onViewChat:c,onEditProfile:u,onViewBookDetails:h,onBecomeAuthor:x,onViewAdminDashboard:p,onViewAuthorDashboard:v,currentUser:b,userLists:g,setUserLists:j,listIcons:w,onViewList:C,followedAuthors:S,onUnfollowAuthor:E,onViewAuthorProfile:N,followedUsers:T,onUnfollowUser:R,onViewUserProfile:D,followRequests:_,onAcceptFollowRequest:O,onRejectFollowRequest:P,theme:$,onToggleTheme:se,onUserSelect:xe,onAuthorSelect:oe}){const[W,me]=m.useState(0),[ue,ce]=m.useState(!1),[A,q]=m.useState(!1),[M,ae]=m.useState(""),[ve,B]=m.useState(null),[Z,U]=m.useState(""),[Q,le]=m.useState([]),[te,G]=m.useState(!1),[he,Ne]=m.useState([]),[_e,Be]=m.useState(!1),[Pe,ct]=m.useState([]),[Se,L]=m.useState(!1),[we,Le]=m.useState(!1),[ee,Qe]=m.useState(null),[ke,Ue]=m.useState(!0);m.useEffect(()=>{const X=async()=>{try{Ue(!0);const je=await Ce.getUserStats();Qe(je)}catch(je){console.error("Failed to load user stats:",je),Qe({total_book_reviews:42,total_author_reviews:15,total_ratings:156,books_read:134,followers:567,following:T.length+S.length})}finally{Ue(!1)}};b.isAdmin||X()},[b.isAdmin,T.length,S.length]),m.useEffect(()=>{(async()=>{if(!(b.isAdmin||!b?.id))try{Ue(!0),Es(!0),Pt(!0),gt(!0),Fs(!0);const je=await Ce.getUserStats();if(console.log(" ===== DEBUGGING AUTHOR RATINGS DATA ====="),console.log(" Full stats response:",je),console.log(" Author ratings count:",je.author_ratings?.length||0),je.author_ratings&&je.author_ratings.length>0){console.log(" Author Ratings Details:"),je.author_ratings.forEach((Ut,ur)=>{console.log(`
  Author ${ur+1}:`,{author_id:Ut.author_id,author_name:Ut.author_name,user_id:Ut.user_id,has_user_id:Ut.user_id!=null&&Ut.user_id!==void 0,user_id_type:typeof Ut.user_id,user_id_value:Ut.user_id,is_registered:Ut.user_id!=null&&Ut.user_id>0,type:Ut.user_id!=null&&Ut.user_id>0?" REGISTERED":" EXTERNAL"})});const tt=je.author_ratings.find(Ut=>Ut.author_id===35);tt?(console.log(`
 FOUND AUTHOR 35:`),console.log("  Full object:",tt),console.log("  author_id:",tt.author_id),console.log("  user_id:",tt.user_id),console.log("  user_id is null?",tt.user_id===null),console.log("  user_id is undefined?",tt.user_id===void 0),console.log("  Should use user_id?",tt.user_id!=null&&tt.user_id>0)):console.log(`
 Author 35 not found in ratings`)}else console.log(" No author ratings found");console.log(` ===== END DEBUG =====
`),Qe({total_book_reviews:je.total_book_reviews,total_author_reviews:je.total_author_reviews,total_ratings:je.total_ratings,books_read:je.books_read,followers:je.followers,following:je.following}),nt(je.author_ratings),lt(je.book_ratings),De(je.author_reviews),jt(je.book_reviews)}catch(je){console.error("Failed to load user data:",je)}finally{Ue(!1),Es(!1),Pt(!1),gt(!1),Fs(!1)}})()},[b.isAdmin,b?.id]);const[Ye,nt]=m.useState([]),[Gt,Es]=m.useState(!1),[Ze,lt]=m.useState([]),[Et,Pt]=m.useState(!1),[Te,De]=m.useState([]),[_t,gt]=m.useState(!1),[Tt,jt]=m.useState([]),[Xt,Fs]=m.useState(!1),[Ma,Ts]=m.useState(!1),[Wt,la]=m.useState("followers");m.useEffect(()=>{const X=async()=>{if(b.isAdmin){console.log(" Skipping genre load - user is admin");return}if(te){console.log(" Already loading genres, skipping...");return}try{G(!0),console.log(" Loading favorite genres...");const je=await Ce.getUserFavoriteGenres();console.log(" Favorite genres response:",je),console.log(" Total favorite genres:",je.total),console.log(" Genre names:",je.genres.map(Ut=>Ut.genre_name));const tt=je.genres.map(Ut=>Ut.genre_name);le(tt),console.log(" State updated with genres:",tt)}catch(je){console.error(" Failed to load favorite genres:",je),le([])}finally{G(!1),console.log(" Genre loading complete")}};b.isAdmin||X()},[]),m.useEffect(()=>{(async()=>{if(!(b.isAdmin||!b?.id))try{const je=await Ce.getUserLists(),tt={Reading:yt,Completed:nh,"Plan to Read":Kn,"On-Hold":Kb,Dropped:Go},Ut=je.defaultLists.map(Yt=>({id:Yt.id,name:Yt.name,count:Yt.count,bookIds:[],icon:tt[Yt.name]||yt,visibility:Yt.visibility||"private"})),ur=je.customLists.map((Yt,ss)=>({id:Yt.id,name:Yt.name,count:Yt.count,bookIds:[],icon:w[ss%w.length],visibility:Yt.visibility||"private"}));j([...Ut,...ur])}catch(je){console.error("Failed to load user lists:",je),K.error("Failed to load your lists")}})()},[]),m.useState("followers");const Ds=g.filter(X=>X.id<0),ms=g.filter(X=>X.id>0),At=(b.username||"User").split(" ").map(X=>X[0]).join("").toUpperCase().slice(0,2),Vt=async()=>{l&&l()},ts=async()=>{if(b.isAdmin){K.error("Admins cannot create reading lists");return}if(!M.trim()){K.error("Please enter a list name");return}try{console.log(" Creating list with name:",M);const X=await Ce.createList({name:M.trim(),visibility:"private"});console.log(" List created successfully:",X);const je={id:X.list.id,name:X.list.name,count:0,bookIds:[],icon:w[Math.floor(Math.random()*w.length)]};j([...g,je]),ae(""),q(!1),K.success(`List "${je.name}" created successfully!`)}catch(X){console.error(" Failed to create list:",X),K.error(X.message||"Failed to create list")}},V=async X=>{if(Z.trim())try{await Ce.updateList(X,{name:Z}),j(g.map(je=>je.id===X?{...je,name:Z}:je)),B(null),U(""),K.success("List renamed successfully!")}catch(je){console.error("Failed to update list:",je),K.error(je.message||"Failed to update list")}},Y=async X=>{try{await Ce.deleteList(X),j(g.filter(je=>je.id!==X)),K.success("List deleted successfully!")}catch(je){console.error("Failed to delete list:",je),K.error(je.message||"Failed to delete list")}},be=async(X,je)=>{try{await Ce.toggleListVisibility(X,je),j(g.map(tt=>tt.id===X?{...tt,visibility:je}:tt)),K.success(`List is now ${je}!`)}catch(tt){console.error("Failed to toggle list visibility:",tt),K.error(tt.message||"Failed to update list visibility")}};m.useEffect(()=>{(async()=>{if(!(b.isAdmin||!b?.id))try{Be(!0);const je=await Ce.getRecommendations({num_results:10});Ne(je.recommendations)}catch(je){console.error("Failed to load recommendations:",je),Ne([])}finally{Be(!1)}})()},[b.isAdmin,b?.id]),Pe.slice(0,5),Pe.length>5;const at=X=>{la(X),Ts(!0)},mt=(X,je)=>{console.log(" Navigation triggered from UserDashboard FollowersModal:",{userId:X,userRole:je,hasUserSelect:!!xe,hasAuthorSelect:!!oe}),Ts(!1),je==="author"&&oe?(console.log(` Navigating to author profile for user ${X}`),oe({id:X,authorType:"registered"})):xe?(console.log(` Navigating to user profile for user ${X}`),xe(X)):console.warn("  No navigation handler available")};return m.useEffect(()=>{const X=async()=>{if(!b.isAdmin)try{ce(!0);const tt=await Ce.getNotifications({limit:1});me(tt.unread_count)}catch(tt){console.error("Failed to load notification count:",tt),me(0)}finally{ce(!1)}};X();const je=setInterval(X,3e4);return()=>clearInterval(je)},[b.isAdmin]),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-2 hover:opacity-80 transition-opacity flex-shrink-0",children:[e.jsx(Vs,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-shrink-0",children:[!b.isAdmin&&e.jsxs(I,{variant:"ghost",size:"icon",onClick:Vt,className:"relative",children:[e.jsx(Vn,{className:"w-5 h-5"}),W>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary text-primary-foreground text-xs rounded-full flex items-center justify-center",children:W})]}),e.jsx(js,{theme:$,onToggle:se}),e.jsxs(Ei,{children:[e.jsx(Ti,{asChild:!0,children:e.jsx(I,{variant:"ghost",className:"relative h-10 w-10 rounded-full p-0",children:e.jsxs(as,{className:"h-10 w-10",children:[e.jsx(vs,{src:b.avatarUrl,alt:b.username}),e.jsx(rs,{className:"bg-primary/10 text-primary",children:At})]})})}),e.jsxs(Di,{align:"end",className:"w-56",children:[e.jsxs("div",{className:"flex items-center gap-3 p-2",children:[e.jsxs(as,{className:"h-10 w-10",children:[e.jsx(vs,{src:b.avatarUrl,alt:b.username}),e.jsx(rs,{className:"bg-primary/10 text-primary",children:At})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:b.username}),e.jsx("p",{className:"text-xs text-muted-foreground",children:b.email})]})]}),e.jsx(Lt,{className:"my-2"}),e.jsxs(_a,{onClick:u,children:[e.jsx(na,{className:"w-4 h-4 mr-2"}),"My Profile"]}),b.isAdmin&&e.jsxs(e.Fragment,{children:[e.jsx(Lt,{className:"my-2"}),e.jsxs(_a,{onClick:p,children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]})]}),(b.verificationStatus==="approved"||b.role==="author")&&!b.isAdmin&&e.jsxs(e.Fragment,{children:[e.jsx(wd,{}),e.jsxs(_a,{onClick:v,children:[e.jsx(xi,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Author Dashboard"})]})]}),e.jsx(Lt,{className:"my-2"}),e.jsxs(_a,{onClick:a,children:[e.jsx(ld,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})]})}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:"hidden md:flex w-64 border-r border-border bg-card min-h-[calc(100vh-4rem)] sticky top-16",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs(xd,{className:"flex-1 py-6 px-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"w-full flex items-center px-3 py-2 rounded-lg bg-secondary text-secondary-foreground cursor-default",children:[e.jsx(na,{className:"w-4 h-4 mr-3"}),"My Profile"]}),!b.isAdmin&&e.jsxs(e.Fragment,{children:[e.jsxs(I,{variant:"ghost",className:"w-full justify-start",onClick:l,children:[e.jsx(Vn,{className:"w-4 h-4 mr-3"}),"Notifications",W>0&&e.jsx(Ke,{className:"ml-auto bg-destructive",children:W})]}),e.jsxs(I,{variant:"ghost",className:"w-full justify-start",onClick:i,children:[e.jsx(er,{className:"w-4 h-4 mr-3"}),"Subscription"]})]})]}),e.jsx(Lt,{className:"my-6"}),e.jsxs("div",{className:"space-y-1",children:[b.isAdmin&&e.jsxs(I,{variant:"ghost",className:"w-full justify-start",onClick:p,children:[e.jsx(hn,{className:"w-4 h-4 mr-3"}),"Admin Dashboard"]}),(b.verificationStatus==="approved"||b.role==="author")&&!b.isAdmin&&e.jsxs(I,{variant:"ghost",className:"w-full justify-start",onClick:v,children:[e.jsx(xi,{className:"w-4 h-4 mr-3"}),"Author Dashboard"]})]})]}),e.jsx("div",{className:"p-4 border-t border-border",children:e.jsxs(I,{variant:"ghost",className:"w-full justify-start hover:bg-accent/10 hover:text-destructive",onClick:a,children:[e.jsx(ld,{className:"w-4 h-4 mr-3"}),"Logout"]})})]})}),e.jsx("main",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsx(ye,{children:e.jsx(Ae,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(as,{className:"w-32 h-32 border-4 border-primary/20",children:[e.jsx(vs,{src:b.avatarUrl,alt:b.username}),e.jsx(rs,{className:"bg-primary/10 text-primary text-3xl",children:At})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:b.username}),b.isPrivate?e.jsxs(Ke,{variant:"outline",className:"gap-1",children:[e.jsx(ks,{className:"w-3 h-3"}),"Private"]}):e.jsxs(Ke,{variant:"outline",className:"gap-1",children:[e.jsx(Yn,{className:"w-3 h-3"}),"Public"]})]}),b.bio&&e.jsx("p",{className:"text-muted-foreground mb-3",children:b.bio}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[b.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Rd,{className:"w-4 h-4"}),b.location]}),b.joinDate&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hi,{className:"w-4 h-4"}),"Joined ",b.joinDate]})]})]}),e.jsx(I,{variant:"outline",onClick:u,children:"Edit Profile"})]}),!b.isAdmin&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:ke?e.jsx("div",{className:"col-span-6 text-center py-4 text-muted-foreground text-sm",children:"Loading stats..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center p-3 rounded-lg bg-accent/10",children:[e.jsx("div",{className:"text-2xl font-semibold mb-1",children:ee?.books_read||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Books Read"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-accent/10",children:[e.jsx("div",{className:"text-2xl font-semibold mb-1",children:ee?.total_book_reviews||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Book Reviews"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-accent/10",children:[e.jsx("div",{className:"text-2xl font-semibold mb-1",children:ee?.total_author_reviews||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Author Reviews"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-accent/10",children:[e.jsx("div",{className:"text-2xl font-semibold mb-1",children:ee?.total_ratings||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Ratings"})]}),e.jsxs("button",{onClick:()=>at("followers"),className:"text-center p-3 rounded-lg bg-accent/10 hover:bg-accent/20 transition",children:[e.jsx("div",{className:"text-2xl font-semibold mb-1",children:ee?.followers||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Followers"})]}),e.jsxs("button",{onClick:()=>at("following"),className:"text-center p-3 rounded-lg bg-accent/10 hover:bg-accent/20 transition",children:[e.jsx("div",{className:"text-2xl font-semibold mb-1",children:ee?.following||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Following"})]})]})})]})]})})}),!b.isAdmin&&e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(Zo,{className:"w-5 h-5"}),"Favorite Genres"]}),e.jsx(ot,{children:"Your preferred book genres"})]}),e.jsx(Ae,{children:te?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"animate-pulse flex space-x-2",children:[e.jsx("div",{className:"h-6 w-20 bg-muted rounded"}),e.jsx("div",{className:"h-6 w-24 bg-muted rounded"}),e.jsx("div",{className:"h-6 w-16 bg-muted rounded"})]})}):Q.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map((X,je)=>e.jsx(Ke,{variant:"secondary",className:"text-sm",children:X},je))}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Xn,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),e.jsx("p",{className:"mb-2",children:"No favorite genres yet"}),e.jsx("p",{className:"text-sm mb-4",children:"Visit the Genres page to add your favorites"}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>{n&&n()},children:"Browse Genres"})]})})]}),!b.isAdmin&&e.jsxs(ye,{children:[e.jsx(Ge,{className:"flex flex-row items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(ga,{className:"w-5 h-5"}),"Recommended For You"]}),e.jsx(ot,{children:"Personalized book recommendations based on your preferences"})]})}),e.jsx(Ae,{children:_e?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[...Array(5)].map((X,je)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-[2/3] bg-muted rounded-lg mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded mb-1"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]},je))}):he.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(yt,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),e.jsx("h4",{className:"text-lg font-medium mb-2",children:"No Recommendations Yet"}),e.jsx("p",{className:"text-sm mb-6 max-w-md mx-auto",children:Q.length===0?"Add your favorite genres to get personalized recommendations!":"Start rating and reviewing books to improve your recommendations."}),Q.length===0&&e.jsx(I,{variant:"outline",onClick:()=>{n&&n()},children:"Browse Genres"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:he.map(X=>e.jsxs("div",{className:"group cursor-pointer",onClick:()=>{Ce.recordInteraction({book_id:X.book_id,event_type:"view"}).catch(je=>console.error("Failed to record interaction:",je)),h&&h(X.book_id)},children:[e.jsxs("div",{className:"relative aspect-[2/3] mb-3 rounded-lg overflow-hidden border border-border group-hover:border-primary transition-all duration-300 group-hover:shadow-lg",children:[X.cover_image_url?e.jsx("img",{src:X.cover_image_url,alt:X.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:e.jsx(yt,{className:"w-12 h-12 text-muted-foreground opacity-20"})}),X.average_rating>0&&e.jsxs("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[e.jsx(Ct,{className:"w-3 h-3 fill-current"}),X.average_rating.toFixed(1)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium line-clamp-2 text-sm group-hover:text-primary transition-colors",children:X.title}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:X.authors}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-primary",children:[e.jsx(ga,{className:"w-3 h-3"}),e.jsx("span",{className:"line-clamp-1",children:X.reason})]})]})]},X.book_id))}),he.length>=10&&e.jsx("div",{className:"text-center",children:e.jsx(I,{variant:"outline",onClick:()=>{n&&n()},children:"Discover More Books"})})]})})]}),!b.isAdmin&&e.jsxs(ye,{children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(Go,{className:"w-5 h-5"}),"My Lists"]}),e.jsx(ot,{children:"Organize your reading journey with custom collections"})]}),e.jsxs(I,{variant:"default",size:"sm",onClick:()=>q(!0),className:"gap-2",children:[e.jsx(Qo,{className:"w-4 h-4"}),"Create List"]})]}),e.jsx(Ae,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3 uppercase tracking-wide",children:"Default Lists"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Ds.map(X=>{const je=X.icon;return e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:()=>C&&C(X),className:"w-full p-4 rounded-xl border-2 border-border hover:border-primary hover:shadow-md transition-all duration-200 text-left bg-gradient-to-br from-card to-card/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(je,{className:"w-5 h-5 text-primary"})}),e.jsx(Ke,{variant:X.visibility==="public"?"default":"secondary",className:"text-xs",children:X.visibility==="public"?e.jsxs(e.Fragment,{children:[e.jsx(Yn,{className:"w-3 h-3 mr-1"}),"Public"]}):e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"w-3 h-3 mr-1"}),"Private"]})})]}),e.jsx("h4",{className:"font-semibold mb-1 text-sm",children:X.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[X.count," ",X.count===1?"book":"books"]})]}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsx(zb,{listId:X.id,isPublic:X.visibility==="public",onToggle:be})})]},X.id)})})]}),ms.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3 uppercase tracking-wide",children:"Custom Lists"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:ms.map(X=>{const je=X.icon;return e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:()=>C&&C(X),className:"w-full p-4 rounded-xl border-2 border-border hover:border-primary hover:shadow-md transition-all duration-200 text-left bg-gradient-to-br from-card to-card/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(je,{className:"w-5 h-5 text-primary"})}),e.jsx(Ke,{variant:X.visibility==="public"?"default":"secondary",className:"text-xs",children:X.visibility==="public"?e.jsxs(e.Fragment,{children:[e.jsx(Yn,{className:"w-3 h-3 mr-1"}),"Public"]}):e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"w-3 h-3 mr-1"}),"Private"]})})]}),e.jsx("h4",{className:"font-semibold mb-1 text-sm",children:X.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[X.count," ",X.count===1?"book":"books"]})]}),e.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:[e.jsx(zb,{listId:X.id,isPublic:X.visibility==="public",onToggle:be}),e.jsx(I,{variant:"ghost",size:"icon",className:"h-7 w-7 bg-background/90 backdrop-blur-sm hover:bg-background shadow-sm",onClick:tt=>{tt.stopPropagation(),B(X.id),U(X.name)},children:e.jsx(Zb,{className:"w-3 h-3"})}),e.jsx(I,{variant:"ghost",size:"icon",className:"h-7 w-7 bg-background/90 backdrop-blur-sm hover:bg-destructive hover:text-destructive-foreground shadow-sm",onClick:tt=>{tt.stopPropagation(),Y(X.id)},children:e.jsx(pi,{className:"w-3 h-3"})})]})]},X.id)})})]}),ms.length===0&&e.jsx("div",{className:"text-center py-12 px-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(Go,{className:"w-8 h-8 text-primary"})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Create Your First Custom List"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:'Organize your books into personalized collections like "Summer Reading", "Gift Ideas", or "Books to Re-read"'}),e.jsxs(I,{onClick:()=>q(!0),className:"gap-2",children:[e.jsx(Qo,{className:"w-4 h-4"}),"Create Custom List"]})]})})]})})]}),!b.isAdmin&&e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"w-5 h-5 text-yellow-500"}),"Authors You Rated"]}),e.jsx(ot,{children:"Show your appreciation for the authors you love"})]}),e.jsxs(Ae,{children:[Gt?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(X=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-square bg-muted rounded-full mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded mb-1"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]},X))}):Ye.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-yellow-500/10 flex items-center justify-center",children:e.jsx(Ct,{className:"w-10 h-10 text-yellow-500"})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Author Ratings Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6 max-w-md mx-auto",children:"Rate your favorite authors to show your support and help others discover talented writers"}),e.jsx(I,{variant:"outline",onClick:()=>{n&&n()},children:"Discover Authors"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Ye.slice(0,8).map(X=>e.jsxs("div",{className:"group cursor-pointer text-center",onClick:()=>{console.log(`
 ===== AUTHOR CLICK DEBUG =====`),console.log("Clicked author:",X.author_name),console.log("Rating object:",X),console.log("author_id:",X.author_id),console.log("user_id:",X.user_id),console.log("user_id type:",typeof X.user_id),console.log("user_id == null?",X.user_id==null),console.log("user_id === null?",X.user_id===null),console.log("user_id === undefined?",X.user_id===void 0),console.log("user_id > 0?",X.user_id>0);const je=X.user_id!=null&&X.user_id>0;console.log("isRegistered?",je),oe?je?(console.log(" Calling onAuthorSelect with:",{id:X.user_id,authorType:"registered"}),oe({id:X.user_id,authorType:"registered"})):(console.log(" Calling onAuthorSelect with:",{id:X.author_id,authorType:"external"}),oe({id:X.author_id,authorType:"external"})):console.log(" onAuthorSelect is not defined!"),console.log(`===== END CLICK DEBUG =====
`)},children:[e.jsxs("div",{className:"relative inline-block mb-3",children:[e.jsxs(as,{className:"w-24 h-24 border-4 border-border group-hover:border-primary transition-all duration-200 shadow-lg",children:[e.jsx(vs,{src:X.author_avatar}),e.jsx(rs,{className:"text-lg",children:X.author_name[0]})]}),e.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-semibold shadow-md flex items-center gap-1",children:[e.jsx(Ct,{className:"w-3 h-3 fill-current"}),X.rating_value]})]}),e.jsx("h4",{className:"font-semibold text-sm group-hover:text-primary transition line-clamp-1 mb-1",children:X.author_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(X.rated_at).toLocaleDateString()})]},X.author_id))}),Ye.length>8&&e.jsx("div",{className:"text-center mt-6",children:e.jsxs(I,{variant:"outline",size:"sm",children:["View All ",Ye.length," Rated Authors"]})})]})]}),!b.isAdmin&&e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"w-5 h-5 text-yellow-500"}),"Books You Rated"]}),e.jsx(ot,{children:"Your rated books collection"})]}),e.jsxs(Ae,{children:[Et?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[1,2,3,4,5].map(X=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-[2/3] bg-muted rounded-lg mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded mb-1"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]},X))}):Ze.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-yellow-500/10 flex items-center justify-center",children:e.jsx(Ct,{className:"w-10 h-10 text-yellow-500"})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Book Ratings Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6 max-w-md mx-auto",children:"Start rating books to help others discover great reads and track your reading journey"}),e.jsx(I,{variant:"outline",onClick:()=>{n&&n()},children:"Browse Books"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Ze.slice(0,10).map(X=>e.jsxs("div",{className:"group cursor-pointer",onClick:()=>{h&&h(X.book_id)},children:[e.jsxs("div",{className:"relative aspect-[2/3] mb-3 rounded-xl overflow-hidden border-2 border-border group-hover:border-primary transition-all duration-300 group-hover:shadow-xl",children:[X.book_cover?e.jsx("img",{src:X.book_cover,alt:X.book_title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:e.jsx(yt,{className:"w-12 h-12 text-muted-foreground opacity-20"})}),e.jsxs("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white px-2.5 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1",children:[e.jsx(Ct,{className:"w-3 h-3 fill-current"}),X.rating_value]})]}),e.jsx("h4",{className:"font-semibold text-sm group-hover:text-primary transition line-clamp-2 mb-1",children:X.book_title}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:X.book_author}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Rated ",new Date(X.rated_at).toLocaleDateString()]})]},X.book_id))}),Ze.length>10&&e.jsx("div",{className:"text-center mt-6",children:e.jsxs(I,{variant:"outline",size:"sm",children:["View All ",Ze.length," Rated Books"]})})]})]}),!b.isAdmin&&e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5 text-primary"}),"My Author Reviews"]}),e.jsx(ot,{children:"Your thoughts and opinions about authors"})]}),e.jsxs(Ae,{children:[_t?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(X=>e.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-xl"},X))}):Te.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(ns,{className:"w-10 h-10 text-primary"})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Author Reviews Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6 max-w-md mx-auto",children:"Share your insights about authors and help readers learn more about their favorite writers"}),e.jsx(I,{variant:"outline",onClick:()=>{n&&n()},children:"Discover Authors"})]}):e.jsx("div",{className:"space-y-4",children:Te.slice(0,5).map(X=>e.jsxs("div",{className:"group p-5 rounded-xl border-2 border-border hover:border-primary transition-all duration-200 cursor-pointer bg-gradient-to-br from-card to-card/50 hover:shadow-md",onClick:()=>{oe&&oe({id:X.author_id,authorType:"registered"})},children:[e.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[e.jsxs(as,{className:"w-12 h-12 border-2 border-border",children:[e.jsx(vs,{src:X.author_avatar}),e.jsx(rs,{children:X.author_name[0]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-base group-hover:text-primary transition",children:X.author_name}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[e.jsx(hi,{className:"w-3 h-3"}),new Date(X.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),e.jsx("p",{className:"text-sm leading-relaxed line-clamp-3",children:X.review_text})]},X.author_review_id))}),Te.length>5&&e.jsx("div",{className:"text-center mt-6",children:e.jsxs(I,{variant:"outline",size:"sm",children:["View All ",Te.length," Author Reviews"]})})]})]}),!b.isAdmin&&e.jsxs(ye,{children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5 text-primary"}),"My Book Reviews"]}),e.jsx(ot,{children:"Your book reviews and ratings"})]}),e.jsx(I,{variant:"outline",size:"sm",onClick:c,children:"View All"})]}),e.jsx(Ae,{children:Xt?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(X=>e.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-xl"},X))}):Tt.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(ns,{className:"w-10 h-10 text-primary"})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Book Reviews Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6 max-w-md mx-auto",children:"Start reviewing books to share your thoughts with the community and help others discover great reads"}),e.jsx(I,{variant:"outline",onClick:()=>{n&&n()},children:"Browse Books"})]}):e.jsx("div",{className:"space-y-4",children:Tt.slice(0,5).map(X=>e.jsxs("div",{className:"group p-5 rounded-xl border-2 border-border hover:border-primary transition-all duration-200 cursor-pointer bg-gradient-to-br from-card to-card/50 hover:shadow-md",onClick:()=>{h&&h(X.book_id)},children:[e.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[e.jsx("div",{className:"w-16 h-24 flex-shrink-0 rounded-lg overflow-hidden border-2 border-border group-hover:border-primary transition-colors",children:X.book_cover?e.jsx("img",{src:X.book_cover,alt:X.book_title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:e.jsx(yt,{className:"w-6 h-6 text-muted-foreground"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-base group-hover:text-primary transition truncate",children:X.book_title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:X.book_author}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((je,tt)=>e.jsx(Ct,{className:`w-4 h-4 ${tt<X.rating_value?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},tt))}),e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(hi,{className:"w-3 h-3"}),new Date(X.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]})]})]}),e.jsx("p",{className:"text-sm leading-relaxed line-clamp-3 pl-20",children:X.review_text})]},X.review_id))})})]})]})})]}),e.jsx(Cs,{open:A,onOpenChange:q,children:e.jsxs(bs,{children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Create New List"}),e.jsx(_s,{children:"Create a custom list to organize your books"})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(Ee,{placeholder:"List name (e.g., Summer Reading, Favorites)",value:M,onChange:X=>ae(X.target.value),onKeyPress:X=>{X.key==="Enter"&&ts()}})}),e.jsxs(gn,{children:[e.jsx(I,{variant:"outline",onClick:()=>q(!1),children:"Cancel"}),e.jsx(I,{onClick:ts,disabled:!M.trim(),children:"Create List"})]})]})}),e.jsx(Cs,{open:ve!==null,onOpenChange:X=>{X||(B(null),U(""))},children:e.jsxs(bs,{children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Edit List Name"}),e.jsx(_s,{children:"Rename your custom reading list"})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(Ee,{placeholder:"List name",value:Z,onChange:X=>U(X.target.value),onKeyPress:X=>{X.key==="Enter"&&ve&&V(ve)}})}),e.jsxs(gn,{children:[e.jsx(I,{variant:"outline",onClick:()=>{B(null),U("")},children:"Cancel"}),e.jsx(I,{onClick:()=>ve&&V(ve),disabled:!Z.trim(),children:"Save Changes"})]})]})}),e.jsx($h,{isOpen:Ma,onClose:()=>Ts(!1),userId:b.id,username:b.username,defaultTab:Wt,onUserClick:mt})]})}function d3(a,n=[]){let l=[];function i(u,h){const x=m.createContext(h);x.displayName=u+"Context";const p=l.length;l=[...l,h];const v=g=>{const{scope:j,children:w,...C}=g,S=j?.[a]?.[p]||x,E=m.useMemo(()=>C,Object.values(C));return e.jsx(S.Provider,{value:E,children:w})};v.displayName=u+"Provider";function b(g,j){const w=j?.[a]?.[p]||x,C=m.useContext(w);if(C)return C;if(h!==void 0)return h;throw new Error(`\`${g}\` must be used within \`${u}\``)}return[v,b]}const c=()=>{const u=l.map(h=>m.createContext(h));return function(x){const p=x?.[a]||u;return m.useMemo(()=>({[`__scope${a}`]:{...x,[a]:p}}),[x,p])}};return c.scopeName=a,[i,u3(c,...n)]}function u3(...a){const n=a[0];if(a.length===1)return n;const l=()=>{const i=a.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const h=i.reduce((x,{useScope:p,scopeName:v})=>{const g=p(u)[`__scope${v}`];return{...x,...g}},{});return m.useMemo(()=>({[`__scope${n.scopeName}`]:h}),[h])}};return l.scopeName=n.scopeName,l}var m3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wj=m3.reduce((a,n)=>{const l=Si(`Primitive.${n}`),i=m.forwardRef((c,u)=>{const{asChild:h,...x}=c,p=h?l:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(p,{...x,ref:u})});return i.displayName=`Primitive.${n}`,{...a,[n]:i}},{}),Hh="Progress",qh=100,[f3]=d3(Hh),[h3,x3]=f3(Hh),ew=m.forwardRef((a,n)=>{const{__scopeProgress:l,value:i=null,max:c,getValueLabel:u=g3,...h}=a;(c||c===0)&&!Bb(c)&&console.error(p3(`${c}`,"Progress"));const x=Bb(c)?c:qh;i!==null&&!Lb(i,x)&&console.error(v3(`${i}`,"Progress"));const p=Lb(i,x)?i:null,v=Nd(p)?u(p,x):void 0;return e.jsx(h3,{scope:l,value:p,max:x,children:e.jsx(Wj.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":Nd(p)?p:void 0,"aria-valuetext":v,role:"progressbar","data-state":aw(p,x),"data-value":p??void 0,"data-max":x,...h,ref:n})})});ew.displayName=Hh;var tw="ProgressIndicator",sw=m.forwardRef((a,n)=>{const{__scopeProgress:l,...i}=a,c=x3(tw,l);return e.jsx(Wj.div,{"data-state":aw(c.value,c.max),"data-value":c.value??void 0,"data-max":c.max,...i,ref:n})});sw.displayName=tw;function g3(a,n){return`${Math.round(a/n*100)}%`}function aw(a,n){return a==null?"indeterminate":a===n?"complete":"loading"}function Nd(a){return typeof a=="number"}function Bb(a){return Nd(a)&&!isNaN(a)&&a>0}function Lb(a,n){return Nd(a)&&!isNaN(a)&&a<=n&&a>=0}function p3(a,n){return`Invalid prop \`max\` of value \`${a}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${qh}\`.`}function v3(a,n){return`Invalid prop \`value\` of value \`${a}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${qh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var b3=ew,y3=sw;function Gh({className:a,value:n,...l}){return e.jsx(b3,{"data-slot":"progress",className:Fe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...l,children:e.jsx(y3,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})})}function rw({authorId:a,authorName:n,isCurrentUser:l,isUserLoggedIn:i,ratingStats:c,onRatingUpdate:u}){const[h,x]=m.useState(0),[p,v]=m.useState(0),[b,g]=m.useState(!1),[j,w]=m.useState(null),[C,S]=m.useState([]),[E,N]=m.useState(!1),[T,R]=m.useState(!1),[D,_]=m.useState(""),[O,P]=m.useState(!1),[$,se]=m.useState(!1);m.useEffect(()=>{xe(),oe()},[a,i]);const xe=async()=>{if(!(!i||l)){try{const M=await Ce.getUserAuthorRating(a);x(M.rating.rating_value)}catch{console.log("No existing rating")}try{const M=await Ce.getUserAuthorReview(a);M?.review&&w(M.review)}catch{console.log("No existing review")}}},oe=async()=>{N(!0);try{const M=await Ce.getAuthorReviews(a);S(M.reviews)}catch(M){console.error("Failed to load reviews:",M)}finally{N(!1)}},W=async M=>{console.log(" ===== RATING CLICK START ====="),console.log(" Rating value:",M),console.log(" Author ID:",a);try{const ae=ar.getIdToken();console.log(" Token exists?",!!ae),console.log(" Token preview:",ae?ae.substring(0,50)+"...":"NO TOKEN"),console.log(" Calling apiService.rateAuthor...");const ve=await Ce.rateAuthor(a,M);console.log(" ===== RATING SUCCESS ====="),console.log(" Result:",ve),K.success(`You rated this author ${M} stars!`),x(M),u&&u()}catch(ae){console.error(" ===== RATING ERROR ====="),console.error("Error message:",ae.message),console.error("Full error:",ae),K.error(ae.message||"Failed to submit rating")}},me=async()=>{if(i){g(!0);try{await Ce.deleteAuthorRating(a),x(0),K.success("Rating deleted successfully!"),u&&u()}catch(M){console.error("Failed to delete rating:",M),K.error(M.message||"Failed to delete rating")}finally{g(!1)}}},ue=async()=>{if(!D.trim()||D.trim().length<10){K.error("Review must be at least 10 characters long");return}P(!0);try{if($)await Ce.updateAuthorReview(a,D),w({...j,review_text:D}),K.success("Review updated successfully!");else{const M=await Ce.writeAuthorReview(a,D);w({author_review_id:M.review.author_review_id,username:M.review.username,avatar_url:M.review.avatar_url,review_text:M.review.review_text,created_at:M.review.created_at,updated_at:M.review.created_at}),K.success("Review submitted successfully!")}R(!1),_(""),se(!1),oe()}catch(M){console.error("Failed to submit review:",M),K.error(M.message||"Failed to submit review")}finally{P(!1)}},ce=()=>{j&&(_(j.review_text),se(!0),R(!0))},A=async()=>{if(confirm("Are you sure you want to delete your review?"))try{await Ce.deleteAuthorReview(a),w(null),K.success("Review deleted successfully!"),oe()}catch(M){console.error("Failed to delete review:",M),K.error(M.message||"Failed to delete review")}},q=Object.values(c.ratingBreakdown).reduce((M,ae)=>M+ae,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ye,{children:[e.jsx(Ge,{children:e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"w-5 h-5 fill-primary text-primary"}),"Author Ratings"]})}),e.jsx(Ae,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold mb-2",children:c.avgRating.toFixed(1)}),e.jsx("div",{className:"flex items-center justify-center gap-1 mb-2",children:[1,2,3,4,5].map(M=>e.jsx(Ct,{className:`w-6 h-6 ${M<=Math.round(c.avgRating)?"fill-primary text-primary":"text-muted-foreground"}`},M))}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.totalRatings," ",c.totalRatings===1?"rating":"ratings"]})]}),!l&&i&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Your Rating:"}),e.jsx("div",{className:"flex items-center gap-2 justify-center",children:[1,2,3,4,5].map(M=>e.jsx("button",{onClick:()=>W(M),onMouseEnter:()=>v(M),onMouseLeave:()=>v(0),disabled:b,className:"transition-transform hover:scale-110 disabled:opacity-50",children:e.jsx(Ct,{className:`w-8 h-8 ${M<=(p||h)?"fill-primary text-primary":"text-muted-foreground"}`})},M))}),h>0&&e.jsx("div",{className:"text-center mt-2",children:e.jsxs(I,{variant:"ghost",size:"sm",onClick:me,disabled:b,children:[e.jsx(pi,{className:"w-4 h-4 mr-1"}),"Remove Rating"]})})]})]}),e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(M=>{const ae=c.ratingBreakdown[M.toString()],ve=q>0?ae/q*100:0;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 w-16",children:[e.jsx("span",{className:"text-sm font-medium",children:M}),e.jsx(Ct,{className:"w-3 h-3 fill-primary text-primary"})]}),e.jsx(Gh,{value:ve,className:"h-2 flex-1"}),e.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:ae})]},M)})})]})})]}),e.jsxs(ye,{children:[e.jsx(Ge,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5"}),"Reviews (",c.totalReviews,")"]}),e.jsxs(ot,{children:["What readers are saying about ",n]})]}),!l&&i&&!j&&e.jsx(I,{onClick:()=>R(!0),children:"Write a Review"})]})}),e.jsxs(Ae,{children:[j&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg border-2 border-primary/20 bg-primary/5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(Ke,{variant:"outline",children:"Your Review"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:ce,children:e.jsx(Qb,{className:"w-4 h-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:A,children:e.jsx(pi,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm",children:j.review_text}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(j.created_at).toLocaleDateString()})]}),E?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(M=>e.jsx("div",{className:"h-24 bg-muted animate-pulse rounded"},M))}):C.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ns,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),e.jsx("p",{children:"No reviews yet"})]}):e.jsx("div",{className:"space-y-4",children:C.map(M=>e.jsxs("div",{className:"p-4 rounded-lg border border-border hover:border-primary transition-colors",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[e.jsxs(as,{children:[e.jsx(vs,{src:M.avatar_url}),e.jsx(rs,{children:M.username[0]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:M.username}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(M.created_at).toLocaleDateString()})]})]}),e.jsx("p",{className:"text-sm",children:M.review_text})]},M.author_review_id))})]})]}),e.jsx(Cs,{open:T,onOpenChange:R,children:e.jsxs(bs,{children:[e.jsxs(Rs,{children:[e.jsx(As,{children:$?"Edit Review":"Write a Review"}),e.jsxs(_s,{children:["Share your thoughts about ",n]})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(Ea,{value:D,onChange:M=>_(M.target.value),placeholder:"Write your review here (minimum 10 characters)...",rows:6,maxLength:5e3}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[D.length," / 5000 characters"]})]}),e.jsxs(gn,{children:[e.jsx(I,{variant:"outline",onClick:()=>{R(!1),_(""),se(!1)},children:"Cancel"}),e.jsx(I,{onClick:ue,disabled:O||D.trim().length<10,children:O?"Submitting...":$?"Update Review":"Submit Review"})]})]})})]})}var Vh="Radio",[j3,nw]=oa(Vh),[w3,N3]=j3(Vh),ow=m.forwardRef((a,n)=>{const{__scopeRadio:l,name:i,checked:c=!1,required:u,disabled:h,value:x="on",onCheck:p,form:v,...b}=a,[g,j]=m.useState(null),w=it(n,E=>j(E)),C=m.useRef(!1),S=g?v||!!g.closest("form"):!0;return e.jsxs(w3,{scope:l,checked:c,disabled:h,children:[e.jsx(et.button,{type:"button",role:"radio","aria-checked":c,"data-state":dw(c),"data-disabled":h?"":void 0,disabled:h,value:x,...b,ref:w,onClick:Oe(a.onClick,E=>{c||p?.(),S&&(C.current=E.isPropagationStopped(),C.current||E.stopPropagation())})}),S&&e.jsx(cw,{control:g,bubbles:!C.current,name:i,value:x,checked:c,required:u,disabled:h,form:v,style:{transform:"translateX(-100%)"}})]})});ow.displayName=Vh;var lw="RadioIndicator",iw=m.forwardRef((a,n)=>{const{__scopeRadio:l,forceMount:i,...c}=a,u=N3(lw,l);return e.jsx(Ys,{present:i||u.checked,children:e.jsx(et.span,{"data-state":dw(u.checked),"data-disabled":u.disabled?"":void 0,...c,ref:n})})});iw.displayName=lw;var S3="RadioBubbleInput",cw=m.forwardRef(({__scopeRadio:a,control:n,checked:l,bubbles:i=!0,...c},u)=>{const h=m.useRef(null),x=it(h,u),p=Fd(l),v=Id(n);return m.useEffect(()=>{const b=h.current;if(!b)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(p!==l&&w){const C=new Event("click",{bubbles:i});w.call(b,l),b.dispatchEvent(C)}},[p,l,i]),e.jsx(et.input,{type:"radio","aria-hidden":!0,defaultChecked:l,...c,tabIndex:-1,ref:x,style:{...c.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cw.displayName=S3;function dw(a){return a?"checked":"unchecked"}var k3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wd="RadioGroup",[C3]=oa(Wd,[sl,nw]),uw=sl(),mw=nw(),[R3,A3]=C3(Wd),fw=m.forwardRef((a,n)=>{const{__scopeRadioGroup:l,name:i,defaultValue:c,value:u,required:h=!1,disabled:x=!1,orientation:p,dir:v,loop:b=!0,onValueChange:g,...j}=a,w=uw(l),C=eo(v),[S,E]=Or({prop:u,defaultProp:c??null,onChange:g,caller:Wd});return e.jsx(R3,{scope:l,name:i,required:h,disabled:x,value:S,onValueChange:E,children:e.jsx(yh,{asChild:!0,...w,orientation:p,dir:C,loop:b,children:e.jsx(et.div,{role:"radiogroup","aria-required":h,"aria-orientation":p,"data-disabled":x?"":void 0,dir:C,...j,ref:n})})})});fw.displayName=Wd;var hw="RadioGroupItem",xw=m.forwardRef((a,n)=>{const{__scopeRadioGroup:l,disabled:i,...c}=a,u=A3(hw,l),h=u.disabled||i,x=uw(l),p=mw(l),v=m.useRef(null),b=it(n,v),g=u.value===c.value,j=m.useRef(!1);return m.useEffect(()=>{const w=S=>{k3.includes(S.key)&&(j.current=!0)},C=()=>j.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",C)}},[]),e.jsx(jh,{asChild:!0,...x,focusable:!h,active:g,children:e.jsx(ow,{disabled:h,required:u.required,checked:g,...p,...c,name:u.name,ref:b,onCheck:()=>u.onValueChange(c.value),onKeyDown:Oe(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:Oe(c.onFocus,()=>{j.current&&v.current?.click()})})})});xw.displayName=hw;var _3="RadioGroupIndicator",gw=m.forwardRef((a,n)=>{const{__scopeRadioGroup:l,...i}=a,c=mw(l);return e.jsx(iw,{...c,...i,ref:n})});gw.displayName=_3;var E3=fw,T3=xw,D3=gw;function M3({className:a,...n}){return e.jsx(E3,{"data-slot":"radio-group",className:Fe("grid gap-3",a),...n})}function O3({className:a,...n}){return e.jsx(T3,{"data-slot":"radio-group-item",className:Fe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...n,children:e.jsx(D3,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(Y2,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function Yh({reportType:a,targetName:n,onSubmit:l,isUserLoggedIn:i,onLoginRequired:c}){const[u,h]=m.useState(!1),[x,p]=m.useState(""),[v,b]=m.useState(""),g=E=>{if(E&&!i){K.error("Please log in to report content"),c&&setTimeout(()=>c(),1500);return}h(E)},j={user:["Harassment or bullying","Spam or promotional content","Inappropriate profile content","Impersonation","Abusive behavior","Other"],author:["Fraudulent author claims","Inappropriate content","Copyright violation","Impersonation","Spam or promotional abuse","Other"],review:["Spam or promotional content","Harassment or hate speech","Spoilers without warning","Inappropriate language","Fake or misleading review","Other"],book:["Copyright violation","Inappropriate content","Misleading information","Plagiarism","Offensive material","Other"]},w=()=>{if(!x){K.error("Please select a reason for reporting");return}l&&l(x,v),K.success("Report submitted successfully",{description:"Our team will review this report shortly."}),p(""),b(""),h(!1)},C=()=>{switch(a){case"user":return"Report User";case"author":return"Report Author";case"review":return"Report Review";case"book":return"Report Book";default:return"Report"}},S=()=>`You are reporting ${a==="user"||a==="author"?"":"a "}${a} "${n}". Please select the reason for your report.`;return e.jsxs(Cs,{open:u,onOpenChange:g,children:[e.jsx(i0,{asChild:!0,children:e.jsxs(I,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Bf,{className:"w-4 h-4"}),"Report"]})}),e.jsxs(bs,{className:"sm:max-w-[500px]",children:[e.jsxs(Rs,{children:[e.jsxs(As,{className:"flex items-center gap-2",children:[e.jsx(Vo,{className:"w-5 h-5 text-destructive"}),C()]}),e.jsx(_s,{children:S()})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(Me,{children:"Reason for reporting *"}),e.jsx(M3,{value:x,onValueChange:p,children:j[a].map((E,N)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O3,{value:E,id:`reason-${N}`}),e.jsx(Me,{htmlFor:`reason-${N}`,className:"cursor-pointer",children:E})]},N))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"details",children:"Additional Details (Optional)"}),e.jsx(Ea,{id:"details",placeholder:"Provide any additional context that might help us review this report...",value:v,onChange:E=>b(E.target.value),rows:4})]}),e.jsx("div",{className:"bg-muted/50 border border-border rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("strong",{children:"Note:"})," False reports may result in action against your account. All reports are reviewed by our moderation team."]})})]}),e.jsxs(gn,{children:[e.jsx(I,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),e.jsx(I,{onClick:w,variant:"destructive",disabled:!x,children:"Submit Report"})]})]})]})}function pw({author:a,onBack:n,onLogoClick:l,onBookSelect:i,theme:c,onToggleTheme:u,isUserLoggedIn:h,onLoginRequired:x,onReportSubmit:p,isFollowing:v=!1,onFollowAuthor:b,onUnfollowAuthor:g,currentUser:j,onUserSelect:w,onAuthorSelect:C}){const[S,E]=m.useState(null),[N,T]=m.useState(!1),[R,D]=m.useState(v),[_,O]=m.useState(!1),[P,$]=m.useState(a.stats.avgRating),[se,xe]=m.useState(a.stats.totalRatings),[oe,W]=m.useState(0),[me,ue]=m.useState(0),[ce,A]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{(async()=>{if(!h){E(null),T(!1),D(!1);return}try{const De=await Ce.getUserProfile();E(De.user_id);const _t=a.authorType==="registered"&&De.user_id===a.id;if(T(_t),console.log(" Current user ID:",De.user_id,"Author ID:",a.id,"Author Type:",a.authorType,"Is own profile:",_t),!_t){O(!0);try{if(a.authorType==="external"&&a.authorId){const gt=await Ce.checkAuthorFollowStatus(a.authorId);D(gt.isFollowing),console.log(" External author follow status loaded:",gt.isFollowing)}else{const gt=await Ce.checkFollowStatus(a.id);D(gt.isFollowing),console.log(" Registered author follow status loaded:",gt.isFollowing)}}catch(gt){console.error("Failed to load follow status:",gt),D(!1)}finally{O(!1)}}}catch(De){console.error("Failed to load current user ID:",De),E(null),T(!1),D(!1)}})()},[h,a.id,a.authorId,a.authorType]);const[M,ae]=m.useState(0),[ve]=m.useState(4),[B,Z]=m.useState(null),[U,Q]=m.useState([]);m.useEffect(()=>{const Te=async()=>{if(!a.authorId){console.log(" No authorId, skipping review load"),Q([]);return}try{console.log(" Loading reviews for author:",a.authorId);const _t=(await Ce.getAuthorReviews(a.authorId)).reviews.map(gt=>({id:gt.author_review_id.toString(),reader:gt.username,rating:0,comment:gt.review_text,date:new Date(gt.created_at).toLocaleDateString(),avatarSeed:gt.username}));Q(_t),console.log(" Loaded reviews:",_t.length)}catch(De){console.error(" Failed to load author reviews:",De),Q([])}};a.authorId&&Te()},[a.authorId]);const[le,te]=m.useState(!1),[G,he]=m.useState("followers"),[Ne,_e]=m.useState("books"),[Be,Pe]=m.useState([]),[ct,Se]=m.useState(!1),[L,we]=m.useState(a.stats.followers),[Le,ee]=m.useState(0);m.useEffect(()=>{const Te=async()=>{if(!a?.id||a.authorType==="external"){console.log(" Skipping following count - external author"),ee(0);return}try{const De=await Ce.getUserFollowing(a.id);console.log(" Following count loaded:",De.total),ee(De.total)}catch(De){console.error(" Failed to load following count:",De),ee(0)}};a.id&&Te()},[a.id,a.authorType]),m.useEffect(()=>{if(q.current=!1,!h||N){console.log(" Skipping rating load early:",{isUserLoggedIn:h,isOwnProfile:N}),W(0),A(!1),q.current=!0;return}if(q.current){console.log(" Rating already loaded or attempted, skipping");return}const Te=async()=>{if(console.log(" loadUserRating called with:",{isUserLoggedIn:h,isOwnProfile:N,authorId:a.authorId,authorUserId:a.id,currentUserId:S}),q.current=!0,S&&a.id===S){console.log(" Current user ID matches author ID, skipping rating load"),W(0),A(!1);return}if(!a.authorId){console.log("  No authorId available, skipping rating load"),W(0),A(!1);return}try{console.log(" Loading user rating for author_id:",a.authorId);const De=await Ce.getUserAuthorRating(a.authorId);De.rating&&(W(De.rating.rating_value),A(!0),console.log(" User rating loaded:",De.rating.rating_value))}catch(De){if(De.message.includes("404")||De.message.includes("No rating found")){console.log(" User has not rated this author yet"),W(0),A(!1);return}if(De.message.includes("You cannot rate yourself")||De.message.includes("403")||De.message.includes("Forbidden")){console.log(" Cannot rate yourself - this is expected"),W(0),A(!1);return}if(De.message.includes("502")||De.message.includes("Bad Gateway")){console.log(" Rating endpoint temporarily unavailable"),W(0),A(!1);return}console.error("Failed to load user rating:",De),W(0),A(!1)}};a.id&&a.authorId&&Te()},[h,a.authorId,a.id,N,S]),m.useEffect(()=>{(async()=>{$(a.stats.avgRating),xe(a.stats.totalRatings),console.log(" Using author stats from props:",{avgRating:a.stats.avgRating,totalRatings:a.stats.totalRatings})})()},[a.stats.avgRating,a.stats.totalRatings]),m.useEffect(()=>{const Te=async()=>{if(!a.id||a.authorType==="external"){console.log(" Skipping list load - external author has no lists"),Pe([]),Se(!1);return}try{Se(!0),console.log(" Loading lists for registered author:",a.id),console.log(" Is user logged in?",h),console.log(" Author type:",a.authorType);let De;try{console.log(" Fetching public lists for author ID:",a.id),De=await Ce.getUserListsById(a.id),console.log(" Public lists loaded:",De)}catch(jt){if(console.error(" Failed to load public lists:",jt),!h){console.log("  User not logged in, showing no lists"),Pe([]);return}console.log(" Trying authenticated endpoint for own profile..."),De=await Ce.getUserLists(),console.log(" Own lists loaded:",De)}console.log(" Default lists:",De.defaultLists),console.log(" Custom lists:",De.customLists);const _t=(De.defaultLists||[]).map(jt=>(console.log("   Formatting default list:",jt),{id:jt.id,name:jt.name,count:jt.count,isPublic:jt.visibility==="public"})),gt=(De.customLists||[]).map(jt=>(console.log("   Formatting custom list:",jt),{id:jt.id,name:jt.name,count:jt.count,isPublic:jt.visibility==="public"})),Tt=[..._t,...gt];console.log(" Total lists formatted:",Tt.length),console.log(" Final lists array:",Tt),Pe(Tt)}catch(De){console.error(" Failed to load author lists:",De),console.error(" Error details:",{message:De.message,stack:De.stack}),h&&K.error("Failed to load reading lists"),Pe([])}finally{Se(!1),console.log(" Lists loading complete")}};a.id&&a.authorType?(console.log(" Starting list load for author.id:",a.id,"type:",a.authorType),Te()):(console.log(" Skipping list load. Author ID:",a.id,"Type:",a.authorType),Pe([]),Se(!1))},[a.id,a.authorType,h]);const Qe=async()=>{if(!h){K.error("Please log in to follow authors"),x&&setTimeout(()=>x(),1500);return}if(N){K.error("You cannot follow yourself");return}if(j?.isAdmin){K.error("Admins cannot follow authors");return}const Te=a.authorType==="external";console.log(" Follow action:",{authorType:a.authorType,isExternal:Te,authorId:a.authorId,userId:a.id});try{if(Te){if(!a.authorId){K.error("Cannot follow: Author ID missing");return}R?(await Ce.unfollowAuthor(a.authorId,"external"),D(!1),we(De=>Math.max(0,De-1)),K.success(`Unfollowed ${a.name}`)):(await Ce.followAuthor(a.authorId,"external"),D(!0),we(De=>De+1),K.success(`Following ${a.name}!`))}else R?(await Ce.unfollowUser(a.id),D(!1),we(De=>Math.max(0,De-1)),K.success(`Unfollowed ${a.name}`)):(await Ce.followUser(a.id),D(!0),we(De=>De+1),K.success(`Following ${a.name}!`));R&&g?g(a.id):!R&&b&&b(a)}catch(De){console.error("Failed to follow/unfollow:",De),K.error(De.message||"Failed to update follow status")}},ke=async Te=>{if(console.log(" ===== RATING CLICK START ====="),console.log(" Rating value:",Te),console.log(" User ID:",a.id),console.log(" Author ID:",a.authorId),!h){console.log(" User not logged in"),K.error("Please log in to rate this author"),x&&setTimeout(()=>x(),1500);return}if(N){console.log(" Cannot rate own profile"),K.error("You cannot rate yourself");return}if(j?.isAdmin){console.log(" Admin cannot rate"),K.error("Admins cannot rate authors");return}if(!a.authorId){console.error(" No author_id available!"),K.error("Cannot rate: Author profile incomplete");return}try{console.log(" Calling apiService.rateAuthor...");const De=oe,_t=await Ce.rateAuthor(a.authorId,Te);if(console.log(" ===== RATING SUCCESS ====="),console.log(" API Result:",_t),!_t.rating){console.error(" No rating object in response!"),K.error("Rating saved but response incomplete");return}W(Te),A(!0);const gt=_t.rating.avg_rating,Tt=_t.rating.total_ratings;console.log(" New average rating:",gt),console.log(" New total ratings:",Tt),$(gt),xe(Tt);const jt=De>0?`Rating updated to ${Te} stars! New average: ${gt.toFixed(1)}`:`Rated ${a.name} ${Te} stars! Average: ${gt.toFixed(1)}`;K.success(jt),console.log(" Rating update complete")}catch(De){console.error(" ===== RATING ERROR ====="),console.error("Error:",De.message),K.error(De.message||"Failed to submit rating")}},[Ue,Ye]=m.useState(null),nt=Te=>{he(Te),te(!0)},Gt=(Te,De)=>{console.log(" Navigation triggered from FollowersModal:",{userId:Te,userRole:De,hasUserSelect:!!w,hasAuthorSelect:!!C}),te(!1),De==="author"&&C?(console.log(` Navigating to author profile for user ${Te}`),C({id:Te,authorType:"registered"})):w?(console.log(` Navigating to user profile for user ${Te}`),w(Te)):console.warn("  No navigation handler available")},Es=()=>{M+ve<a.books.length&&ae(M+ve)},Ze=()=>{M>0&&ae(M-ve)},lt=a.books.slice(M,M+ve),Et=M+ve<a.books.length,Pt=M>0;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-2 hover:opacity-80 transition-opacity flex-shrink-0",children:[e.jsx(Mr,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[e.jsx(js,{theme:c,onToggle:u}),e.jsx(I,{variant:"ghost",size:"sm",onClick:n,children:"Back"})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(ye,{className:"overflow-hidden",children:[e.jsx("div",{className:"h-32 bg-gradient-to-r from-primary/20 via-accent/20 to-secondary/20 relative",children:e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(164,135,131,0.3),transparent_70%)]"})}),e.jsx(Ae,{className:"relative -mt-16 pb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(as,{className:"w-32 h-32 border-4 border-card",children:[e.jsx(vs,{src:a.avatarUrl}),e.jsx(rs,{className:"text-2xl",children:a.name.split(" ").map(Te=>Te[0]).join("").toUpperCase()})]}),a.verified&&e.jsx("div",{className:"absolute -bottom-2 -right-2 bg-primary text-primary-foreground rounded-full p-2",children:e.jsx(Zo,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl",children:a.name}),a.verified&&e.jsxs(Ke,{variant:"outline",className:"border-primary/40 text-primary",children:[e.jsx(Zo,{className:"w-3 h-3 mr-1"}),"Verified Author"]})]}),a.penName&&a.penName!==a.name&&e.jsxs("p",{className:"text-muted-foreground mb-2",children:["Pen Name: ",a.penName]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[a.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Rd,{className:"w-4 h-4"}),a.location]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(hi,{className:"w-4 h-4"}),"Joined ",a.joinDate]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[!j?.isAdmin&&!N&&e.jsxs(I,{variant:R?"outline":"default",onClick:Qe,disabled:_,className:"min-w-[120px]",children:[e.jsx(qs,{className:"w-4 h-4 mr-2"}),_?"Loading...":R?"Following":"Follow"]}),N&&e.jsxs(I,{variant:"outline",disabled:!0,className:"min-w-[120px] cursor-not-allowed",title:"You cannot follow yourself",children:[e.jsx(qs,{className:"w-4 h-4 mr-2"}),"Your Profile"]}),a.email&&e.jsx(I,{variant:"outline",size:"icon",asChild:!0,children:e.jsx("a",{href:`mailto:${a.email}`,title:`Send email to ${a.name}`,children:e.jsx($a,{className:"w-4 h-4"})})}),e.jsx(Yh,{reportType:"author",targetName:a.name,isUserLoggedIn:h,onLoginRequired:x,onSubmit:(Te,De)=>{p&&p("author",a.name,Te,De)}})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-accent/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-1",children:a.stats.totalBooks}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Books"})]}),e.jsxs("div",{className:"text-center p-3 bg-accent/30 rounded-lg",children:[e.jsxs("div",{className:"text-2xl mb-1 flex items-center justify-center gap-1",children:[e.jsx(Ct,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),P.toFixed(1),"  "]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg Rating"})]}),e.jsxs("button",{className:"text-center p-3 bg-accent/30 rounded-lg hover:bg-accent/40 transition-colors cursor-pointer",onClick:()=>nt("followers"),children:[e.jsx("div",{className:"text-2xl mb-1",children:L}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Followers"})]}),e.jsxs("button",{className:"text-center p-3 bg-accent/30 rounded-lg hover:bg-accent/40 transition-colors cursor-pointer",onClick:()=>nt("following"),children:[e.jsx("div",{className:"text-2xl mb-1",children:Le}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Following"})]})]})]})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(ye,{children:[e.jsx(Ge,{children:e.jsx(Ve,{children:"About the Author"})}),e.jsx(Ae,{children:e.jsx("p",{className:"text-muted-foreground leading-relaxed whitespace-pre-wrap",children:a.bio||"No biography available yet."})})]}),e.jsxs(or,{value:Ne,onValueChange:_e,children:[e.jsxs(lr,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsxs(Qt,{value:"books",children:[e.jsx(yt,{className:"w-4 h-4 mr-2"}),"Books (",a.stats.totalBooks,")"]}),e.jsxs(Qt,{value:"lists",children:[e.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Lists (",Be.length,")"]}),e.jsxs(Qt,{value:"reviews",children:[e.jsx(ns,{className:"w-4 h-4 mr-2"}),"Reviews (",a.stats.totalReviews||0,")  "]})]}),e.jsx(Jt,{value:"books",children:e.jsxs(ye,{children:[e.jsx(Ge,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Ve,{children:"Published Books"}),e.jsxs(ot,{children:[a.stats.totalBooks," ",a.stats.totalBooks===1?"book":"books"," published"]})]}),a.books.length>ve&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"icon",onClick:Ze,disabled:!Pt,children:e.jsx(Cd,{className:"w-4 h-4"})}),e.jsx(I,{variant:"outline",size:"icon",onClick:Es,disabled:!Et,children:e.jsx(Vb,{className:"w-4 h-4"})})]})]})}),e.jsx(Ae,{children:a.books.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(yt,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"No books published yet"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:lt.map(Te=>e.jsx(Ff,{title:Te.title,author:Te.author,rating:Te.rating,reviews:Te.totalRatings,coverUrl:Te.cover,genre:Te.genre,onClick:()=>i?.(Te)},Te.id))}),a.books.length>ve&&e.jsxs("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Showing ",M+1,"-",Math.min(M+ve,a.books.length)," of ",a.books.length," books"]})]})})]})}),e.jsx(Jt,{value:"lists",children:e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Reading Lists"}),e.jsx(ot,{children:a.authorType==="external"?`${a.name} is not a registered user and doesn't have reading lists`:`${a.name}'s curated book collections`})]}),e.jsx(Ae,{children:ct?e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-20 bg-muted rounded-lg"}),e.jsx("div",{className:"h-20 bg-muted rounded-lg"}),e.jsx("div",{className:"h-20 bg-muted rounded-lg"})]}),e.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading lists..."})]}):Be.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(yt,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),a.authorType==="external"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mb-2",children:"This author is not a registered BookArc user"}),e.jsx("p",{className:"text-sm",children:"Only registered authors can create and share reading lists"})]}):e.jsx("p",{children:"No public lists yet"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Be.map(Te=>e.jsxs("div",{className:"p-4 rounded-lg border border-border hover:border-primary transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(yt,{className:"w-5 h-5 text-primary"}),e.jsxs(Ke,{variant:"outline",className:"text-xs",children:[e.jsx(Yn,{className:"w-3 h-3 mr-1"}),"Public"]})]}),e.jsx("h4",{className:"mb-1 font-semibold",children:Te.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[Te.count," ",Te.count===1?"book":"books"]})]},Te.id))})})]})}),e.jsx(Jt,{value:"reviews",children:a.authorId?e.jsx(rw,{authorId:a.authorId,authorName:a.name,isCurrentUser:N,isUserLoggedIn:h,ratingStats:{avgRating:P,totalRatings:se,totalReviews:a.stats.totalReviews||0,ratingBreakdown:a.stats.ratingBreakdown||{5:0,4:0,3:0,2:0,1:0}},onRatingUpdate:()=>{console.log("Rating updated")}}):e.jsx(ye,{children:e.jsxs(Ae,{className:"text-center py-12",children:[e.jsx(ns,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-20"}),e.jsx("p",{className:"text-muted-foreground",children:"Unable to load reviews"})]})})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Rate This Author"}),e.jsx(ot,{children:"Share your experience with their work"})]}),e.jsx(Ae,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center gap-2",children:[1,2,3,4,5].map(Te=>e.jsx("button",{onClick:()=>ke(Te),onMouseEnter:()=>ue(Te),onMouseLeave:()=>ue(0),className:"transition-transform hover:scale-110 focus:outline-none",disabled:N||!h||j?.isAdmin,children:e.jsx(Ct,{className:`w-10 h-10 cursor-pointer transition-colors ${Te<=(me||oe)?"fill-primary text-primary":"text-muted-foreground hover:text-primary/50"}`})},Te))}),oe>0&&e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["You rated this author ",oe," star",oe!==1?"s":""]}),e.jsx(Lt,{}),e.jsxs("div",{className:"text-center space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ct,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-2xl font-bold",children:P.toFixed(1)})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Average from ",se.toLocaleString()," rating",se!==1?"s":""]})]}),e.jsx(Lt,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-3 text-center",children:"Rating Distribution"}),[5,4,3,2,1].map(Te=>{const De=a.stats.ratingBreakdown?.[Te.toString()]||0,_t=se>0?De/se*100:0;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 w-12",children:[e.jsx("span",{className:"text-xs font-medium",children:Te}),e.jsx(Ct,{className:"w-3 h-3 fill-yellow-500 text-yellow-500"})]}),e.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${_t}%`}})}),e.jsx("span",{className:"text-xs text-muted-foreground w-8 text-right",children:De})]},Te)})]})]})})]})})]})]}),e.jsx($h,{isOpen:le,onClose:()=>te(!1),userId:a.id,username:a.name,defaultTab:G,onUserClick:Gt})]})}function P3({onLogout:a,onLogoClick:n,onViewNotifications:l,onEditProfile:i,onViewUserDashboard:c,onViewBookDetails:u,currentAuthor:h,theme:x,onToggleTheme:p}){const[v,b]=m.useState("overview"),[g,j]=m.useState(0),[w,C]=m.useState(!1),[S,E]=m.useState({name:"Author Name",email:"author@email.com",avatarUrl:""}),[N,T]=m.useState(!1),[R,D]=m.useState({title:"",summary:"",isbn:"",publish_date:"",cover_image_url:"",genres:[""]}),[_,O]=m.useState(null),[P,$]=m.useState(!1),[se,xe]=m.useState(!1),[oe,W]=m.useState(null),[me,ue]=m.useState(!1),[ce,A]=m.useState([]),[q,M]=m.useState(!1);m.useEffect(()=>{h&&E({name:h.name,email:h.email,avatarUrl:h.avatarUrl||""})},[h]);const ae=S.name.split(" ").map(L=>L[0]).join("").toUpperCase().slice(0,2),ve=async()=>{try{M(!0);const L=await Ce.getAuthorBooks();A(L.books)}catch(L){console.error("Failed to load submitted books:",L),K.error("Failed to load your submitted books")}finally{M(!1)}};m.useEffect(()=>{const L=async()=>{try{C(!0);const Le=await Ce.getNotifications({limit:1});j(Le.unread_count)}catch(Le){console.error("Failed to load notification count:",Le),j(0)}finally{C(!1)}};L();const we=setInterval(L,3e4);return()=>clearInterval(we)},[]),m.useEffect(()=>{v==="books"&&ve()},[v]);const B=(L,we)=>{switch(L){case"pending":return e.jsxs(Ke,{variant:"secondary",className:"gap-1",children:[e.jsx(Kn,{className:"w-3 h-3"}),"Pending Review"]});case"approved":return e.jsxs(Ke,{variant:"default",className:"gap-1 bg-green-600",children:[e.jsx(Us,{className:"w-3 h-3"}),"Approved"]});case"rejected":return e.jsxs(Ke,{variant:"destructive",className:"gap-1",children:[e.jsx(Aa,{className:"w-3 h-3"}),"Rejected"]});default:return e.jsx(Ke,{children:L})}},[Z,U]=m.useState(null),[Q,le]=m.useState(null),[te,G]=m.useState(null),he=()=>{D(L=>({...L,genres:[...L.genres,""]}))},Ne=L=>{D(we=>({...we,genres:we.genres.filter((Le,ee)=>ee!==L)}))},_e=(L,we)=>{D(Le=>({...Le,genres:Le.genres.map((ee,Qe)=>Qe===L?we:ee)}))},Be=async()=>{if(!R.title.trim()){K.error("Book title is required");return}const L=R.genres.filter(we=>we.trim());if(L.length===0){K.error("At least one genre is required");return}ue(!0);try{await Ce.submitBook({title:R.title.trim(),summary:R.summary.trim()||null,isbn:R.isbn.trim()||null,publish_date:R.publish_date||null,cover_image_url:R.cover_image_url.trim()||null,genres:L}),K.success("Book submitted successfully! It will be reviewed by an admin."),D({title:"",summary:"",isbn:"",publish_date:"",cover_image_url:"",genres:[""]}),T(!1),ve()}catch(we){console.error("Failed to submit book:",we),K.error(we.message||"Failed to submit book")}finally{ue(!1)}},Pe=async()=>{if(!oe)return;if(!R.title.trim()){K.error("Book title is required");return}const L=R.genres.filter(we=>we.trim());if(L.length===0){K.error("At least one genre is required");return}ue(!0);try{await Ce.updatePendingBook(oe.book_id,{title:R.title.trim(),summary:R.summary.trim()||null,isbn:R.isbn.trim()||null,publish_date:R.publish_date||null,cover_image_url:R.cover_image_url.trim()||null,genres:L}),K.success("Book updated successfully!"),D({title:"",summary:"",isbn:"",publish_date:"",cover_image_url:"",genres:[""]}),xe(!1),W(null),ve()}catch(we){console.error("Failed to update book:",we),K.error(we.message||"Failed to update book")}finally{ue(!1)}},ct=async()=>{console.log(" ===== LOADING BOOK STATS =====");try{$(!0),console.log(" Calling apiService.getAuthorBookStats()...");const L=await Ce.getAuthorBookStats();if(console.log(" ===== API RESPONSE RECEIVED ====="),console.log(" Full Response Object:",L),console.log(" Response Type:",typeof L),console.log(" Response Keys:",Object.keys(L)),console.log(`
 BOOKS DATA:`),console.log("   - books exists?","books"in L),console.log("   - books type:",typeof L.books),console.log("   - books length:",L.books?.length),console.log("   - books[0]:",L.books?.[0]),console.log(`
 STATS DATA:`),console.log("   - stats exists?","stats"in L),console.log("   - stats:",L.stats),console.log(`
 AUTHOR STATS DATA:`),console.log("   - author_stats exists?","author_stats"in L),console.log("   - author_stats type:",typeof L.author_stats),console.log("   - author_stats value:",L.author_stats),L.author_stats?(console.log("   - avgRating:",L.author_stats.avgRating),console.log("   - totalRatings:",L.author_stats.totalRatings),console.log("   - totalReviews:",L.author_stats.totalReviews),console.log("   - ratingBreakdown:",L.author_stats.ratingBreakdown)):console.error("    author_stats is NULL or UNDEFINED!"),console.log(`
 AUTHOR ID:`),console.log("   - author_id exists?","author_id"in L),console.log("   - author_id type:",typeof L.author_id),console.log("   - author_id value:",L.author_id),console.log(`
 Setting bookStats state...`),O(L),console.log(" bookStats state set"),L.author_stats){console.log(`
 Setting authorRatingStats...`);const we={avgRating:L.author_stats.avgRating||0,totalRatings:L.author_stats.totalRatings||0,totalReviews:L.author_stats.totalReviews||0,ratingBreakdown:L.author_stats.ratingBreakdown||{5:0,4:0,3:0,2:0,1:0}};console.log("   - Rating stats object:",we),U(we),console.log(" authorRatingStats state set")}else console.error(" Cannot set authorRatingStats - data.author_stats is missing!");L.author_id?(console.log(`
 Setting currentAuthorId...`),console.log("   - Author ID value:",L.author_id),le(L.author_id),console.log(" currentAuthorId state set")):console.error(" Cannot set currentAuthorId - data.author_id is missing!"),console.log(`
 ===== BOOK STATS LOADING COMPLETE =====`)}catch(L){console.error(" ===== BOOK STATS LOADING FAILED ====="),console.error("Error:",L),console.error("Error message:",L.message),console.error("Error stack:",L.stack),K.error("Failed to load book statistics")}finally{$(!1)}},Se=async()=>{try{const L=await Ce.getUserProfile(),we=await Ce.getAuthorBookStats(),Le={id:L.user_id,authorId:we.author_id,name:L.display_name||L.username,email:L.email,avatarUrl:L.profile_image||"",bio:L.bio||"No biography available yet.",location:L.location,joinDate:new Date(L.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long"}),verified:!0,authorType:"registered",stats:{totalBooks:we.stats.published_books,totalReads:0,totalRatings:we.stats.total_ratings,avgRating:we.author_stats?.avgRating||0,followers:0},books:we.books.filter(ee=>ee.approval_status==="approved").map(ee=>({id:ee.book_id,title:ee.title,author:ee.authors,rating:ee.average_rating,totalRatings:ee.total_ratings,cover:ee.cover_image_url,genre:ee.genres.split(", ")[0],description:ee.summary||""}))};G(Le)}catch(L){console.error("Failed to load author profile data:",L),K.error("Failed to load your public profile")}};return m.useEffect(()=>{v==="overview"?ct():v==="public-page"&&Se()},[v]),_?.books.filter(L=>L.approval_status==="approved").map(L=>L.book_id),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-2 hover:opacity-80 transition-opacity flex-shrink-0",children:[e.jsx(Vs,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-shrink-0",children:[e.jsx(Ke,{variant:"outline",className:"border-primary/40 text-primary hidden md:flex",children:"Author"}),l&&e.jsxs(I,{variant:"ghost",size:"icon",className:"relative",onClick:l,children:[e.jsx(Vn,{className:"w-5 h-5"}),g>0&&e.jsx(Ke,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-destructive text-destructive-foreground",children:g})]}),e.jsx(js,{theme:x,onToggle:p}),e.jsxs(Ei,{children:[e.jsx(Ti,{asChild:!0,children:e.jsx(I,{variant:"ghost",className:"relative h-10 w-10 rounded-full p-0",children:e.jsxs(as,{className:"h-10 w-10",children:[e.jsx(vs,{src:S.avatarUrl,alt:S.name}),e.jsx(rs,{className:"bg-primary/10 text-primary",children:ae})]})})}),e.jsxs(Di,{align:"end",className:"w-56",children:[e.jsx(Jj,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:S.name}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:S.email})]})}),e.jsx(wd,{}),c&&e.jsxs(_a,{onClick:c,children:[e.jsx(na,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"User Dashboard"})]}),i&&e.jsxs(_a,{onClick:i,children:[e.jsx(na,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Edit Profile"})]}),l&&e.jsxs(_a,{onClick:l,children:[e.jsx(Vn,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Notifications"}),g>0&&e.jsx(Ke,{className:"ml-auto bg-destructive text-destructive-foreground",children:g})]}),e.jsx(wd,{}),e.jsxs(_a,{onClick:a,children:[e.jsx(ld,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})]})]})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Author Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your books, track your performance, and engage with your readers."})]}),e.jsxs(or,{value:v,onValueChange:b,className:"space-y-6",children:[e.jsxs(lr,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[e.jsxs(Qt,{value:"overview",className:"gap-2",children:[e.jsx(Hv,{className:"w-4 h-4"}),"Overview"]}),e.jsxs(Qt,{value:"books",className:"gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),"My Books"]}),e.jsxs(Qt,{value:"reviews",className:"gap-2",children:[e.jsx(ns,{className:"w-4 h-4"}),"Reviews"]}),e.jsxs(Qt,{value:"public-page",className:"gap-2",children:[e.jsx(na,{className:"w-4 h-4"}),"My Public Page"]})]}),e.jsx(Jt,{value:"overview",className:"space-y-6",children:P?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(L=>e.jsxs(ye,{children:[e.jsx(Ge,{className:"pb-2",children:e.jsx("div",{className:"h-4 w-24 bg-muted animate-pulse rounded"})}),e.jsxs(Ae,{children:[e.jsx("div",{className:"h-8 w-20 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"})]})]},L))}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ye,{children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ve,{className:"text-sm font-medium",children:"Total Books Published"}),e.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Ae,{children:[e.jsx("div",{className:"text-2xl font-bold",children:_?.stats.published_books||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lifetime publications"})]})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ve,{className:"text-sm font-medium",children:"Published vs Pending"}),e.jsx(Hv,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Ae,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[_?.stats.published_books||0," / ",_?.stats.pending_books||0]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.jsxs("span",{className:"text-green-600",children:[_?.stats.published_books||0," published"]}),"  ",e.jsxs("span",{className:"text-yellow-600",children:[_?.stats.pending_books||0," pending"]})]})]})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ve,{className:"text-sm font-medium",children:"Total Author Reviews"}),e.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Ae,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Z?.totalReviews.toLocaleString()||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Reviews about you as an author"})]})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ve,{className:"text-sm font-medium",children:"Average Author Rating"}),e.jsx(Ct,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Ae,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Z?.avgRating.toFixed(1)||"0.0"}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[[...Array(5)].map((L,we)=>e.jsx(Ct,{className:`w-3 h-3 ${we<Math.floor(Z?.avgRating||0)?"fill-primary text-primary":"text-muted-foreground"}`},we)),e.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",Z?.totalRatings||0," ratings)"]})]})]})]})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"My Books"}),e.jsx(ot,{children:"Your published books with detailed ratings and reviews"})]}),e.jsx(Ae,{children:!_||_.books.filter(L=>L.approval_status==="approved").length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(yt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No published books yet"})]}):e.jsx("div",{className:"space-y-6",children:_.books.filter(L=>L.approval_status==="approved").map(L=>{const we=Object.values(L.rating_breakdown).reduce((Le,ee)=>Le+ee,0);return e.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-accent/5 transition-colors cursor-pointer",onClick:()=>u&&u(L.book_id),children:e.jsxs("div",{className:"flex gap-4",children:[L.cover_image_url?e.jsx("img",{src:L.cover_image_url,alt:L.title,className:"w-24 h-36 object-cover rounded-md flex-shrink-0 shadow-md"}):e.jsx("div",{className:"w-24 h-36 bg-muted rounded-md flex items-center justify-center flex-shrink-0",children:e.jsx(yt,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:L.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[L.genres&&e.jsx(Ke,{variant:"outline",children:L.genres.split(", ")[0]}),L.publish_date&&e.jsxs("span",{children:["Published ",Ef(L.publish_date)]})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"w-5 h-5 fill-primary text-primary"}),e.jsx("span",{className:"font-bold text-lg",children:L.average_rating.toFixed(1)})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",L.total_reviews," reviews)"]})]})}),we>0&&e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(Le=>{const ee=L.rating_breakdown[Le],Qe=we>0?ee/we*100:0;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 w-12",children:[e.jsx("span",{className:"text-sm font-medium",children:Le}),e.jsx(Ct,{className:"w-3 h-3 fill-primary text-primary"})]}),e.jsx(Gh,{value:Qe,className:"h-2 flex-1"}),e.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:ee})]},Le)})}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground pt-2 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ns,{className:"w-4 h-4"}),e.jsxs("span",{children:[L.total_reviews," reviews"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"w-4 h-4"}),e.jsxs("span",{children:[L.total_ratings," ratings"]})]})]})]})]})},L.book_id)})})})]})]})}),e.jsxs(Jt,{value:"books",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"My Books"}),e.jsx("p",{className:"text-muted-foreground",children:"Submit books for admin approval and track their status"})]}),e.jsxs(Cs,{open:N,onOpenChange:T,children:[e.jsx(i0,{asChild:!0,children:e.jsxs(I,{className:"gap-2",children:[e.jsx(Qo,{className:"w-4 h-4"}),"Submit New Book"]})}),e.jsxs(bs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Submit New Book"}),e.jsx(_s,{children:"Submit your book for admin approval. You will be automatically listed as the author."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"title",children:"Book Title *"}),e.jsx(Ee,{id:"title",placeholder:"Enter book title",value:R.title,onChange:L=>D({...R,title:L.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"summary",children:"Summary"}),e.jsx(Ea,{id:"summary",placeholder:"Enter book summary",rows:4,value:R.summary,onChange:L=>D({...R,summary:L.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"isbn",children:"ISBN"}),e.jsx(Ee,{id:"isbn",placeholder:"978-1234567890",value:R.isbn,onChange:L=>D({...R,isbn:L.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"publish_date",children:"Publish Date"}),e.jsx(Ee,{id:"publish_date",type:"date",value:R.publish_date,onChange:L=>D({...R,publish_date:L.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"cover_image_url",children:"Cover Image URL"}),e.jsx(Ee,{id:"cover_image_url",placeholder:"https://example.com/cover.jpg",value:R.cover_image_url,onChange:L=>D({...R,cover_image_url:L.target.value})}),R.cover_image_url&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:R.cover_image_url,alt:"Cover preview",className:"w-32 h-48 object-cover rounded-md border border-border",onError:L=>{L.currentTarget.style.display="none"}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Me,{children:"Genres *"}),e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:he,children:"+ Add Genre"})]}),e.jsx("div",{className:"space-y-2",children:R.genres.map((L,we)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ee,{value:L,onChange:Le=>_e(we,Le.target.value),placeholder:"Genre name (e.g., Fiction, Mystery)",required:!0}),R.genres.length>1&&e.jsx(I,{type:"button",variant:"destructive",size:"sm",onClick:()=>Ne(we),children:"Remove"})]},we))})]})]}),e.jsxs(gn,{children:[e.jsx(I,{variant:"outline",onClick:()=>{T(!1),D({title:"",summary:"",isbn:"",publish_date:"",cover_image_url:"",genres:[""]})},children:"Cancel"}),e.jsx(I,{onClick:Be,disabled:me,children:me?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):"Submit Book"})]})]})]})]}),!q&&ce.length>0&&e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(ye,{children:e.jsxs(Ae,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:ce.filter(L=>L.approval_status==="pending").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Review"})]})}),e.jsx(ye,{children:e.jsxs(Ae,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:ce.filter(L=>L.approval_status==="approved").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"})]})}),e.jsx(ye,{children:e.jsxs(Ae,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:ce.filter(L=>L.approval_status==="rejected").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"})]})})]}),q?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(L=>e.jsx("div",{className:"h-32 bg-muted animate-pulse rounded"},L))}):ce.length===0?e.jsxs(ye,{className:"p-12 text-center",children:[e.jsx(yt,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No books submitted yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Submit your first book for admin approval"}),e.jsxs(I,{onClick:()=>T(!0),children:[e.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Submit Your First Book"]})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:ce.map(L=>e.jsxs(ye,{className:"overflow-hidden",children:[e.jsxs("div",{className:"relative h-48",children:[L.cover_image_url?e.jsx("img",{src:L.cover_image_url,alt:L.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:e.jsx(yt,{className:"w-12 h-12 text-muted-foreground"})}),e.jsx("div",{className:"absolute top-2 right-2",children:B(L.approval_status,L.rejection_reason)})]}),e.jsxs(Ge,{children:[e.jsx(Ve,{className:"line-clamp-1",children:L.title}),e.jsx(ot,{children:L.authors})]}),e.jsxs(Ae,{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"text-muted-foreground",children:["Genres: ",L.genres]}),L.isbn&&e.jsxs("div",{className:"text-muted-foreground",children:["ISBN: ",L.isbn]}),e.jsxs("div",{className:"text-muted-foreground",children:["Submitted: ",Ef(L.created_at)]}),L.approved_at&&e.jsxs("div",{className:"text-muted-foreground",children:["Approved: ",Ef(L.approved_at)]})]}),L.rejection_reason&&e.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:e.jsxs("p",{className:"text-sm text-destructive",children:[e.jsx("strong",{children:"Rejection Reason:"})," ",L.rejection_reason]})}),L.approval_status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{W(L),D({title:L.title,summary:L.summary||"",isbn:L.isbn||"",publish_date:L.publish_date||"",cover_image_url:L.cover_image_url||"",genres:L.genres.split(", ")}),xe(!0)},children:[e.jsx(Qb,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsx(I,{variant:"destructive",size:"sm",onClick:async()=>{if(confirm(`Are you sure you want to delete "${L.title}"?`))try{await Ce.deletePendingBook(L.book_id),K.success("Book deleted successfully"),ve()}catch{K.error("Failed to delete book")}},children:e.jsx(pi,{className:"w-4 h-4"})})]})]})]},L.book_id))}),e.jsx(Cs,{open:se,onOpenChange:xe,children:e.jsxs(bs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Edit Book"}),e.jsx(_s,{children:"Update your pending book submission"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"edit-title",children:"Book Title *"}),e.jsx(Ee,{id:"edit-title",placeholder:"Enter book title",value:R.title,onChange:L=>D({...R,title:L.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"edit-summary",children:"Summary"}),e.jsx(Ea,{id:"edit-summary",placeholder:"Enter book summary",rows:4,value:R.summary,onChange:L=>D({...R,summary:L.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"edit-isbn",children:"ISBN"}),e.jsx(Ee,{id:"edit-isbn",placeholder:"978-1234567890",value:R.isbn,onChange:L=>D({...R,isbn:L.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"edit-publish_date",children:"Publish Date"}),e.jsx(Ee,{id:"edit-publish_date",type:"date",value:R.publish_date,onChange:L=>D({...R,publish_date:L.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"edit-cover_image_url",children:"Cover Image URL"}),e.jsx(Ee,{id:"edit-cover_image_url",placeholder:"https://example.com/cover.jpg",value:R.cover_image_url,onChange:L=>D({...R,cover_image_url:L.target.value})}),R.cover_image_url&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:R.cover_image_url,alt:"Cover preview",className:"w-32 h-48 object-cover rounded-md border border-border",onError:L=>{L.currentTarget.style.display="none"}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Me,{children:"Genres *"}),e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:he,children:"+ Add Genre"})]}),e.jsx("div",{className:"space-y-2",children:R.genres.map((L,we)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ee,{value:L,onChange:Le=>_e(we,Le.target.value),placeholder:"Genre name"}),R.genres.length>1&&e.jsx(I,{type:"button",variant:"destructive",size:"sm",onClick:()=>Ne(we),children:"Remove"})]},we))})]})]}),e.jsxs(gn,{children:[e.jsx(I,{variant:"outline",onClick:()=>{xe(!1),W(null),D({title:"",summary:"",isbn:"",publish_date:"",cover_image_url:"",genres:[""]})},children:"Cancel"}),e.jsx(I,{onClick:Pe,disabled:me,children:me?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Update Book"})]})]})})]}),e.jsx(Jt,{value:"reviews",className:"space-y-6",children:Q&&Z?e.jsx(rw,{authorId:Q,authorName:S.name,isCurrentUser:!0,isUserLoggedIn:!0,ratingStats:Z,onRatingUpdate:ct}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading review data..."})]})}),e.jsx(Jt,{value:"public-page",className:"space-y-6",children:te?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs(Ke,{variant:"outline",className:"border-primary/40 text-primary bg-card/95 backdrop-blur-sm",children:[e.jsx(zf,{className:"w-3 h-3 mr-1"}),"Preview Mode"]})}),e.jsx(pw,{author:te,onBack:()=>b("overview"),onLogoClick:n,onBookSelect:L=>u?.(L.id),theme:x,onToggleTheme:p,isUserLoggedIn:!0,isFollowing:!1,currentUser:h})]}):e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading your public profile..."})]})})})]})]})]})}function z3(a){const n=B3(a),l=m.forwardRef((i,c)=>{const{children:u,...h}=i,x=m.Children.toArray(u),p=x.find(U3);if(p){const v=p.props.children,b=x.map(g=>g===p?m.Children.count(v)>1?m.Children.only(null):m.isValidElement(v)?v.props.children:null:g);return e.jsx(n,{...h,ref:c,children:m.isValidElement(v)?m.cloneElement(v,void 0,b):null})}return e.jsx(n,{...h,ref:c,children:u})});return l.displayName=`${a}.Slot`,l}function B3(a){const n=m.forwardRef((l,i)=>{const{children:c,...u}=l;if(m.isValidElement(c)){const h=I3(c),x=F3(u,c.props);return c.type!==m.Fragment&&(x.ref=i?Lr(i,h):h),m.cloneElement(c,x)}return m.Children.count(c)>1?m.Children.only(null):null});return n.displayName=`${a}.SlotClone`,n}var L3=Symbol("radix.slottable");function U3(a){return m.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===L3}function F3(a,n){const l={...n};for(const i in n){const c=a[i],u=n[i];/^on[A-Z]/.test(i)?c&&u?l[i]=(...x)=>{const p=u(...x);return c(...x),p}:c&&(l[i]=c):i==="style"?l[i]={...c,...u}:i==="className"&&(l[i]=[c,u].filter(Boolean).join(" "))}return{...a,...l}}function I3(a){let n=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?a.ref:(n=Object.getOwnPropertyDescriptor(a,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?a.props.ref:a.props.ref||a.ref)}var vw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$3="VisuallyHidden",H3=m.forwardRef((a,n)=>e.jsx(et.span,{...a,ref:n,style:{...vw,...a.style}}));H3.displayName=$3;var q3=[" ","Enter","ArrowUp","ArrowDown"],G3=[" ","Enter"],Jn="Select",[eu,tu,V3]=Ld(Jn),[nl]=oa(Jn,[V3,Kd]),su=Kd(),[Y3,bn]=nl(Jn),[X3,K3]=nl(Jn),bw=a=>{const{__scopeSelect:n,children:l,open:i,defaultOpen:c,onOpenChange:u,value:h,defaultValue:x,onValueChange:p,dir:v,name:b,autoComplete:g,disabled:j,required:w,form:C}=a,S=su(n),[E,N]=m.useState(null),[T,R]=m.useState(null),[D,_]=m.useState(!1),O=eo(v),[P,$]=Or({prop:i,defaultProp:c??!1,onChange:u,caller:Jn}),[se,xe]=Or({prop:h,defaultProp:x,onChange:p,caller:Jn}),oe=m.useRef(null),W=E?C||!!E.closest("form"):!0,[me,ue]=m.useState(new Set),ce=Array.from(me).map(A=>A.props.value).join(";");return e.jsx(xj,{...S,children:e.jsxs(Y3,{required:w,scope:n,trigger:E,onTriggerChange:N,valueNode:T,onValueNodeChange:R,valueNodeHasChildren:D,onValueNodeHasChildrenChange:_,contentId:rr(),value:se,onValueChange:xe,open:P,onOpenChange:$,dir:O,triggerPointerDownPosRef:oe,disabled:j,children:[e.jsx(eu.Provider,{scope:n,children:e.jsx(X3,{scope:a.__scopeSelect,onNativeOptionAdd:m.useCallback(A=>{ue(q=>new Set(q).add(A))},[]),onNativeOptionRemove:m.useCallback(A=>{ue(q=>{const M=new Set(q);return M.delete(A),M})},[]),children:l})}),W?e.jsxs(Iw,{"aria-hidden":!0,required:w,tabIndex:-1,name:b,autoComplete:g,value:se,onChange:A=>xe(A.target.value),disabled:j,form:C,children:[se===void 0?e.jsx("option",{value:""}):null,Array.from(me)]},ce):null]})})};bw.displayName=Jn;var yw="SelectTrigger",jw=m.forwardRef((a,n)=>{const{__scopeSelect:l,disabled:i=!1,...c}=a,u=su(l),h=bn(yw,l),x=h.disabled||i,p=it(n,h.onTriggerChange),v=tu(l),b=m.useRef("touch"),[g,j,w]=Hw(S=>{const E=v().filter(R=>!R.disabled),N=E.find(R=>R.value===h.value),T=qw(E,S,N);T!==void 0&&h.onValueChange(T.value)}),C=S=>{x||(h.onOpenChange(!0),w()),S&&(h.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return e.jsx(gj,{asChild:!0,...u,children:e.jsx(et.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:x,"data-disabled":x?"":void 0,"data-placeholder":$w(h.value)?"":void 0,...c,ref:p,onClick:Oe(c.onClick,S=>{S.currentTarget.focus(),b.current!=="mouse"&&C(S)}),onPointerDown:Oe(c.onPointerDown,S=>{b.current=S.pointerType;const E=S.target;E.hasPointerCapture(S.pointerId)&&E.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(C(S),S.preventDefault())}),onKeyDown:Oe(c.onKeyDown,S=>{const E=g.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&j(S.key),!(E&&S.key===" ")&&q3.includes(S.key)&&(C(),S.preventDefault())})})})});jw.displayName=yw;var ww="SelectValue",Nw=m.forwardRef((a,n)=>{const{__scopeSelect:l,className:i,style:c,children:u,placeholder:h="",...x}=a,p=bn(ww,l),{onValueNodeHasChildrenChange:v}=p,b=u!==void 0,g=it(n,p.onValueNodeChange);return ys(()=>{v(b)},[v,b]),e.jsx(et.span,{...x,ref:g,style:{pointerEvents:"none"},children:$w(p.value)?e.jsx(e.Fragment,{children:h}):u})});Nw.displayName=ww;var Z3="SelectIcon",Sw=m.forwardRef((a,n)=>{const{__scopeSelect:l,children:i,...c}=a;return e.jsx(et.span,{"aria-hidden":!0,...c,ref:n,children:i||""})});Sw.displayName=Z3;var Q3="SelectPortal",kw=a=>e.jsx(Td,{asChild:!0,...a});kw.displayName=Q3;var Wn="SelectContent",Cw=m.forwardRef((a,n)=>{const l=bn(Wn,a.__scopeSelect),[i,c]=m.useState();if(ys(()=>{c(new DocumentFragment)},[]),!l.open){const u=i;return u?ki.createPortal(e.jsx(Rw,{scope:a.__scopeSelect,children:e.jsx(eu.Slot,{scope:a.__scopeSelect,children:e.jsx("div",{children:a.children})})}),u):null}return e.jsx(Aw,{...a,ref:n})});Cw.displayName=Wn;var La=10,[Rw,yn]=nl(Wn),J3="SelectContentImpl",W3=z3("SelectContent.RemoveScroll"),Aw=m.forwardRef((a,n)=>{const{__scopeSelect:l,position:i="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,side:x,sideOffset:p,align:v,alignOffset:b,arrowPadding:g,collisionBoundary:j,collisionPadding:w,sticky:C,hideWhenDetached:S,avoidCollisions:E,...N}=a,T=bn(Wn,l),[R,D]=m.useState(null),[_,O]=m.useState(null),P=it(n,G=>D(G)),[$,se]=m.useState(null),[xe,oe]=m.useState(null),W=tu(l),[me,ue]=m.useState(!1),ce=m.useRef(!1);m.useEffect(()=>{if(R)return uh(R)},[R]),dh();const A=m.useCallback(G=>{const[he,...Ne]=W().map(Pe=>Pe.ref.current),[_e]=Ne.slice(-1),Be=document.activeElement;for(const Pe of G)if(Pe===Be||(Pe?.scrollIntoView({block:"nearest"}),Pe===he&&_&&(_.scrollTop=0),Pe===_e&&_&&(_.scrollTop=_.scrollHeight),Pe?.focus(),document.activeElement!==Be))return},[W,_]),q=m.useCallback(()=>A([$,R]),[A,$,R]);m.useEffect(()=>{me&&q()},[me,q]);const{onOpenChange:M,triggerPointerDownPosRef:ae}=T;m.useEffect(()=>{if(R){let G={x:0,y:0};const he=_e=>{G={x:Math.abs(Math.round(_e.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(_e.pageY)-(ae.current?.y??0))}},Ne=_e=>{G.x<=10&&G.y<=10?_e.preventDefault():R.contains(_e.target)||M(!1),document.removeEventListener("pointermove",he),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[R,M,ae]),m.useEffect(()=>{const G=()=>M(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[M]);const[ve,B]=Hw(G=>{const he=W().filter(Be=>!Be.disabled),Ne=he.find(Be=>Be.ref.current===document.activeElement),_e=qw(he,G,Ne);_e&&setTimeout(()=>_e.ref.current.focus())}),Z=m.useCallback((G,he,Ne)=>{const _e=!ce.current&&!Ne;(T.value!==void 0&&T.value===he||_e)&&(se(G),_e&&(ce.current=!0))},[T.value]),U=m.useCallback(()=>R?.focus(),[R]),Q=m.useCallback((G,he,Ne)=>{const _e=!ce.current&&!Ne;(T.value!==void 0&&T.value===he||_e)&&oe(G)},[T.value]),le=i==="popper"?Kf:_w,te=le===Kf?{side:x,sideOffset:p,align:v,alignOffset:b,arrowPadding:g,collisionBoundary:j,collisionPadding:w,sticky:C,hideWhenDetached:S,avoidCollisions:E}:{};return e.jsx(Rw,{scope:l,content:R,viewport:_,onViewportChange:O,itemRefCallback:Z,selectedItem:$,onItemLeave:U,itemTextRefCallback:Q,focusSelectedItem:q,selectedItemText:xe,position:i,isPositioned:me,searchRef:ve,children:e.jsx(Md,{as:W3,allowPinchZoom:!0,children:e.jsx(Ed,{asChild:!0,trapped:T.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Oe(c,G=>{T.trigger?.focus({preventScroll:!0}),G.preventDefault()}),children:e.jsx(_d,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:e.jsx(le,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:G=>G.preventDefault(),...N,...te,onPlaced:()=>ue(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Oe(N.onKeyDown,G=>{const he=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!he&&G.key.length===1&&B(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let _e=W().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(G.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const Be=G.target,Pe=_e.indexOf(Be);_e=_e.slice(Pe+1)}setTimeout(()=>A(_e)),G.preventDefault()}})})})})})})});Aw.displayName=J3;var eT="SelectItemAlignedPosition",_w=m.forwardRef((a,n)=>{const{__scopeSelect:l,onPlaced:i,...c}=a,u=bn(Wn,l),h=yn(Wn,l),[x,p]=m.useState(null),[v,b]=m.useState(null),g=it(n,P=>b(P)),j=tu(l),w=m.useRef(!1),C=m.useRef(!0),{viewport:S,selectedItem:E,selectedItemText:N,focusSelectedItem:T}=h,R=m.useCallback(()=>{if(u.trigger&&u.valueNode&&x&&v&&S&&E&&N){const P=u.trigger.getBoundingClientRect(),$=v.getBoundingClientRect(),se=u.valueNode.getBoundingClientRect(),xe=N.getBoundingClientRect();if(u.dir!=="rtl"){const Be=xe.left-$.left,Pe=se.left-Be,ct=P.left-Pe,Se=P.width+ct,L=Math.max(Se,$.width),we=window.innerWidth-La,Le=bi(Pe,[La,Math.max(La,we-L)]);x.style.minWidth=Se+"px",x.style.left=Le+"px"}else{const Be=$.right-xe.right,Pe=window.innerWidth-se.right-Be,ct=window.innerWidth-P.right-Pe,Se=P.width+ct,L=Math.max(Se,$.width),we=window.innerWidth-La,Le=bi(Pe,[La,Math.max(La,we-L)]);x.style.minWidth=Se+"px",x.style.right=Le+"px"}const oe=j(),W=window.innerHeight-La*2,me=S.scrollHeight,ue=window.getComputedStyle(v),ce=parseInt(ue.borderTopWidth,10),A=parseInt(ue.paddingTop,10),q=parseInt(ue.borderBottomWidth,10),M=parseInt(ue.paddingBottom,10),ae=ce+A+me+M+q,ve=Math.min(E.offsetHeight*5,ae),B=window.getComputedStyle(S),Z=parseInt(B.paddingTop,10),U=parseInt(B.paddingBottom,10),Q=P.top+P.height/2-La,le=W-Q,te=E.offsetHeight/2,G=E.offsetTop+te,he=ce+A+G,Ne=ae-he;if(he<=Q){const Be=oe.length>0&&E===oe[oe.length-1].ref.current;x.style.bottom="0px";const Pe=v.clientHeight-S.offsetTop-S.offsetHeight,ct=Math.max(le,te+(Be?U:0)+Pe+q),Se=he+ct;x.style.height=Se+"px"}else{const Be=oe.length>0&&E===oe[0].ref.current;x.style.top="0px";const ct=Math.max(Q,ce+S.offsetTop+(Be?Z:0)+te)+Ne;x.style.height=ct+"px",S.scrollTop=he-Q+S.offsetTop}x.style.margin=`${La}px 0`,x.style.minHeight=ve+"px",x.style.maxHeight=W+"px",i?.(),requestAnimationFrame(()=>w.current=!0)}},[j,u.trigger,u.valueNode,x,v,S,E,N,u.dir,i]);ys(()=>R(),[R]);const[D,_]=m.useState();ys(()=>{v&&_(window.getComputedStyle(v).zIndex)},[v]);const O=m.useCallback(P=>{P&&C.current===!0&&(R(),T?.(),C.current=!1)},[R,T]);return e.jsx(sT,{scope:l,contentWrapper:x,shouldExpandOnScrollRef:w,onScrollButtonChange:O,children:e.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:e.jsx(et.div,{...c,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});_w.displayName=eT;var tT="SelectPopperPosition",Kf=m.forwardRef((a,n)=>{const{__scopeSelect:l,align:i="start",collisionPadding:c=La,...u}=a,h=su(l);return e.jsx(pj,{...h,...u,ref:n,align:i,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kf.displayName=tT;var[sT,Xh]=nl(Wn,{}),Zf="SelectViewport",Ew=m.forwardRef((a,n)=>{const{__scopeSelect:l,nonce:i,...c}=a,u=yn(Zf,l),h=Xh(Zf,l),x=it(n,u.onViewportChange),p=m.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(eu.Slot,{scope:l,children:e.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:x,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:Oe(c.onScroll,v=>{const b=v.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:j}=h;if(j?.current&&g){const w=Math.abs(p.current-b.scrollTop);if(w>0){const C=window.innerHeight-La*2,S=parseFloat(g.style.minHeight),E=parseFloat(g.style.height),N=Math.max(S,E);if(N<C){const T=N+w,R=Math.min(C,T),D=T-R;g.style.height=R+"px",g.style.bottom==="0px"&&(b.scrollTop=D>0?D:0,g.style.justifyContent="flex-end")}}}p.current=b.scrollTop})})})]})});Ew.displayName=Zf;var Tw="SelectGroup",[aT,rT]=nl(Tw),nT=m.forwardRef((a,n)=>{const{__scopeSelect:l,...i}=a,c=rr();return e.jsx(aT,{scope:l,id:c,children:e.jsx(et.div,{role:"group","aria-labelledby":c,...i,ref:n})})});nT.displayName=Tw;var Dw="SelectLabel",oT=m.forwardRef((a,n)=>{const{__scopeSelect:l,...i}=a,c=rT(Dw,l);return e.jsx(et.div,{id:c.id,...i,ref:n})});oT.displayName=Dw;var Sd="SelectItem",[lT,Mw]=nl(Sd),Ow=m.forwardRef((a,n)=>{const{__scopeSelect:l,value:i,disabled:c=!1,textValue:u,...h}=a,x=bn(Sd,l),p=yn(Sd,l),v=x.value===i,[b,g]=m.useState(u??""),[j,w]=m.useState(!1),C=it(n,T=>p.itemRefCallback?.(T,i,c)),S=rr(),E=m.useRef("touch"),N=()=>{c||(x.onValueChange(i),x.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(lT,{scope:l,value:i,disabled:c,textId:S,isSelected:v,onItemTextChange:m.useCallback(T=>{g(R=>R||(T?.textContent??"").trim())},[]),children:e.jsx(eu.ItemSlot,{scope:l,value:i,disabled:c,textValue:b,children:e.jsx(et.div,{role:"option","aria-labelledby":S,"data-highlighted":j?"":void 0,"aria-selected":v&&j,"data-state":v?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...h,ref:C,onFocus:Oe(h.onFocus,()=>w(!0)),onBlur:Oe(h.onBlur,()=>w(!1)),onClick:Oe(h.onClick,()=>{E.current!=="mouse"&&N()}),onPointerUp:Oe(h.onPointerUp,()=>{E.current==="mouse"&&N()}),onPointerDown:Oe(h.onPointerDown,T=>{E.current=T.pointerType}),onPointerMove:Oe(h.onPointerMove,T=>{E.current=T.pointerType,c?p.onItemLeave?.():E.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(h.onPointerLeave,T=>{T.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Oe(h.onKeyDown,T=>{p.searchRef?.current!==""&&T.key===" "||(G3.includes(T.key)&&N(),T.key===" "&&T.preventDefault())})})})})});Ow.displayName=Sd;var fi="SelectItemText",Pw=m.forwardRef((a,n)=>{const{__scopeSelect:l,className:i,style:c,...u}=a,h=bn(fi,l),x=yn(fi,l),p=Mw(fi,l),v=K3(fi,l),[b,g]=m.useState(null),j=it(n,N=>g(N),p.onItemTextChange,N=>x.itemTextRefCallback?.(N,p.value,p.disabled)),w=b?.textContent,C=m.useMemo(()=>e.jsx("option",{value:p.value,disabled:p.disabled,children:w},p.value),[p.disabled,p.value,w]),{onNativeOptionAdd:S,onNativeOptionRemove:E}=v;return ys(()=>(S(C),()=>E(C)),[S,E,C]),e.jsxs(e.Fragment,{children:[e.jsx(et.span,{id:p.textId,...u,ref:j}),p.isSelected&&h.valueNode&&!h.valueNodeHasChildren?ki.createPortal(u.children,h.valueNode):null]})});Pw.displayName=fi;var zw="SelectItemIndicator",Bw=m.forwardRef((a,n)=>{const{__scopeSelect:l,...i}=a;return Mw(zw,l).isSelected?e.jsx(et.span,{"aria-hidden":!0,...i,ref:n}):null});Bw.displayName=zw;var Qf="SelectScrollUpButton",Lw=m.forwardRef((a,n)=>{const l=yn(Qf,a.__scopeSelect),i=Xh(Qf,a.__scopeSelect),[c,u]=m.useState(!1),h=it(n,i.onScrollButtonChange);return ys(()=>{if(l.viewport&&l.isPositioned){let x=function(){const v=p.scrollTop>0;u(v)};const p=l.viewport;return x(),p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[l.viewport,l.isPositioned]),c?e.jsx(Fw,{...a,ref:h,onAutoScroll:()=>{const{viewport:x,selectedItem:p}=l;x&&p&&(x.scrollTop=x.scrollTop-p.offsetHeight)}}):null});Lw.displayName=Qf;var Jf="SelectScrollDownButton",Uw=m.forwardRef((a,n)=>{const l=yn(Jf,a.__scopeSelect),i=Xh(Jf,a.__scopeSelect),[c,u]=m.useState(!1),h=it(n,i.onScrollButtonChange);return ys(()=>{if(l.viewport&&l.isPositioned){let x=function(){const v=p.scrollHeight-p.clientHeight,b=Math.ceil(p.scrollTop)<v;u(b)};const p=l.viewport;return x(),p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[l.viewport,l.isPositioned]),c?e.jsx(Fw,{...a,ref:h,onAutoScroll:()=>{const{viewport:x,selectedItem:p}=l;x&&p&&(x.scrollTop=x.scrollTop+p.offsetHeight)}}):null});Uw.displayName=Jf;var Fw=m.forwardRef((a,n)=>{const{__scopeSelect:l,onAutoScroll:i,...c}=a,u=yn("SelectScrollButton",l),h=m.useRef(null),x=tu(l),p=m.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return m.useEffect(()=>()=>p(),[p]),ys(()=>{x().find(b=>b.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[x]),e.jsx(et.div,{"aria-hidden":!0,...c,ref:n,style:{flexShrink:0,...c.style},onPointerDown:Oe(c.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(i,50))}),onPointerMove:Oe(c.onPointerMove,()=>{u.onItemLeave?.(),h.current===null&&(h.current=window.setInterval(i,50))}),onPointerLeave:Oe(c.onPointerLeave,()=>{p()})})}),iT="SelectSeparator",cT=m.forwardRef((a,n)=>{const{__scopeSelect:l,...i}=a;return e.jsx(et.div,{"aria-hidden":!0,...i,ref:n})});cT.displayName=iT;var Wf="SelectArrow",dT=m.forwardRef((a,n)=>{const{__scopeSelect:l,...i}=a,c=su(l),u=bn(Wf,l),h=yn(Wf,l);return u.open&&h.position==="popper"?e.jsx(vj,{...c,...i,ref:n}):null});dT.displayName=Wf;var uT="SelectBubbleInput",Iw=m.forwardRef(({__scopeSelect:a,value:n,...l},i)=>{const c=m.useRef(null),u=it(i,c),h=Fd(n);return m.useEffect(()=>{const x=c.current;if(!x)return;const p=window.HTMLSelectElement.prototype,b=Object.getOwnPropertyDescriptor(p,"value").set;if(h!==n&&b){const g=new Event("change",{bubbles:!0});b.call(x,n),x.dispatchEvent(g)}},[h,n]),e.jsx(et.select,{...l,style:{...vw,...l.style},ref:u,defaultValue:n})});Iw.displayName=uT;function $w(a){return a===""||a===void 0}function Hw(a){const n=Os(a),l=m.useRef(""),i=m.useRef(0),c=m.useCallback(h=>{const x=l.current+h;n(x),(function p(v){l.current=v,window.clearTimeout(i.current),v!==""&&(i.current=window.setTimeout(()=>p(""),1e3))})(x)},[n]),u=m.useCallback(()=>{l.current="",window.clearTimeout(i.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(i.current),[]),[l,c,u]}function qw(a,n,l){const c=n.length>1&&Array.from(n).every(v=>v===n[0])?n[0]:n,u=l?a.indexOf(l):-1;let h=mT(a,Math.max(u,0));c.length===1&&(h=h.filter(v=>v!==l));const p=h.find(v=>v.textValue.toLowerCase().startsWith(c.toLowerCase()));return p!==l?p:void 0}function mT(a,n){return a.map((l,i)=>a[(n+i)%a.length])}var fT=bw,hT=jw,xT=Nw,gT=Sw,pT=kw,vT=Cw,bT=Ew,yT=Ow,jT=Pw,wT=Bw,NT=Lw,ST=Uw;function kT({...a}){return e.jsx(fT,{"data-slot":"select",...a})}function CT({...a}){return e.jsx(xT,{"data-slot":"select-value",...a})}function RT({className:a,size:n="default",children:l,...i}){return e.jsxs(hT,{"data-slot":"select-trigger","data-size":n,className:Fe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...i,children:[l,e.jsx(gT,{asChild:!0,children:e.jsx(Gb,{className:"size-4 opacity-50"})})]})}function AT({className:a,children:n,position:l="popper",...i}){return e.jsx(pT,{children:e.jsxs(vT,{"data-slot":"select-content",className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",l==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[e.jsx(_T,{}),e.jsx(bT,{className:Fe("p-1",l==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(ET,{})]})})}function Ub({className:a,children:n,...l}){return e.jsxs(yT,{"data-slot":"select-item",className:Fe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...l,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(wT,{children:e.jsx(Ss,{className:"size-4"})})}),e.jsx(jT,{children:n})]})}function _T({className:a,...n}){return e.jsx(NT,{"data-slot":"select-scroll-up-button",className:Fe("flex cursor-default items-center justify-center py-1",a),...n,children:e.jsx($2,{className:"size-4"})})}function ET({className:a,...n}){return e.jsx(ST,{"data-slot":"select-scroll-down-button",className:Fe("flex cursor-default items-center justify-center py-1",a),...n,children:e.jsx(Gb,{className:"size-4"})})}var Gw=["PageUp","PageDown"],Vw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ol="Slider",[eh,TT,DT]=Ld(ol),[Xw]=oa(ol,[DT]),[MT,au]=Xw(ol),Kw=m.forwardRef((a,n)=>{const{name:l,min:i=0,max:c=100,step:u=1,orientation:h="horizontal",disabled:x=!1,minStepsBetweenThumbs:p=0,defaultValue:v=[i],value:b,onValueChange:g=()=>{},onValueCommit:j=()=>{},inverted:w=!1,form:C,...S}=a,E=m.useRef(new Set),N=m.useRef(0),R=h==="horizontal"?OT:PT,[D=[],_]=Or({prop:b,defaultProp:v,onChange:oe=>{[...E.current][N.current]?.focus(),g(oe)}}),O=m.useRef(D);function P(oe){const W=FT(D,oe);xe(oe,W)}function $(oe){xe(oe,N.current)}function se(){const oe=O.current[N.current];D[N.current]!==oe&&j(D)}function xe(oe,W,{commit:me}={commit:!1}){const ue=qT(u),ce=GT(Math.round((oe-i)/u)*u+i,ue),A=bi(ce,[i,c]);_((q=[])=>{const M=LT(q,A,W);if(HT(M,p*u)){N.current=M.indexOf(A);const ae=String(M)!==String(q);return ae&&me&&j(M),ae?M:q}else return q})}return e.jsx(MT,{scope:a.__scopeSlider,name:l,disabled:x,min:i,max:c,valueIndexToChangeRef:N,thumbs:E.current,values:D,orientation:h,form:C,children:e.jsx(eh.Provider,{scope:a.__scopeSlider,children:e.jsx(eh.Slot,{scope:a.__scopeSlider,children:e.jsx(R,{"aria-disabled":x,"data-disabled":x?"":void 0,...S,ref:n,onPointerDown:Oe(S.onPointerDown,()=>{x||(O.current=D)}),min:i,max:c,inverted:w,onSlideStart:x?void 0:P,onSlideMove:x?void 0:$,onSlideEnd:x?void 0:se,onHomeKeyDown:()=>!x&&xe(i,0,{commit:!0}),onEndKeyDown:()=>!x&&xe(c,D.length-1,{commit:!0}),onStepKeyDown:({event:oe,direction:W})=>{if(!x){const ce=Gw.includes(oe.key)||oe.shiftKey&&Vw.includes(oe.key)?10:1,A=N.current,q=D[A],M=u*ce*W;xe(q+M,A,{commit:!0})}}})})})})});Kw.displayName=ol;var[Zw,Qw]=Xw(ol,{startEdge:"left",endEdge:"right",size:"width",direction:1}),OT=m.forwardRef((a,n)=>{const{min:l,max:i,dir:c,inverted:u,onSlideStart:h,onSlideMove:x,onSlideEnd:p,onStepKeyDown:v,...b}=a,[g,j]=m.useState(null),w=it(n,R=>j(R)),C=m.useRef(void 0),S=eo(c),E=S==="ltr",N=E&&!u||!E&&u;function T(R){const D=C.current||g.getBoundingClientRect(),_=[0,D.width],P=Kh(_,N?[l,i]:[i,l]);return C.current=D,P(R-D.left)}return e.jsx(Zw,{scope:a.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:e.jsx(Jw,{dir:S,"data-orientation":"horizontal",...b,ref:w,style:{...b.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:R=>{const D=T(R.clientX);h?.(D)},onSlideMove:R=>{const D=T(R.clientX);x?.(D)},onSlideEnd:()=>{C.current=void 0,p?.()},onStepKeyDown:R=>{const _=Yw[N?"from-left":"from-right"].includes(R.key);v?.({event:R,direction:_?-1:1})}})})}),PT=m.forwardRef((a,n)=>{const{min:l,max:i,inverted:c,onSlideStart:u,onSlideMove:h,onSlideEnd:x,onStepKeyDown:p,...v}=a,b=m.useRef(null),g=it(n,b),j=m.useRef(void 0),w=!c;function C(S){const E=j.current||b.current.getBoundingClientRect(),N=[0,E.height],R=Kh(N,w?[i,l]:[l,i]);return j.current=E,R(S-E.top)}return e.jsx(Zw,{scope:a.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:e.jsx(Jw,{"data-orientation":"vertical",...v,ref:g,style:{...v.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const E=C(S.clientY);u?.(E)},onSlideMove:S=>{const E=C(S.clientY);h?.(E)},onSlideEnd:()=>{j.current=void 0,x?.()},onStepKeyDown:S=>{const N=Yw[w?"from-bottom":"from-top"].includes(S.key);p?.({event:S,direction:N?-1:1})}})})}),Jw=m.forwardRef((a,n)=>{const{__scopeSlider:l,onSlideStart:i,onSlideMove:c,onSlideEnd:u,onHomeKeyDown:h,onEndKeyDown:x,onStepKeyDown:p,...v}=a,b=au(ol,l);return e.jsx(et.span,{...v,ref:n,onKeyDown:Oe(a.onKeyDown,g=>{g.key==="Home"?(h(g),g.preventDefault()):g.key==="End"?(x(g),g.preventDefault()):Gw.concat(Vw).includes(g.key)&&(p(g),g.preventDefault())}),onPointerDown:Oe(a.onPointerDown,g=>{const j=g.target;j.setPointerCapture(g.pointerId),g.preventDefault(),b.thumbs.has(j)?j.focus():i(g)}),onPointerMove:Oe(a.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&c(g)}),onPointerUp:Oe(a.onPointerUp,g=>{const j=g.target;j.hasPointerCapture(g.pointerId)&&(j.releasePointerCapture(g.pointerId),u(g))})})}),Ww="SliderTrack",eN=m.forwardRef((a,n)=>{const{__scopeSlider:l,...i}=a,c=au(Ww,l);return e.jsx(et.span,{"data-disabled":c.disabled?"":void 0,"data-orientation":c.orientation,...i,ref:n})});eN.displayName=Ww;var th="SliderRange",tN=m.forwardRef((a,n)=>{const{__scopeSlider:l,...i}=a,c=au(th,l),u=Qw(th,l),h=m.useRef(null),x=it(n,h),p=c.values.length,v=c.values.map(j=>rN(j,c.min,c.max)),b=p>1?Math.min(...v):0,g=100-Math.max(...v);return e.jsx(et.span,{"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,...i,ref:x,style:{...a.style,[u.startEdge]:b+"%",[u.endEdge]:g+"%"}})});tN.displayName=th;var sh="SliderThumb",sN=m.forwardRef((a,n)=>{const l=TT(a.__scopeSlider),[i,c]=m.useState(null),u=it(n,x=>c(x)),h=m.useMemo(()=>i?l().findIndex(x=>x.ref.current===i):-1,[l,i]);return e.jsx(zT,{...a,ref:u,index:h})}),zT=m.forwardRef((a,n)=>{const{__scopeSlider:l,index:i,name:c,...u}=a,h=au(sh,l),x=Qw(sh,l),[p,v]=m.useState(null),b=it(n,T=>v(T)),g=p?h.form||!!p.closest("form"):!0,j=Id(p),w=h.values[i],C=w===void 0?0:rN(w,h.min,h.max),S=UT(i,h.values.length),E=j?.[x.size],N=E?IT(E,C,x.direction):0;return m.useEffect(()=>{if(p)return h.thumbs.add(p),()=>{h.thumbs.delete(p)}},[p,h.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[x.startEdge]:`calc(${C}% + ${N}px)`},children:[e.jsx(eh.ItemSlot,{scope:a.__scopeSlider,children:e.jsx(et.span,{role:"slider","aria-label":a["aria-label"]||S,"aria-valuemin":h.min,"aria-valuenow":w,"aria-valuemax":h.max,"aria-orientation":h.orientation,"data-orientation":h.orientation,"data-disabled":h.disabled?"":void 0,tabIndex:h.disabled?void 0:0,...u,ref:b,style:w===void 0?{display:"none"}:a.style,onFocus:Oe(a.onFocus,()=>{h.valueIndexToChangeRef.current=i})})}),g&&e.jsx(aN,{name:c??(h.name?h.name+(h.values.length>1?"[]":""):void 0),form:h.form,value:w},i)]})});sN.displayName=sh;var BT="RadioBubbleInput",aN=m.forwardRef(({__scopeSlider:a,value:n,...l},i)=>{const c=m.useRef(null),u=it(c,i),h=Fd(n);return m.useEffect(()=>{const x=c.current;if(!x)return;const p=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(p,"value").set;if(h!==n&&b){const g=new Event("input",{bubbles:!0});b.call(x,n),x.dispatchEvent(g)}},[h,n]),e.jsx(et.input,{style:{display:"none"},...l,ref:u,defaultValue:n})});aN.displayName=BT;function LT(a=[],n,l){const i=[...a];return i[l]=n,i.sort((c,u)=>c-u)}function rN(a,n,l){const u=100/(l-n)*(a-n);return bi(u,[0,100])}function UT(a,n){return n>2?`Value ${a+1} of ${n}`:n===2?["Minimum","Maximum"][a]:void 0}function FT(a,n){if(a.length===1)return 0;const l=a.map(c=>Math.abs(c-n)),i=Math.min(...l);return l.indexOf(i)}function IT(a,n,l){const i=a/2,u=Kh([0,50],[0,i]);return(i-u(n)*l)*l}function $T(a){return a.slice(0,-1).map((n,l)=>a[l+1]-n)}function HT(a,n){if(n>0){const l=$T(a);return Math.min(...l)>=n}return!0}function Kh(a,n){return l=>{if(a[0]===a[1]||n[0]===n[1])return n[0];const i=(n[1]-n[0])/(a[1]-a[0]);return n[0]+i*(l-a[0])}}function qT(a){return(String(a).split(".")[1]||"").length}function GT(a,n){const l=Math.pow(10,n);return Math.round(a*l)/l}var VT=Kw,YT=eN,XT=tN,KT=sN;function ZT({className:a,defaultValue:n,value:l,min:i=0,max:c=100,...u}){const h=m.useMemo(()=>Array.isArray(l)?l:Array.isArray(n)?n:[i,c],[l,n,i,c]);return e.jsxs(VT,{"data-slot":"slider",defaultValue:n,value:l,min:i,max:c,className:Fe("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",a),...u,children:[e.jsx(YT,{"data-slot":"slider-track",className:Fe("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(XT,{"data-slot":"slider-range",className:Fe("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:h.length},(x,p)=>e.jsx(KT,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},p))]})}function QT({...a}){return e.jsx(xh,{"data-slot":"sheet",...a})}function JT({...a}){return e.jsx(gh,{"data-slot":"sheet-trigger",...a})}function WT({...a}){return e.jsx(ph,{"data-slot":"sheet-portal",...a})}function eD({className:a,...n}){return e.jsx(Pd,{"data-slot":"sheet-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...n})}function tD({className:a,children:n,side:l="right",...i}){return e.jsxs(WT,{children:[e.jsx(eD,{}),e.jsxs(zd,{"data-slot":"sheet-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",l==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",l==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",l==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",l==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",a),...i,children:[n,e.jsxs(Bd,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(Fa,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function sD({className:a,...n}){return e.jsx("div",{"data-slot":"sheet-header",className:Fe("flex flex-col gap-1.5 p-4",a),...n})}function aD({className:a,...n}){return e.jsx(vh,{"data-slot":"sheet-title",className:Fe("text-foreground font-semibold",a),...n})}function rD({className:a,...n}){return e.jsx(bh,{"data-slot":"sheet-description",className:Fe("text-muted-foreground text-sm",a),...n})}function nD({className:a,...n}){return e.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:Fe("mx-auto flex w-full justify-center",a),...n})}function oD({className:a,...n}){return e.jsx("ul",{"data-slot":"pagination-content",className:Fe("flex flex-row items-center gap-1",a),...n})}function Pf({...a}){return e.jsx("li",{"data-slot":"pagination-item",...a})}function Zh({className:a,isActive:n,size:l="icon",...i}){return e.jsx("a",{"aria-current":n?"page":void 0,"data-slot":"pagination-link","data-active":n,className:Fe(Ad({variant:n?"outline":"ghost",size:l}),a),...i})}function lD({className:a,...n}){return e.jsxs(Zh,{"aria-label":"Go to previous page",size:"default",className:Fe("gap-1 px-2.5 sm:pl-2.5",a),...n,children:[e.jsx(Cd,{}),e.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function iD({className:a,...n}){return e.jsxs(Zh,{"aria-label":"Go to next page",size:"default",className:Fe("gap-1 px-2.5 sm:pr-2.5",a),...n,children:[e.jsx("span",{className:"hidden sm:block",children:"Next"}),e.jsx(Vb,{})]})}function cD({className:a,...n}){return e.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:Fe("flex size-9 items-center justify-center",a),...n,children:[e.jsx(aS,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"More pages"})]})}const ao="https://nhjdde9qxc.execute-api.us-east-1.amazonaws.com/prod/books";async function ro(){const a={"Content-Type":"application/json"},n=ar.getIdToken();return n&&(a.Authorization=`Bearer ${n}`),a}async function dD(){try{const a=await ro(),n=await fetch(ao,{headers:a});if(!n.ok){const i=await n.text();throw console.error("API Error Response:",i),new Error(`Failed to fetch books: ${n.status} ${n.statusText}`)}return(await n.json()).map(i=>({id:i.id||i.book_id,title:i.title,author:i.author,rating:i.rating||i.average_rating||0,totalRatings:i.totalRatings||i.total_ratings||i.reviews||0,reviews:i.reviews||i.totalRatings||i.total_ratings||0,cover:i.cover||i.coverUrl||i.cover_image_url||"",coverUrl:i.coverUrl||i.cover||i.cover_image_url||"",genre:i.genre||"Unknown",description:i.description||i.summary||"",publishYear:i.publishYear||i.publish_year||new Date().getFullYear(),isTrending:i.isTrending||i.is_trending||!1}))}catch(a){throw console.error("Error in getAllBooks:",a),a}}async function Fb(a){const n=Number(a);if(!Number.isInteger(n))throw console.error(" Invalid book ID passed to getBookById:",a),new Error("Invalid book ID");const l=await ro();console.log(" Fetching book with numeric ID:",n);const i=await fetch(`${ao}/${n}`,{headers:l});if(!i.ok){const u=await i.text();throw console.error("API Error Response:",u),new Error(`Failed to fetch book: ${i.status}`)}const c=await i.json();return{id:c.id,title:c.title,author:c.author,rating:c.rating||0,totalRatings:c.totalRatings||0,reviews:c.reviews||0,cover:c.cover||c.coverUrl||"",coverUrl:c.coverUrl||c.cover||"",genre:c.genre||"Unknown",description:c.description||"",publishYear:c.publishYear||new Date().getFullYear(),isTrending:c.isTrending||!1}}async function ah(a){try{const n=await ro(),l=await fetch(`${ao}/${a}/reviews`,{headers:n});if(!l.ok){if(l.status===404)return console.warn("Reviews endpoint not implemented yet"),[];throw new Error(`Failed to fetch reviews: ${l.status}`)}return await l.json()}catch(n){return console.error("Error fetching reviews:",n),[]}}async function uD(a){try{const n=await ro(),l=await fetch(`${ao}/${a}/stores`,{headers:n});if(!l.ok){if(l.status===404)return console.warn("Stores endpoint not implemented yet"),[];throw new Error(`Failed to fetch stores: ${l.status}`)}return await l.json()}catch(n){return console.error("Error fetching stores:",n),[]}}async function mD(a,n){console.log(` Rating book ${a} with ${n} stars`);const l=await ro();if(!l.Authorization)throw console.error(" No authentication token available"),new Error("Authentication required. Please log in.");console.log(" Sending request with auth token");const i=await fetch(`${ao}/${a}/ratings`,{method:"POST",headers:l,body:JSON.stringify({rating:n})});if(!i.ok){const c=await i.text();console.error(" Rating failed:",c);let u=`Failed to submit rating: ${c}`;try{u=JSON.parse(c).message||u}catch{}throw new Error(u)}console.log(" Rating submitted successfully")}async function fD(a){console.log(` Fetching user's rating for book ${a}`);const n=await ro();if(!n.Authorization)return console.log(" No auth token - user not logged in"),null;try{const l=await fetch(`${ao}/${a}/ratings`,{method:"GET",headers:n});if(l.status===404)return console.log(" User hasn't rated this book yet"),null;if(!l.ok){const u=await l.text();throw console.error(" Failed to fetch user rating:",u),new Error(`Failed to fetch rating: ${l.status}`)}const i=await l.json(),c=i.rating?.rating_value||i.rating_value||null;return c!==null&&console.log(` User's rating: ${c}`),c}catch(l){return console.error("Error fetching user rating:",l),null}}async function hD(a,n,l){console.log(` Submitting review for book ${a}`);const i=await ro();if(!i.Authorization)throw console.error(" No authentication token available"),new Error("Authentication required. Please log in.");console.log(" Sending request with auth token");const c=await fetch(`${ao}/${a}/reviews`,{method:"POST",headers:i,body:JSON.stringify({rating:n,reviewText:l})});if(!c.ok){const u=await c.text();console.error(" Review submission failed:",u);let h=`Failed to submit review: ${u}`;try{h=JSON.parse(u).message||h}catch{}throw new Error(h)}console.log(" Review submitted successfully")}function xD({onBack:a,onBookSelect:n,onAuthorSelect:l,onUserSelect:i,onGenresClick:c,initialSearchType:u="books",mockUsers:h=[],theme:x,onToggleTheme:p,isUserLoggedIn:v=!1,onLoginRequired:b}){const[g,j]=m.useState(""),[w,C]=m.useState(u),[S,E]=m.useState("grid"),[N,T]=m.useState(1),[R,D]=m.useState([]),[_,O]=m.useState("all"),[P,$]=m.useState([0]),[se,xe]=m.useState("popular"),oe=12,[W,me]=m.useState([]),[ue,ce]=m.useState(!0);m.useEffect(()=>{ce(!0),dD().then(ee=>{me(ee)}).catch(ee=>{console.error("Failed to fetch books:",ee),K.error("Failed to load books")}).finally(()=>ce(!1))},[]);const[A,q]=m.useState([]),[M,ae]=m.useState(!1),[ve,B]=m.useState(null),[Z,U]=m.useState([]),[Q,le]=m.useState(!1);m.useEffect(()=>{if(w!=="users"){q([]),ae(!1);return}if(g.trim().length<2){q([]),ae(!1);return}ae(!0);const ee=setTimeout(async()=>{try{const Qe=await Ce.searchUsers({q:g.trim(),limit:20,include_private:!1});w==="users"&&q(Qe.users.map(ke=>({id:ke.id,username:ke.displayName||ke.username,avatarUrl:ke.avatarUrl,bio:ke.bio,isPrivate:ke.isPrivate,stats:{totalReviews:ke.stats.totalReviews,booksRead:ke.stats.booksRead,followers:ke.stats.followers}})))}catch(Qe){console.error("Error searching users:",Qe),K.error("Failed to search users"),q([])}finally{w==="users"&&ae(!1)}},500);return()=>clearTimeout(ee)},[g,w]);const te=w==="users"?A:[],G=[...new Set(W.map(ee=>ee.genre).filter(Boolean))].sort(),he=[...new Set(W.map(ee=>ee.author))].sort(),Ne=w==="authors"?Z:[];m.useEffect(()=>{if(w!=="authors"){U([]),le(!1);return}if(g.trim().length<2){U([]),le(!1);return}le(!0);const ee=setTimeout(async()=>{try{console.log(` Searching authors with query: "${g.trim()}"`);const Qe=await Ce.searchAuthors({q:g.trim(),limit:20});if(console.log(" Search response:",Qe),w==="authors"){const ke=Qe.authors.map(Ue=>({id:Ue.id,name:Ue.name,bio:Ue.bio||"No bio available",verified:Ue.verified,avatarUrl:Ue.avatarUrl||"/placeholder-avatar.png",authorType:Ue.authorType?"registered":"external",stats:{totalBooks:Ue.stats.totalBooks,followers:Ue.stats.followers}}));console.log(" Mapped authors for display:",ke),U(ke)}}catch(Qe){console.error(" Error searching authors:",Qe),K.error("Failed to search authors"),U([])}finally{w==="authors"&&le(!1)}},500);return()=>clearTimeout(ee)},[g,w]);let _e=W;g&&w==="books"&&(_e=_e.filter(ee=>ee.title.toLowerCase().includes(g.toLowerCase())||ee.author.toLowerCase().includes(g.toLowerCase()))),R.length>0&&(_e=_e.filter(ee=>R.includes(ee.genre))),_!=="all"&&(_e=_e.filter(ee=>ee.author===_)),P[0]>0&&(_e=_e.filter(ee=>ee.rating>=P[0]));const Be=[..._e].sort((ee,Qe)=>{switch(se){case"rating":return Qe.rating-ee.rating;case"newest":return Qe.publishYear-ee.publishYear;case"title":return ee.title.localeCompare(Qe.title);default:return Qe.rating-ee.rating}}),Pe=Math.ceil(Be.length/oe),ct=(N-1)*oe,Se=Be.slice(ct,ct+oe),L=ee=>{D(Qe=>Qe.includes(ee)?Qe.filter(ke=>ke!==ee):[...Qe,ee]),T(1)},we=()=>{D([]),O("all"),$([0]),xe("popular"),j(""),T(1)},Le=R.length>0||_!=="all"||P[0]>0||g!=="";return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{variant:"ghost",onClick:a,children:e.jsx(Cd,{className:"w-4 h-4"})}),e.jsx(Vs,{})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(js,{theme:x,onToggle:p})})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Browse Books"}),e.jsxs("p",{className:"text-muted-foreground",children:["Explore our collection of ",W.length," amazing books"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(I,{variant:w==="books"?"default":"ghost",onClick:()=>{C("books"),j(""),T(1)},className:"gap-2",children:[e.jsx(Mr,{className:"w-4 h-4"}),"Books"]}),e.jsxs(I,{variant:w==="authors"?"default":"ghost",onClick:()=>{C("authors"),j(""),T(1)},className:"gap-2",children:[e.jsx(qs,{className:"w-4 h-4"}),"Authors"]}),e.jsxs(I,{variant:w==="users"?"default":"ghost",onClick:()=>{C("users"),j(""),T(1)},className:"gap-2",children:[e.jsx(qs,{className:"w-4 h-4"}),"Users"]}),e.jsxs(I,{variant:"ghost",onClick:c,className:"gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),"Genres"]})]})}),e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),e.jsx(Ee,{placeholder:"Search by title, author, or description...",value:g,onChange:ee=>j(ee.target.value),className:"pl-10"})]}),w==="books"&&e.jsxs(e.Fragment,{children:[e.jsxs(QT,{children:[e.jsx(JT,{asChild:!0,children:e.jsxs(I,{variant:"outline",children:[e.jsx(YS,{className:"w-4 h-4 mr-2"}),"Filters",Le&&e.jsx(Ke,{variant:"secondary",className:"ml-2",children:"Active"})]})}),e.jsxs(tD,{children:[e.jsxs(sD,{children:[e.jsx(aD,{children:"Filter Books"}),e.jsx(rD,{children:"Refine your search with these filters"})]}),e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsxs("div",{children:[e.jsx(Me,{className:"mb-3 block",children:"Genres"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:G.map(ee=>e.jsx(Ke,{variant:R.includes(ee)?"default":"outline",className:"cursor-pointer",onClick:()=>L(ee),children:ee},ee))})]}),e.jsx(Lt,{}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"author-select",children:"Author"}),e.jsxs(kT,{value:_,onValueChange:O,children:[e.jsx(RT,{id:"author-select",children:e.jsx(CT,{})}),e.jsxs(AT,{children:[e.jsx(Ub,{value:"all",children:"All Authors"}),he.map(ee=>e.jsx(Ub,{value:ee,children:ee},ee))]})]})]}),e.jsx(Lt,{}),e.jsxs("div",{children:[e.jsxs(Me,{className:"mb-3 block",children:["Minimum Rating: ",P[0]]}),e.jsx(ZT,{value:P,onValueChange:$,max:5,step:.5,className:"mb-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:"5"})]})]}),e.jsx(I,{variant:"outline",onClick:we,className:"w-full",children:"Clear All Filters"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:S==="grid"?"default":"outline",size:"icon",onClick:()=>E("grid"),children:e.jsx(hS,{className:"w-4 h-4"})}),e.jsx(I,{variant:S==="list"?"default":"outline",size:"icon",onClick:()=>E("list"),children:e.jsx(Go,{className:"w-4 h-4"})})]})]})]}),w==="books"&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sort by:"}),e.jsx("div",{className:"flex gap-2",children:[{value:"popular",label:"Popular"},{value:"rating",label:"Rating"},{value:"newest",label:"Newest"},{value:"title",label:"Title"}].map(ee=>e.jsx(I,{variant:se===ee.value?"default":"ghost",size:"sm",onClick:()=>{xe(ee.value),T(1)},children:ee.label},ee.value))})]}),w==="books"&&Le&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),R.map(ee=>e.jsxs(Ke,{variant:"secondary",children:[ee,e.jsx(Fa,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>L(ee)})]},ee)),_!=="all"&&e.jsxs(Ke,{variant:"secondary",children:[_,e.jsx(Fa,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>O("all")})]}),P[0]>0&&e.jsxs(Ke,{variant:"secondary",children:["Rating: ",P[0],"+",e.jsx(Fa,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>$([0])})]}),g&&e.jsxs(Ke,{variant:"secondary",children:["Search: ",g,e.jsx(Fa,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>j("")})]}),e.jsx(I,{variant:"ghost",size:"sm",onClick:we,children:"Clear All"})]})]}),w==="books"&&e.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:Be.length===W.length?`Showing all ${W.length} books`:`Found ${Be.length} of ${W.length} books`}),w==="authors"&&e.jsx("div",{className:"space-y-4 mb-8",children:Q?e.jsx(ye,{className:"p-12 text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Searching authors..."})}):Ne.length>0?Ne.map((ee,Qe)=>(console.log(" Author card data:",{id:ee.id,name:ee.name,authorType:ee.authorType,type:typeof ee.id}),e.jsx(ye,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>{console.log(" Author card clicked:",{id:ee.id,name:ee.name,authorType:ee.authorType}),l&&l({id:ee.id,authorType:ee.authorType||"registered"})},children:e.jsxs("div",{className:"flex items-center gap-4 p-6",children:[e.jsxs(as,{className:"w-16 h-16",children:[e.jsx(vs,{src:ee.avatarUrl}),e.jsx(rs,{children:ee.name.split(" ").map(ke=>ke[0]).join("")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-xl",children:ee.name}),ee.verified&&e.jsx(Ke,{variant:"outline",className:"border-primary/40 text-primary",children:"Verified"}),ee.authorType==="external"&&e.jsx(Ke,{variant:"outline",className:"border-blue-500 text-blue-500",children:"External Author"})]}),e.jsx("p",{className:"text-muted-foreground",children:ee.bio}),e.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[ee.stats.totalBooks," published ",ee.stats.totalBooks===1?"book":"books","  ",ee.stats.followers," followers"]})]}),e.jsxs(I,{variant:"outline",children:["View Profile",e.jsx($v,{className:"w-4 h-4 ml-2"})]})]})},Qe))):g.trim().length<2?e.jsxs(ye,{className:"p-12 text-center",children:[e.jsx(Ua,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"text-xl mb-2",children:"Search for Authors"}),e.jsx("p",{className:"text-muted-foreground",children:"Enter at least 2 characters to search for authors"})]}):e.jsxs(ye,{className:"p-12 text-center",children:[e.jsx(qs,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"text-xl mb-2",children:"No authors found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search to find authors"})]})}),w==="users"&&e.jsx("div",{className:"space-y-4 mb-8",children:M?e.jsx(ye,{className:"p-12 text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Searching users..."})}):te.length>0?te.map((ee,Qe)=>(console.log(" DEBUG: Rendering user card for:",{id:ee.id,username:ee.username,type:typeof ee.id}),e.jsx(ye,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>{console.log(" DEBUG: User card clicked:",{userId:ee.id,username:ee.username,type:typeof ee.id}),i?.(ee.id)},children:e.jsxs("div",{className:"flex items-center gap-4 p-6",children:[e.jsxs(as,{className:"w-16 h-16",children:[e.jsx(vs,{src:ee.avatarUrl}),e.jsx(rs,{children:ee.username.split(" ").map(ke=>ke[0]).join("")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-xl",children:ee.username}),e.jsx(Ke,{variant:"outline",children:ee.isPrivate?"Private":"Public"})]}),e.jsx("p",{className:"text-muted-foreground",children:ee.bio||"No bio available"}),e.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[ee.stats.totalReviews," reviews,"," ",ee.stats.booksRead," books read,"," ",ee.stats.followers," followers"]})]}),e.jsxs(I,{variant:"outline",children:["View Profile",e.jsx($v,{className:"w-4 h-4 ml-2"})]})]})},Qe))):g.trim().length<2?e.jsxs(ye,{className:"p-12 text-center",children:[e.jsx(Ua,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"text-xl mb-2",children:"Search for Users"}),e.jsx("p",{className:"text-muted-foreground",children:"Enter at least 2 characters to search for users"})]}):e.jsxs(ye,{className:"p-12 text-center",children:[e.jsx(qs,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"text-xl mb-2",children:"No users found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search to find users"})]})}),w==="books"&&(Se.length>0?e.jsxs(e.Fragment,{children:[S==="grid"?e.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 mb-8",children:Se.map(ee=>e.jsxs(ye,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>n(ee),children:[e.jsxs("div",{className:"relative h-64",children:[e.jsx("img",{src:ee.coverUrl,alt:ee.title,className:"w-full h-full object-cover"}),e.jsx(Ke,{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm",children:ee.genre})]}),e.jsxs(Ge,{children:[e.jsx(Ve,{className:"line-clamp-1",children:ee.title}),e.jsx(ot,{children:ee.author})]}),e.jsxs(Ae,{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ee.description}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"w-4 h-4 fill-primary text-primary"}),e.jsx("span",{className:"font-medium",children:ee.rating}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",(ee.reviews??ee.totalRatings).toLocaleString(),")"]})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:ee.publishYear})]})]})]},ee.id))}):e.jsx("div",{className:"space-y-4 mb-8",children:Se.map(ee=>e.jsx(ye,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>n(ee),children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"relative w-full md:w-48 h-48 md:h-auto flex-shrink-0",children:e.jsx("img",{src:ee.coverUrl,alt:ee.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Ge,{children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Ve,{className:"mb-1",children:ee.title}),e.jsx(ot,{className:"text-base",children:ee.author})]}),e.jsx(Ke,{variant:"outline",children:ee.genre})]})}),e.jsxs(Ae,{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:ee.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"w-4 h-4 fill-primary text-primary"}),e.jsx("span",{className:"font-medium",children:ee.rating}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",(ee.reviews??ee.totalRatings).toLocaleString()," ratings)"]})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Published ",ee.publishYear]})]})]})]})]})},ee.id))}),Pe>1&&e.jsx(nD,{children:e.jsxs(oD,{children:[e.jsx(Pf,{children:e.jsx(lD,{onClick:()=>T(ee=>Math.max(1,ee-1)),className:N===1?"pointer-events-none opacity-50":"cursor-pointer"})}),[...Array(Pe)].map((ee,Qe)=>{const ke=Qe+1;return ke===1||ke===Pe||ke>=N-1&&ke<=N+1?e.jsx(Pf,{children:e.jsx(Zh,{onClick:()=>T(ke),isActive:N===ke,className:"cursor-pointer",children:ke})},ke):ke===N-2||ke===N+2?e.jsx(cD,{},ke):null}),e.jsx(Pf,{children:e.jsx(iD,{onClick:()=>T(ee=>Math.min(Pe,ee+1)),className:N===Pe?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]}):e.jsx(ye,{className:"py-12",children:e.jsxs(Ae,{className:"flex flex-col items-center justify-center",children:[e.jsx(Ua,{className:"w-12 h-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-xl mb-2",children:"No books found"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Try adjusting your filters or search query"}),Le&&e.jsx(I,{variant:"outline",onClick:we,children:"Clear Filters"})]})}))]})]})}function gD({targetType:a,targetName:n,isUserLoggedIn:l,onLoginRequired:i,onReviewSubmit:c,currentUser:u}){const[h,x]=m.useState(!1),[p,v]=m.useState(0),[b,g]=m.useState(0),[j,w]=m.useState(""),[C,S]=m.useState(""),E=()=>{if(p===0){S("Please select a rating");return}if(j.trim().length<10){S("Review must be at least 10 characters long");return}if(j.trim().length>2e3){S("Review must be less than 2000 characters");return}c&&c(p,j.trim()),v(0),g(0),w(""),S(""),x(!1)},N=_=>{if(_){if(!l){i&&i();return}if(u?.isAdmin)return}x(_),_||(v(0),g(0),w(""),S(""))},T=j.length,R=10,D=2e3;return e.jsxs(Cs,{open:h,onOpenChange:N,children:[e.jsxs(I,{onClick:()=>N(!0),className:"gap-2",disabled:u?.isAdmin,children:[e.jsx(pf,{className:"w-4 h-4"}),"Write a Review"]}),e.jsxs(bs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[e.jsx(Rs,{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(pf,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(As,{className:"text-2xl font-bold",children:"Write a Review"}),e.jsxs(_s,{className:"text-base mt-1.5",children:["Share your thoughts about ",e.jsxs("span",{className:"font-semibold text-foreground",children:['"',n,'"']})]})]})]})}),e.jsx(Lt,{className:"my-4"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Me,{className:"text-base font-semibold flex items-center gap-2",children:["Your Rating",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(_=>e.jsx("button",{type:"button",onClick:()=>v(_),onMouseEnter:()=>g(_),onMouseLeave:()=>g(0),className:"transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded",children:e.jsx(Ct,{className:`w-10 h-10 transition-colors ${_<=(b||p)?"fill-yellow-400 text-yellow-400":"text-muted-foreground hover:text-yellow-400/50"}`})},_)),p>0&&e.jsxs("span",{className:"ml-3 text-lg font-medium",children:[p," ",p===1?"star":"stars"]})]})]}),e.jsx(Lt,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Me,{htmlFor:"review-text",className:"text-base font-semibold flex items-center gap-2",children:["Your Review",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(Ea,{id:"review-text",placeholder:"Share your thoughts about this book. What did you like? What could be better? Would you recommend it to others?",value:j,onChange:_=>{w(_.target.value),S("")},className:"min-h-[200px] resize-none text-base leading-relaxed",maxLength:D}),e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsx("span",{className:`transition-colors ${T<R?"text-muted-foreground":T>D*.9?"text-yellow-600 dark:text-yellow-500":"text-green-600 dark:text-green-500"}`,children:T<R?`${R-T} more characters needed`:`${T} / ${D} characters`})})]}),C&&e.jsxs(pa,{variant:"destructive",children:[e.jsx(Ia,{className:"h-4 w-4"}),e.jsx(va,{children:C})]}),e.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Ia,{className:"w-4 h-4"}),"Review Guidelines"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:""}),e.jsx("span",{children:"Be honest and constructive in your feedback"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:""}),e.jsx("span",{children:"Avoid spoilers or use spoiler warnings"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:""}),e.jsxs("span",{children:["Keep your review focused on the ",a]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:""}),e.jsx("span",{children:"Be respectful to authors and other readers"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-4 border-t",children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsxs(I,{type:"button",onClick:E,disabled:p===0||j.trim().length<R,className:"gap-2 min-w-[140px]",children:[e.jsx(pf,{className:"w-4 h-4"}),"Submit Review"]})]})]})]})}function pD({bookId:a,bookTitle:n,isUserLoggedIn:l,onLoginRequired:i,currentUser:c,ratingStats:u,onReportSubmit:h}){const[x,p]=m.useState([]),[v,b]=m.useState(!0),[g,j]=m.useState(0),[w,C]=m.useState(""),[S,E]=m.useState(!1),N=m.useRef(!1);m.useEffect(()=>{if(N.current)return;(async()=>{try{b(!0);const _=await ah(a);if(console.log(" Reviews loaded:",_),p(_||[]),l){const O=_.find(P=>P.isOwner);O&&(j(O.rating),C(O.review),E(!0))}N.current=!0}catch(_){console.error("Failed to load reviews:",_),p([])}finally{b(!1)}})()},[a,l]);const T=async(D,_)=>{if(!l){K.error("Please log in to write a review"),i&&i();return}if(c?.isAdmin){K.error("Admins cannot write reviews");return}try{console.log(" Submitting review..."),await hD(a,D,_);const O=await ah(a);p(O),j(D),C(_),E(!0),K.success(S?"Review updated!":"Review submitted!")}catch(O){console.error("Failed to submit review:",O),K.error(O.message||"Failed to submit review")}},R=D=>{if(!l){K.error("Please log in to mark reviews as helpful"),i&&i();return}K.success("Marked as helpful!")};return e.jsxs(ye,{children:[e.jsx(Ge,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Ve,{className:"text-2xl",children:"Reader Reviews"}),e.jsxs(ot,{children:[u.totalRatings," ",u.totalRatings===1?"rating":"ratings","  ",x.length," ",x.length===1?"review":"reviews"]})]}),l&&!c?.isAdmin&&e.jsx(gD,{targetType:"book",targetName:n,isUserLoggedIn:l,onLoginRequired:i,onReviewSubmit:T,currentUser:c})]})}),e.jsxs(Ae,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-center md:text-left",children:e.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[e.jsx("div",{className:"text-5xl font-bold",children:u.avgRating.toFixed(1)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(D=>e.jsx(Ct,{className:`w-5 h-5 ${D<=Math.round(u.avgRating)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},D))}),e.jsxs("span",{className:"text-sm text-muted-foreground mt-1",children:[u.totalRatings," ",u.totalRatings===1?"rating":"ratings"]})]})]})}),u.ratingBreakdown&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-3 text-center md:text-left uppercase tracking-wide",children:"Rating Distribution"}),[5,4,3,2,1].map(D=>{const _=u.ratingBreakdown?.[D.toString()]||0,O=u.totalRatings>0?_/u.totalRatings*100:0;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 w-12 flex-shrink-0",children:[e.jsx("span",{className:"text-sm font-semibold",children:D}),e.jsx(Ct,{className:"w-3 h-3 fill-yellow-500 text-yellow-500"})]}),e.jsx("div",{className:"flex-1 h-2.5 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${O}%`}})}),e.jsx("span",{className:"text-sm font-bold text-foreground w-10 text-right",children:_})]},D)})]})]}),e.jsx(Lt,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5"}),"All Reviews (",x.length,")"]}),v?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(D=>e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-muted"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-1/4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-full"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]})]})},D))}):x.length>0?e.jsx("div",{className:"space-y-6",children:x.map(D=>e.jsx("div",{className:"pb-6 border-b border-border last:border-0",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(as,{className:"w-12 h-12 flex-shrink-0",children:[e.jsx(vs,{src:D.avatar,alt:D.user}),e.jsx(rs,{children:D.user.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between gap-4 mb-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold truncate",children:D.user}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(_=>e.jsx(Ct,{className:`w-4 h-4 ${_<=D.rating?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},_))}),e.jsx("span",{className:"text-sm text-muted-foreground",children:D.date})]})]})}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-3",children:D.review}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(I,{variant:"ghost",size:"sm",className:"h-8 gap-2",onClick:()=>R(D.id),children:[e.jsx(ga,{className:"w-4 h-4"}),"Helpful (",D.helpful,")"]}),e.jsx(Yh,{reportType:"review",targetName:`${D.user}'s review`,isUserLoggedIn:l,onLoginRequired:i,onSubmit:(_,O)=>{h&&h("review",`${D.user}'s review`,_,O)}})]})]})]})},D.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ns,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-20"}),e.jsx("p",{className:"text-muted-foreground mb-2",children:"No reviews yet"}),l&&!c?.isAdmin&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Be the first to share your thoughts about this book!"})]})]})]})]})}class vD{async getUserLists(){return Ce.makeRequest("/lists",{method:"GET"})}async getListById(n){return Ce.makeRequest(`/lists/${n}`,{method:"GET"})}async addBookToList(n,l){return console.log(" Adding book to list:",{listId:n,bookId:l}),Ce.makeRequest(`/lists/${n}/books`,{method:"POST",body:JSON.stringify({book_id:l})})}async removeBookFromList(n,l){return console.log(" Removing book from list:",{listId:n,bookId:l}),Ce.makeRequest(`/lists/${n}/books/${l}`,{method:"DELETE"})}async getBookLists(n){return Ce.makeRequest(`/books/${n}/lists`,{method:"GET"})}async createCustomList(n,l="private"){return Ce.makeRequest("/lists",{method:"POST",body:JSON.stringify({name:"Custom",title:n,visibility:l})})}async updateList(n,l){return Ce.makeRequest(`/lists/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deleteList(n){return Ce.makeRequest(`/lists/${n}`,{method:"DELETE"})}async moveBookBetweenLists(n,l,i){return await this.removeBookFromList(l,n),await this.addBookToList(i,n),{message:"Book moved successfully"}}}const gi=new vD;function bD({bookId:a,bookTitle:n,isUserLoggedIn:l,onLoginRequired:i,variant:c="outline",size:u="default",className:h=""}){const[x,p]=m.useState([]),[v,b]=m.useState(!1),[g,j]=m.useState(null),[w,C]=m.useState(!1),[S,E]=m.useState(null);m.useEffect(()=>{l&&w&&N()},[l,w,a]);const N=async()=>{try{b(!0),E(null),console.log(" Loading lists for book:",a);const _=await gi.getBookLists(a);console.log(" Lists loaded:",_),_.lists&&Array.isArray(_.lists)?(p(_.lists),console.log(` Set ${_.lists.length} lists`)):(console.warn(" Invalid response structure:",_),p([]))}catch(_){console.error(" Failed to load lists:",_),E("Failed to load your lists"),K.error("Failed to load your lists"),p([])}finally{b(!1)}},T=async _=>{if(!l){i?.();return}const O=_.is_added,P=D(_);j(_.list_id);try{O?(await gi.removeBookFromList(_.list_id,a),p($=>$.map(se=>se.list_id===_.list_id?{...se,is_added:!1,added_at:void 0}:se)),K.success(`Removed "${n}" from ${P}`)):(await gi.addBookToList(_.list_id,a),p($=>$.map(se=>se.list_id===_.list_id?{...se,is_added:!0,added_at:new Date().toISOString()}:se)),K.success(`Added "${n}" to ${P}`))}catch($){console.error("Failed to update list:",$),K.error($.message||"Failed to update list")}finally{j(null)}},R=_=>{if(!l&&_){i?.();return}C(_)},D=_=>_.name==="Custom"&&_.title?_.title:_.name;return e.jsxs(Ei,{open:w,onOpenChange:R,children:[e.jsx(Ti,{asChild:!0,children:e.jsxs(I,{variant:c,size:u,className:h,children:[e.jsx(Qo,{className:"mr-2 h-4 w-4"}),"Add to List"]})}),e.jsxs(Di,{align:"end",className:"w-56",children:[e.jsxs(Jj,{className:"flex items-center gap-2",children:[e.jsx(Mr,{className:"h-4 w-4"}),"Add to List"]}),e.jsx(wd,{}),v?e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx(ra,{className:"h-4 w-4 animate-spin"})}):S?e.jsxs("div",{className:"px-2 py-4 text-center text-sm text-destructive",children:[S,e.jsx(I,{variant:"ghost",size:"sm",onClick:N,className:"mt-2 w-full",children:"Try Again"})]}):x.length===0?e.jsx("div",{className:"px-2 py-4 text-center text-sm text-muted-foreground",children:"No lists available"}):x.map(_=>{const O=_.is_added||!1,P=g===_.list_id;return e.jsx(_a,{onClick:()=>T(_),disabled:P,className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{className:"flex-1",children:D(_)}),e.jsxs("div",{className:"flex items-center gap-2",children:[_.book_count!==void 0&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",_.book_count,")"]}),P?e.jsx(ra,{className:"h-4 w-4 animate-spin"}):O?e.jsx(Ss,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):null]})]})},_.list_id)})]})]})}function yD(a){const{bookId:n,onBack:l,theme:i,onToggleTheme:c,onLogoClick:u,isUserLoggedIn:h,onLoginRequired:x,userReviews:p=[],onAddReview:v,helpfulReviews:b={},onToggleHelpful:g,onReportSubmit:j,onAuthorClick:w,isFollowingAuthor:C=!1,onFollowAuthor:S,onUnfollowAuthor:E,getAuthorByName:N,currentUser:T}=a,[R,D]=m.useState(0),[_,O]=m.useState(0),[P,$]=m.useState(!1),[se,xe]=m.useState(null),[oe,W]=m.useState(null),[me,ue]=m.useState(!0),[ce,A]=m.useState(null),[q,M]=m.useState([]),[ae,ve]=m.useState([]),[B,Z]=m.useState([]);m.useEffect(()=>{let le=!0;return(async()=>{try{ue(!0),A(null);const G=Number(n);if(!Number.isInteger(G)){console.error(" Invalid bookId:",n),A("Invalid book ID"),ue(!1);return}console.log(" Fetching book details for ID:",G);const he=await Fb(G);if(!le)return;if(console.log(" Book details fetched:",he),W(he),he.ratingBreakdown){console.log(" Real rating breakdown:",he.ratingBreakdown);const Ne=[{stars:5,count:he.ratingBreakdown[5]||0},{stars:4,count:he.ratingBreakdown[4]||0},{stars:3,count:he.ratingBreakdown[3]||0},{stars:2,count:he.ratingBreakdown[2]||0},{stars:1,count:he.ratingBreakdown[1]||0}].map(_e=>({..._e,percentage:he.totalRatings>0?_e.count/he.totalRatings*100:0}));console.log(" Formatted breakdown:",Ne),Z(Ne)}else Z([]);if(h&&!T?.isAdmin){console.log(" Loading user's rating for book:",G);try{const Ne=await fD(G);Ne!==null&&le?(console.log(" User has already rated this book:",Ne),D(Ne),$(!0)):(console.log(" User hasn't rated this book yet"),D(0),$(!1))}catch(Ne){console.warn(" Could not fetch user rating:",Ne)}}else D(0),$(!1);ah(G).then(Ne=>{le&&Ne?.length&&M(Ne)}).catch(Ne=>console.warn(" Could not fetch reviews:",Ne)),uD(G).then(Ne=>{le&&Ne?.length&&ve(Ne)}).catch(Ne=>console.warn(" Could not fetch stores:",Ne)),ue(!1)}catch(G){if(!le)return;console.error(" Error fetching book details:",G),A(G.message||"Failed to load book details"),K.error("Failed to load book details."),ue(!1)}})(),()=>{le=!1}},[n,h,T?.isAdmin]),[...p,...q];const U=()=>{navigator.clipboard&&window.location.href&&navigator.clipboard.writeText(window.location.href),K.success("Link copied to clipboard!")},Q=async le=>{if(oe){if(!h){K.error("Please log in to rate this book"),x&&setTimeout(()=>x(),1500);return}if(T?.isAdmin){K.error("Admins cannot rate books");return}try{const te=R;await mD(oe.id,le);const G=await Fb(oe.id);W(G),D(le),$(!0),te>0?K.success(`You updated your rating to ${le} stars!`):K.success(`You rated this book ${le} stars!`)}catch(te){console.error("Error submitting rating:",te),K.error("Failed to submit rating. Please try again.")}}};return me?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading book details..."})]})}):ce||!oe?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx(Fa,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Failed to Load Book"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:ce||"We couldn't load the book details. Please try again."}),e.jsxs(I,{onClick:l,children:[e.jsx(Cd,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:l,className:"flex items-center gap-2 hover:opacity-80 transition-opacity flex-shrink-0",children:[e.jsx(Vs,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[e.jsx(js,{theme:i,onToggle:c}),e.jsx(I,{variant:"ghost",size:"sm",onClick:l,children:"Back"})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-24",children:[e.jsx("img",{src:oe.cover||oe.coverUrl||"https://via.placeholder.com/400x600?text=No+Cover",alt:oe.title,className:"w-full max-w-sm mx-auto rounded-lg shadow-2xl mb-4",onError:le=>{const te=le.target;te.src="https://via.placeholder.com/400x600?text=No+Cover"}}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(bD,{bookId:n,bookTitle:oe.title,isUserLoggedIn:h,onLoginRequired:x,variant:"default",size:"default",className:"w-full"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.jsxs(I,{variant:"outline",className:"gap-2",onClick:U,children:[e.jsx($S,{className:"w-4 h-4"}),"Share"]})}),e.jsx("div",{className:"pt-2",children:e.jsx(Yh,{reportType:"book",targetName:oe.title,isUserLoggedIn:h,onLoginRequired:x,onSubmit:(le,te)=>{j&&j("book",oe.title,le,te)}})})]}),e.jsx(ye,{className:"mt-4",children:e.jsxs(Ae,{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Published"}),e.jsx("span",{className:"font-medium",children:oe.publishYear})]}),e.jsx(Lt,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Genre"}),e.jsx("span",{className:"font-medium",children:oe.genre})]}),e.jsx(Lt,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Ratings"}),e.jsx("span",{className:"font-medium",children:oe.totalRatings.toLocaleString()})]})]})})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl md:text-4xl mb-2",children:oe.title}),e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsxs("button",{onClick:()=>w?.(oe.author),className:"text-xl text-muted-foreground hover:text-primary transition-colors",children:["by ",oe.author]})}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx(Ke,{variant:"default",children:oe.genre}),oe.isTrending&&e.jsxs(Ke,{variant:"outline",className:"gap-1",children:[e.jsx(ga,{className:"w-3 h-3"}),"Trending"]})]})]})}),e.jsx(ye,{children:e.jsxs(Ae,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"text-center md:text-left",children:e.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[e.jsx("div",{className:"text-5xl font-bold",children:oe.rating.toFixed(1)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((le,te)=>e.jsx(Ct,{className:`w-5 h-5 ${te<Math.floor(oe.rating)?"fill-primary text-primary":"text-muted-foreground"}`},te))}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[oe.totalRatings.toLocaleString()," ratings"]})]})]})}),B.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Lt,{orientation:"vertical",className:"hidden md:block"}),e.jsx("div",{className:"flex-1 space-y-2",children:B.map(le=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm w-12",children:[le.stars," star"]}),e.jsx(Gh,{value:le.percentage,className:"flex-1"}),e.jsx("span",{className:"text-sm text-muted-foreground w-16 text-right",children:le.count})]},le.stars))})]})]}),h&&!T?.isAdmin&&e.jsxs(e.Fragment,{children:[e.jsx(Lt,{className:"my-6"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-center md:text-left",children:"Rate this book"}),e.jsx("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[1,2,3,4,5].map(le=>e.jsx("button",{onClick:()=>Q(le),onMouseEnter:()=>O(le),onMouseLeave:()=>O(0),className:"transition-transform hover:scale-110 focus:outline-none",children:e.jsx(Ct,{className:`w-8 h-8 cursor-pointer transition-colors ${le<=(_||R)?"fill-primary text-primary":"text-muted-foreground hover:text-primary/50"}`})},le))}),R>0&&e.jsxs("p",{className:"text-sm text-muted-foreground text-center md:text-left",children:["You rated this book ",R," star",R!==1?"s":""]})]})]})]})})]}),ae.length>0&&e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(GS,{className:"w-5 h-5"}),"Price Comparison"]}),e.jsx(ot,{children:"Find the best deal from trusted retailers"})]}),e.jsx(Ae,{children:e.jsx("div",{className:"space-y-3",children:ae.map((le,te)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border hover:bg-accent/50 transition-colors",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:le.store_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:le.availability_status==="in_stock"?"In stock":"Out of stock"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-2xl font-bold",children:[le.currency==="USD"?"$":le.currency,le.price]})}),e.jsxs(I,{size:"sm",disabled:le.availability_status!=="in_stock",className:"gap-2",onClick:()=>window.open(le.url,"_blank"),children:["Buy Now",e.jsx(nS,{className:"w-4 h-4"})]})]})]},te))})})]}),e.jsxs(or,{defaultValue:"description",className:"w-full",children:[e.jsxs(lr,{className:"grid w-full grid-cols-2",children:[e.jsx(Qt,{value:"description",children:"Description"}),e.jsxs(Qt,{value:"reviews",children:["Reviews (",q.length,")"]})]}),e.jsx(Jt,{value:"description",className:"space-y-4 mt-6",children:e.jsxs(ye,{children:[e.jsx(Ge,{children:e.jsx(Ve,{children:"About this book"})}),e.jsxs(Ae,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:oe.description||"No description available for this book."}),e.jsx(Lt,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Kn,{className:"w-5 h-5 text-primary mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Publication Year"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:oe.publishYear})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(yt,{className:"w-5 h-5 text-primary mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Genre"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:oe.genre})]})]})]})]})]})}),e.jsx(Jt,{value:"reviews",className:"mt-6 space-y-4",children:e.jsx(pD,{bookId:oe.id,bookTitle:oe.title,isUserLoggedIn:h,onLoginRequired:x,currentUser:T,ratingStats:{avgRating:oe.rating,totalRatings:oe.totalRatings,ratingBreakdown:oe.ratingBreakdown},onReportSubmit:j})})]})]})]})})]})}function jD({onBack:a,theme:n,onToggleTheme:l}){const[i,c]=m.useState(!1),[u,h]=m.useState("premium"),[x,p]=m.useState(""),[v,b]=m.useState(""),[g,j]=m.useState(""),[w,C]=m.useState(""),S=[{name:"Access to book ratings and reviews",included:!0},{name:"Create unlimited reading lists",included:!0},{name:"Basic recommendations",included:!0},{name:"Join book discussions",included:!0},{name:"Follow favorite authors",included:!0},{name:"Advanced AI-powered recommendations",included:!1},{name:"Exclusive author Q&A sessions",included:!1},{name:"Early access to new releases",included:!1},{name:"Ad-free experience",included:!1},{name:"Priority customer support",included:!1},{name:"Download reading statistics",included:!1},{name:"Custom reading goals & tracking",included:!1}],E=[{name:"Access to book ratings and reviews",included:!0},{name:"Create unlimited reading lists",included:!0},{name:"Basic recommendations",included:!0},{name:"Join book discussions",included:!0},{name:"Follow favorite authors",included:!0},{name:"Advanced AI-powered recommendations",included:!0},{name:"Exclusive author Q&A sessions",included:!0},{name:"Early access to new releases",included:!0},{name:"Ad-free experience",included:!0},{name:"Priority customer support",included:!0},{name:"Download reading statistics",included:!0},{name:"Custom reading goals & tracking",included:!0}],N=()=>{h("premium"),c(!0)},T=_=>{_.preventDefault(),console.log("Processing payment..."),setTimeout(()=>{c(!1),alert("Successfully upgraded to Premium! ")},1e3)},R=_=>{const O=_.replace(/\s/g,"");return(O.match(/.{1,4}/g)?.join(" ")||O).substring(0,19)},D=_=>{const O=_.replace(/\D/g,"");return O.length>=2?O.substring(0,2)+"/"+O.substring(2,4):O};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:a,className:"flex items-center gap-2 hover:opacity-80 transition-opacity flex-shrink-0",children:[e.jsx(Vs,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[e.jsx(js,{theme:n,onToggle:l}),e.jsx(I,{variant:"ghost",size:"sm",onClick:a,children:"Back"})]})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16",children:[e.jsxs(Ke,{className:"mb-4 bg-gradient-to-r from-yellow-600/20 to-yellow-500/20 text-yellow-600 dark:text-yellow-400 border-yellow-600/30",children:[e.jsx(er,{className:"w-3 h-3 mr-1"}),"Premium Membership"]}),e.jsx("h1",{className:"text-4xl md:text-5xl mb-4",children:"Unlock the Full BookArc Experience"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Upgrade to Premium and get exclusive access to advanced features, personalized recommendations, and a completely ad-free reading experience."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto mb-16",children:[e.jsxs(ye,{className:"relative",children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Free"}),e.jsx(ot,{children:"Perfect for casual readers"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-4xl",children:"$0"}),e.jsx("span",{className:"text-muted-foreground",children:"/month"})]})]}),e.jsx(Ae,{children:e.jsx("ul",{className:"space-y-3",children:S.slice(0,5).map((_,O)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Ss,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm",children:_.name})]},O))})}),e.jsx(ud,{children:e.jsx(I,{variant:"outline",className:"w-full",disabled:!0,children:"Current Plan"})})]}),e.jsxs(ye,{className:"relative border-2 border-yellow-500 shadow-xl",children:[e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:e.jsx(Ke,{className:"bg-gradient-to-r from-yellow-600 to-yellow-500 text-background px-4 py-1",children:"Most Popular"})}),e.jsxs(Ge,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(er,{className:"w-6 h-6 text-yellow-500"}),e.jsx(Ve,{children:"Premium"})]}),e.jsx(ot,{children:"For avid readers who want more"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-4xl",children:"$9.99"}),e.jsx("span",{className:"text-muted-foreground",children:"/month"})]})]}),e.jsx(Ae,{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Ss,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Everything in Free, plus:"})]}),E.slice(5).map((_,O)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Ss,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm",children:_.name})]},O))]})}),e.jsx(ud,{children:e.jsxs(I,{className:"w-full bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 text-background",onClick:N,children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Upgrade to Premium"]})})]})]}),e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("h2",{className:"text-3xl text-center mb-8",children:"Compare Plans"}),e.jsx(ye,{children:e.jsx(Ae,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b border-border",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 font-medium",children:"Features"}),e.jsx("th",{className:"text-center p-4 font-medium w-32",children:"Free"}),e.jsx("th",{className:"text-center p-4 font-medium w-32 bg-yellow-500/10",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(er,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{children:"Premium"})]})})]})}),e.jsx("tbody",{children:S.map((_,O)=>e.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-accent/50 transition-colors",children:[e.jsx("td",{className:"p-4 text-sm",children:_.name}),e.jsx("td",{className:"p-4 text-center",children:_.included?e.jsx(Ss,{className:"w-5 h-5 text-primary mx-auto"}):e.jsx(Fa,{className:"w-5 h-5 text-muted-foreground/40 mx-auto"})}),e.jsx("td",{className:"p-4 text-center bg-yellow-500/5",children:e.jsx(Ss,{className:"w-5 h-5 text-yellow-500 mx-auto"})})]},O))})]})})})}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsxs(I,{size:"lg",className:"bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 text-background",onClick:N,children:[e.jsx(er,{className:"w-5 h-5 mr-2"}),"Start Your Premium Journey"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Cancel anytime. No questions asked."})]})]})]}),e.jsx(Cs,{open:i,onOpenChange:c,children:e.jsxs(bs,{className:"sm:max-w-md",children:[e.jsxs(Rs,{children:[e.jsxs(As,{className:"flex items-center gap-2",children:[e.jsx(er,{className:"w-5 h-5 text-yellow-500"}),"Upgrade to Premium"]}),e.jsx(_s,{children:"Complete your payment to unlock all premium features"})]}),e.jsxs("form",{onSubmit:T,children:[e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"bg-accent/50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Premium Plan"}),e.jsx("span",{className:"text-sm",children:"$9.99/month"})]}),e.jsx(Lt,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-xl",children:"$9.99"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"cardName",children:"Cardholder Name"}),e.jsx(Ee,{id:"cardName",placeholder:"John Doe",value:v,onChange:_=>b(_.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"cardNumber",children:"Card Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:x,onChange:_=>p(R(_.target.value)),required:!0,maxLength:19}),e.jsx(Z2,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"expiry",children:"Expiry Date"}),e.jsx(Ee,{id:"expiry",placeholder:"MM/YY",value:g,onChange:_=>j(D(_.target.value)),required:!0,maxLength:5})]}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"cvv",children:"CVV"}),e.jsx(Ee,{id:"cvv",placeholder:"123",value:w,onChange:_=>C(_.target.value.replace(/\D/g,"").substring(0,4)),required:!0,maxLength:4,type:"password"})]})]})]}),e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[e.jsx(ks,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your payment information is encrypted and secure. We never store your full card details."})]})]}),e.jsxs(gn,{className:"flex-col sm:flex-row gap-2",children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:"Cancel"}),e.jsxs(I,{type:"submit",className:"w-full sm:w-auto bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 text-background",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Confirm Payment"]})]})]})]})})]})}function wD({onBack:a,onLogoClick:n,theme:l,onToggleTheme:i}){const[c,u]=m.useState(null),[h,x]=m.useState(""),[p,v]=m.useState(""),[b,g]=m.useState(null),[j,w]=m.useState(""),[C,S]=m.useState(null),[E,N]=m.useState(""),[T,R]=m.useState([{id:1,userId:"user1",userName:"Emma Wilson",userInitials:"EW",bookId:1,bookTitle:"The Midnight Library",content:"Just finished this book and I'm still processing! The concept of exploring different life paths is so fascinating. What did you all think about Nora's journey?",timestamp:"2 hours ago",likes:24,isLiked:!1,replies:[{id:101,userId:"user2",userName:"Alex Chen",userInitials:"AC",content:"I loved it! The way Matt Haig explores regret and second chances really resonated with me. That ending though...",timestamp:"1 hour ago",likes:8,isLiked:!0},{id:102,userId:"user3",userName:"Sarah Johnson",userInitials:"SJ",content:"Agreed! The philosophical aspects were so well done. Made me think about my own life choices.",timestamp:"45 minutes ago",likes:5,isLiked:!1}]},{id:2,userId:"user4",userName:"Michael Torres",userInitials:"MT",bookId:1,bookTitle:"The Midnight Library",content:"Can we talk about the librarian character? Mrs. Elm was such a powerful presence in the story. Who else felt emotionally connected to her?",timestamp:"5 hours ago",likes:15,isLiked:!0,replies:[{id:201,userId:"user5",userName:"Lisa Parker",userInitials:"LP",content:"Mrs. Elm reminded me of my own high school librarian! Such a touching character.",timestamp:"4 hours ago",likes:3,isLiked:!1}]},{id:3,userId:"user6",userName:"David Kim",userInitials:"DK",bookId:2,bookTitle:"Project Hail Mary",content:"The science in this book is AMAZING! Andy Weir really did his research. Rocky is my favorite character ever! ",timestamp:"3 hours ago",likes:42,isLiked:!0,replies:[{id:301,userId:"user7",userName:"Rachel Green",userInitials:"RG",content:"Rocky! The relationship between Ryland and Rocky was so heartwarming. Best sci-fi buddy story!",timestamp:"2 hours ago",likes:18,isLiked:!0}]},{id:4,userId:"user8",userName:"James Anderson",userInitials:"JA",bookId:2,bookTitle:"Project Hail Mary",content:"Anyone else reading this for the second time? I'm catching so many details I missed the first time around.",timestamp:"1 day ago",likes:31,isLiked:!1,replies:[]},{id:5,userId:"user9",userName:"Olivia Martinez",userInitials:"OM",bookId:3,bookTitle:"The Seven Husbands of Evelyn Hugo",content:"This book absolutely destroyed me (in the best way). Evelyn and Celia's story... I'm not crying, you're crying! ",timestamp:"6 hours ago",likes:56,isLiked:!0,replies:[{id:401,userId:"user10",userName:"Sophia Lee",userInitials:"SL",content:"SAME! This book had me sobbing at 2am. Taylor Jenkins Reid is a master storyteller.",timestamp:"5 hours ago",likes:22,isLiked:!0}]}]),D=[{id:1,title:"The Midnight Library",author:"Matt Haig",posts:12,participants:45},{id:2,title:"Project Hail Mary",author:"Andy Weir",posts:28,participants:89},{id:3,title:"The Seven Husbands of Evelyn Hugo",author:"Taylor Jenkins Reid",posts:34,participants:102},{id:4,title:"The Silent Patient",author:"Alex Michaelides",posts:19,participants:67}],_=D.filter(W=>W.title.toLowerCase().includes(h.toLowerCase())||W.author.toLowerCase().includes(h.toLowerCase())),O=c?T.filter(W=>W.bookId===c):T,P=W=>{R(T.map(me=>me.id===W?{...me,likes:me.isLiked?me.likes-1:me.likes+1,isLiked:!me.isLiked}:me))},$=(W,me)=>{R(T.map(ue=>ue.id===W?{...ue,replies:ue.replies.map(ce=>ce.id===me?{...ce,likes:ce.isLiked?ce.likes-1:ce.likes+1,isLiked:!ce.isLiked}:ce)}:ue))},se=()=>{if(!p.trim()||!c)return;const W=D.find(ue=>ue.id===c);if(!W)return;const me={id:Date.now(),userId:"currentUser",userName:"You",userInitials:"YO",bookId:c,bookTitle:W.title,content:p,timestamp:"Just now",likes:0,isLiked:!1,replies:[]};R([me,...T]),v("")},xe=()=>{!j.trim()||b===null||(R(T.map(W=>{if(W.id===b){const me={id:Date.now(),userId:"currentUser",userName:"You",userInitials:"YO",content:j,timestamp:"Just now",likes:0,isLiked:!1};return{...W,replies:[...W.replies,me]}}return W})),w(""),g(null))},oe=()=>{E.trim()&&(console.log(`Reporting post ${C} for: ${E}`),S(null),N(""))};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-2 hover:opacity-80 transition-opacity flex-shrink-0",children:[e.jsx(Mr,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[e.jsx(js,{theme:l,onToggle:i}),e.jsx(I,{variant:"ghost",size:"sm",onClick:n,children:"Back"})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl mb-2 flex items-center gap-2",children:[e.jsx(ns,{className:"w-8 h-8 text-primary"}),"Book Discussions"]}),e.jsx("p",{className:"text-muted-foreground",children:"Join book-specific conversations, share your thoughts, and connect with fellow readers"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{className:"text-lg",children:"Active Discussions"}),e.jsx(ot,{children:"Select a book to join the conversation"})]}),e.jsxs(Ae,{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{placeholder:"Search books...",value:h,onChange:W=>x(W.target.value),className:"pl-10"})]}),e.jsx(Lt,{}),e.jsx(xd,{className:"h-[calc(100vh-28rem)]",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(I,{variant:c===null?"secondary":"ghost",className:"w-full justify-start",onClick:()=>u(null),children:[e.jsx(ga,{className:"w-4 h-4 mr-2"}),"All Books",e.jsx(Ke,{variant:"secondary",className:"ml-auto",children:T.length})]}),_.map(W=>e.jsxs(I,{variant:c===W.id?"secondary":"ghost",className:"w-full justify-start text-left h-auto py-3",onClick:()=>u(W.id),children:[e.jsx(yt,{className:"w-4 h-4 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"truncate",children:W.title}),e.jsx("div",{className:"text-xs text-muted-foreground truncate",children:W.author}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ns,{className:"w-3 h-3"}),W.posts]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(qs,{className:"w-3 h-3"}),W.participants]})]})]})]},W.id))]})})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c&&e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{className:"text-lg",children:"Start a Discussion"}),e.jsxs(ot,{children:["Share your thoughts about ",D.find(W=>W.id===c)?.title]})]}),e.jsxs(Ae,{className:"space-y-3",children:[e.jsx(Ea,{placeholder:"What would you like to discuss about this book?",value:p,onChange:W=>v(W.target.value),rows:3}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(I,{onClick:se,disabled:!p.trim(),className:"gap-2",children:[e.jsx(Gv,{className:"w-4 h-4"}),"Post"]})})]})]}),e.jsx("div",{className:"space-y-4",children:O.length===0?e.jsx(ye,{children:e.jsxs(Ae,{className:"py-12 text-center",children:[e.jsx(ns,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),e.jsx("h3",{className:"mb-2",children:"No discussions yet"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:c?"Be the first to start a discussion about this book!":"Select a book to view and join discussions"})]})}):O.map(W=>e.jsx(ye,{children:e.jsxs(Ae,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(as,{className:"w-10 h-10 border-2 border-primary/20",children:e.jsx(rs,{className:"bg-primary/10 text-primary",children:W.userInitials})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:W.userName}),!c&&e.jsx(Ke,{variant:"secondary",className:"text-xs",children:W.bookTitle})]}),e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Kn,{className:"w-3 h-3"}),W.timestamp]})]}),e.jsxs(Ei,{children:[e.jsx(Ti,{asChild:!0,children:e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(tS,{className:"w-4 h-4"})})}),e.jsx(Di,{align:"end",children:e.jsxs(_a,{className:"text-destructive",onClick:()=>S(W.id),children:[e.jsx(Bf,{className:"w-4 h-4 mr-2"}),"Report Post"]})})]})]})})]}),e.jsx("p",{className:"mb-4 text-foreground",children:W.content}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>P(W.id),className:W.isLiked?"text-primary":"",children:[e.jsx(Lf,{className:`w-4 h-4 mr-1 ${W.isLiked?"fill-current":""}`}),W.likes]}),e.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>g(W.id),children:[e.jsx(PS,{className:"w-4 h-4 mr-1"}),"Reply"]})]}),W.replies.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Lt,{className:"my-4"}),e.jsx("div",{className:"space-y-4",children:W.replies.map(me=>e.jsxs("div",{className:"flex items-start gap-3 pl-4 border-l-2 border-border",children:[e.jsx(as,{className:"w-8 h-8 border border-primary/20",children:e.jsx(rs,{className:"bg-primary/10 text-primary text-xs",children:me.userInitials})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:me.userName}),e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Kn,{className:"w-3 h-3"}),me.timestamp]})]}),e.jsx("p",{className:"text-sm text-foreground mb-2",children:me.content}),e.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>$(W.id,me.id),className:me.isLiked?"text-primary":"",children:[e.jsx(Lf,{className:`w-3 h-3 mr-1 ${me.isLiked?"fill-current":""}`}),me.likes]})]})]},me.id))})]}),b===W.id&&e.jsxs(e.Fragment,{children:[e.jsx(Lt,{className:"my-4"}),e.jsxs("div",{className:"flex gap-3 pl-4",children:[e.jsx(as,{className:"w-8 h-8 border border-primary/20",children:e.jsx(rs,{className:"bg-primary/10 text-primary text-xs",children:"YO"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(Ea,{placeholder:"Write your reply...",value:j,onChange:me=>w(me.target.value),rows:2}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{g(null),w("")},children:"Cancel"}),e.jsxs(I,{size:"sm",onClick:xe,disabled:!j.trim(),className:"gap-2",children:[e.jsx(Gv,{className:"w-3 h-3"}),"Reply"]})]})]})]})]})]})},W.id))})]})]})]})}),e.jsx(Cs,{open:C!==null,onOpenChange:W=>!W&&S(null),children:e.jsxs(bs,{children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Report Post"}),e.jsx(_s,{children:"Help us keep BookArc safe by reporting inappropriate content. Your report will be reviewed by our moderation team."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsx(Ea,{placeholder:"Please describe why you're reporting this post...",value:E,onChange:W=>N(W.target.value),rows:4})}),e.jsxs(gn,{children:[e.jsx(I,{variant:"ghost",onClick:()=>{S(null),N("")},children:"Cancel"}),e.jsxs(I,{variant:"destructive",onClick:oe,disabled:!E.trim(),children:[e.jsx(Bf,{className:"w-4 h-4 mr-2"}),"Submit Report"]})]})]})})]})}function ND({onBack:a,theme:n,onToggleTheme:l,onLogoClick:i}){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[e.jsx(Vs,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(js,{theme:n,onToggle:l}),e.jsx(I,{variant:"outline",onClick:a,children:"Back to Home"})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-primary/10 via-background to-background",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h1",{className:"text-5xl mb-6",children:"Contact Us"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Have a question, suggestion, or just want to say hello? We'd love to hear from you."})]})}),e.jsx("section",{className:"py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl mb-6 text-center",children:"Get in Touch"}),e.jsx("p",{className:"text-muted-foreground mb-8 text-center",children:"We're here to help and answer any questions you might have. We look forward to hearing from you!"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"flex flex-col items-center text-center gap-4 p-6 rounded-lg border bg-card",children:[e.jsx($a,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2",children:"Email"}),e.jsx("p",{className:"text-muted-foreground",children:"supportbookarc@gmail.com"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"We'll respond within 24 hours"})]})]}),e.jsxs("div",{className:"flex flex-col items-center text-center gap-4 p-6 rounded-lg border bg-card",children:[e.jsx(DS,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2",children:"Phone"}),e.jsx("p",{className:"text-muted-foreground",children:"+962 6 123 4567"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Mon-Fri, 9am-6pm"})]})]}),e.jsxs("div",{className:"flex flex-col items-center text-center gap-4 p-6 rounded-lg border bg-card",children:[e.jsx(Rd,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2",children:"Office"}),e.jsx("p",{className:"text-muted-foreground",children:"Jordan, Amman"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 rounded-lg bg-primary/5 border border-primary/20",children:[e.jsx("h3",{className:"mb-2",children:"For Authors"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:"If you're an author interested in partnering with BookArc or have questions about our author verification process, please email us at:"}),e.jsx("a",{href:"mailto:supportbookarc@gmail.com",className:"text-primary hover:underline",children:"supportbookarc@gmail.com"})]}),e.jsxs("div",{className:"p-6 rounded-lg bg-muted/50 border",children:[e.jsx("h3",{className:"mb-2",children:"Report an Issue"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:"Found a bug or inappropriate content? Help us maintain a safe and quality platform:"}),e.jsx("a",{href:"mailto:supportbookarc@gmail.com",className:"text-primary hover:underline",children:"supportbookarc@gmail.com"})]})]})]})})})}),e.jsx(ps,{})]})}function SD({onBack:a,onLogoClick:n,currentUser:l,onSave:i,onLogout:c,theme:u,onToggleTheme:h}){const[x,p]=m.useState(l.username),[v,b]=m.useState(l.email),[g,j]=m.useState(l.bio||""),[w,C]=m.useState(l.location||""),[S,E]=m.useState(l.avatarUrl||""),[N,T]=m.useState(""),[R,D]=m.useState(""),[_,O]=m.useState(""),[P,$]=m.useState({}),[se,xe]=m.useState(""),[oe,W]=m.useState(!1),[me,ue]=m.useState(S),[ce,A]=m.useState(null),[q,M]=m.useState(""),[ae,ve]=m.useState(!1),[B,Z]=m.useState(""),[U,Q]=m.useState(!1),le=m.useRef(null),te=500,G=g.length,he=["https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=400&h=400&fit=crop"],Ne=Ze=>Ze.split(" ").map(lt=>lt[0]).join("").toUpperCase().slice(0,2),_e=Ze=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ze),[Be,Pe]=m.useState(!1),ct=async Ze=>{Ze.preventDefault();const lt={};if(x?x.length<3&&(lt.username="Display name must be at least 3 characters"):lt.username="Display name is required",v?_e(v)||(lt.email="Please enter a valid email"):lt.email="Email is required",g.length>te&&(lt.bio=`Bio must be ${te} characters or less`),$(lt),Object.keys(lt).length===0)try{Pe(!1),await Ce.updateUserProfile({display_name:x,bio:g,location:w,profile_image:S});const Et=await Ce.getUserProfile();i({username:Et.display_name||Et.username,email:Et.email,avatarUrl:Et.profile_image||"",bio:Et.bio||"",location:Et.location||""}),Pe(!0),K.success("Profile updated successfully! "),setTimeout(()=>{Pe(!1)},5e3)}catch(Et){console.error("Update profile error:",Et),K.error(Et.message||"Failed to update profile")}},[Se,L]=m.useState(!1),[we,Le]=m.useState(!1),ee=async Ze=>{Ze.preventDefault();const lt={};if(N||(lt.currentPassword="Current password is required"),R?R.length<8&&(lt.newPassword="Password must be at least 8 characters"):lt.newPassword="New password is required",_?R!==_&&(lt.confirmPassword="Passwords do not match"):lt.confirmPassword="Please confirm your password",N===R&&(lt.newPassword="New password must be different from current password"),$(lt),Object.keys(lt).length===0){L(!0),Le(!1);try{await ar.changePassword(N,R),Le(!0),xe("Password changed successfully!"),K.success("Password changed successfully! "),T(""),D(""),O(""),setTimeout(()=>{Le(!1),xe("")},5e3)}catch(Et){console.error("Change password error:",Et);let Pt="Failed to change password. Please try again.";Et.message.includes("Current password is incorrect")?(Pt="Current password is incorrect",$({currentPassword:Pt})):Et.message.includes("password policy")?(Pt="New password does not meet requirements",$({newPassword:Pt})):Et.message.includes("Too many attempts")&&(Pt="Too many attempts. Please try again later"),K.error(Pt)}finally{L(!1)}}},Qe=Ze=>{ue(Ze)},ke=()=>{E(me),W(!1),xe("Avatar updated! Don't forget to save your profile."),setTimeout(()=>xe(""),3e3)},Ue=()=>{E(""),ue(""),A(null),W(!1),xe("Avatar removed! Don't forget to save your profile."),setTimeout(()=>xe(""),3e3)},Ye=async Ze=>{const lt=Ze.target.files?.[0];if(!lt)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(lt.type)){M("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}const Pt=2*1024*1024;if(lt.size>Pt){M("Image size must be less than 2MB");return}M("");try{K.info("Uploading image...");const{fileUrl:Te}=await Ce.uploadProfilePicture(lt);A(Te),ue(Te),K.success("Image uploaded successfully!")}catch(Te){console.error("Upload error:",Te),M(Te.message||"Failed to upload image"),K.error("Failed to upload image. Please try again.");const De=new FileReader;De.onloadend=()=>{const _t=De.result;A(_t),ue(_t)},De.readAsDataURL(lt)}},nt=()=>{le.current?.click()},Gt=()=>{W(!0),M(""),S&&(ue(S),S.startsWith("data:")&&A(S))},Es=async()=>{if(B.toLowerCase()==="delete"){Q(!0);try{await Ce.deleteUserAccount(),localStorage.removeItem("currentUser"),localStorage.removeItem("userLists"),ar.logout(),ve(!1),Z(""),K.success("Account deleted successfully"),setTimeout(()=>{c()},1500)}catch(Ze){console.error("Delete account error:",Ze),K.error(Ze.message||"Failed to delete account. Please try again."),Q(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:a,className:"flex items-center gap-2 hover:opacity-80 transition-opacity flex-shrink-0",children:[e.jsx(Vs,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[e.jsx(js,{theme:u,onToggle:h}),e.jsx(I,{variant:"ghost",size:"sm",onClick:a,children:"Back"})]})]})}),e.jsxs("main",{className:"container max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Edit Profile"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Profile Information"}),e.jsx(ot,{children:"Update your account details and bio"})]}),e.jsx(Ae,{children:e.jsxs("form",{onSubmit:ct,className:"space-y-6",children:[Be&&e.jsxs("div",{className:"p-4 bg-green-500/10 border-2 border-green-500/50 rounded-lg flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx(Ss,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-green-600 dark:text-green-400 mb-1",children:"Profile Updated Successfully! "}),e.jsx("p",{className:"text-sm text-green-600/80 dark:text-green-400/80",children:"Your profile information has been saved. All changes are now live."})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(as,{className:"w-24 h-24 border-4 border-primary",children:[S?e.jsx(vs,{src:S,alt:x}):null,e.jsx(rs,{className:"bg-primary/10 text-primary text-2xl",children:Ne(x)})]}),e.jsxs("div",{children:[e.jsxs(I,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:Gt,children:[e.jsx(qb,{className:"w-4 h-4"}),"Change Avatar"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Upload your own or choose from our selection"})]})]}),e.jsx(Lt,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"actual-username",children:"Username (permanent)"}),e.jsxs("div",{className:"relative",children:[e.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"actual-username",type:"text",value:l.username,className:"pl-10 bg-muted cursor-not-allowed",disabled:!0,readOnly:!0})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your username cannot be changed"})]}),e.jsx(Lt,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"displayName",children:"Display Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"displayName",type:"text",placeholder:"How you want to appear",value:x,onChange:Ze=>p(Ze.target.value),className:"pl-10"})]}),P.username&&e.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 font-medium",children:P.username}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This is how your name appears to other users"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{id:"email",type:"email",placeholder:"Enter your email",value:v,onChange:Ze=>b(Ze.target.value),className:"pl-10",disabled:!0})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"}),P.email&&e.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 font-medium",children:P.email})]}),e.jsx(Lt,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Me,{htmlFor:"bio",children:"Bio"}),e.jsxs("span",{className:`text-xs ${G>te?"text-destructive":"text-muted-foreground"}`,children:[G,"/",te]})]}),e.jsx(Ea,{id:"bio",placeholder:"Tell us about yourself... What kind of books do you love? What are you currently reading?",value:g,onChange:Ze=>j(Ze.target.value),className:"min-h-[120px] resize-none",maxLength:te}),P.bio&&e.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 font-medium",children:P.bio}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Write a brief description about yourself and your reading preferences"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"location",children:"Location (Optional)"}),e.jsx(Ee,{id:"location",type:"text",placeholder:"e.g., New York, USA",value:w,onChange:Ze=>C(Ze.target.value)})]}),e.jsx(I,{type:"submit",className:"gap-2 bg-primary hover:bg-primary/90 text-primary-foreground",disabled:Be,children:Be?e.jsxs(e.Fragment,{children:[e.jsx(Ss,{className:"w-4 h-4"}),"Profile Saved!"]}):e.jsxs(e.Fragment,{children:[e.jsx(id,{className:"w-4 h-4"}),"Save Changes"]})})]})})]}),e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Change Password"}),e.jsx(ot,{children:"Update your password to keep your account secure"})]}),e.jsx(Ae,{children:e.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[we&&e.jsxs("div",{className:"p-4 bg-green-500/10 border-2 border-green-500/50 rounded-lg flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx(Ss,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-green-600 dark:text-green-400 mb-1",children:"Password Changed Successfully! "}),e.jsx("p",{className:"text-sm text-green-600/80 dark:text-green-400/80",children:"Your password has been updated. You can now use your new password to log in."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"currentPassword",children:"Current Password"}),e.jsx(Ee,{id:"currentPassword",type:"password",placeholder:"Enter current password",value:N,onChange:Ze=>T(Ze.target.value),disabled:Se}),P.currentPassword&&e.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 font-medium",children:P.currentPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"newPassword",children:"New Password"}),e.jsx(Ee,{id:"newPassword",type:"password",placeholder:"Enter new password",value:R,onChange:Ze=>D(Ze.target.value),disabled:Se}),P.newPassword&&e.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 font-medium",children:P.newPassword}),e.jsx("p",{className:"text-xs text-foreground/70 font-medium",children:"Must be at least 8 characters long"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx(Ee,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",value:_,onChange:Ze=>O(Ze.target.value),disabled:Se}),P.confirmPassword&&e.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 font-medium",children:P.confirmPassword})]}),e.jsx(I,{type:"submit",className:"gap-2 bg-primary hover:bg-primary/90 text-primary-foreground",disabled:Se||we,children:Se?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Changing Password..."]}):we?e.jsxs(e.Fragment,{children:[e.jsx(Ss,{className:"w-4 h-4"}),"Password Changed!"]}):e.jsxs(e.Fragment,{children:[e.jsx(id,{className:"w-4 h-4"}),"Change Password"]})})]})})]}),e.jsxs(ye,{className:"border-destructive/50 bg-destructive/5",children:[e.jsxs(Ge,{children:[e.jsxs(Ve,{className:"text-destructive flex items-center gap-2",children:[e.jsx(Vo,{className:"h-5 w-5"}),"Danger Zone"]}),e.jsx(ot,{className:"text-foreground/80 font-medium",children:"Irreversible account actions"})]}),e.jsxs(Ae,{className:"space-y-3",children:[e.jsxs(pa,{variant:"destructive",className:"border-destructive bg-destructive/10",children:[e.jsx(Vo,{className:"h-4 w-4"}),e.jsx(va,{className:"text-foreground",children:"Once you delete your account, there is no going back. All your data, including reviews, ratings, and lists will be permanently deleted."})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-md bg-destructive/10 border border-destructive/30",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"Delete Account"}),e.jsx("p",{className:"text-xs text-foreground/70",children:"Permanently delete your account and all data"})]}),e.jsx(I,{variant:"destructive",onClick:()=>ve(!0),className:"gap-2",children:"Delete Account"})]})]})]})]})]}),e.jsx(Cs,{open:oe,onOpenChange:W,children:e.jsxs(bs,{className:"sm:max-w-[600px]",children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Choose Your Avatar"}),e.jsx(_s,{children:"Upload your own image or select from our collection"})]}),e.jsxs(or,{defaultValue:"upload",className:"w-full",children:[e.jsxs(lr,{className:"grid w-full grid-cols-2",children:[e.jsx(Qt,{value:"upload",children:"Upload Image"}),e.jsx(Qt,{value:"gallery",children:"Choose from Gallery"})]}),e.jsxs(Jt,{value:"upload",className:"space-y-4 py-4",children:[e.jsx("input",{ref:le,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:Ye,className:"hidden"}),e.jsx("div",{onClick:nt,className:"border-2 border-dashed border-border rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",children:e.jsx("div",{className:"flex flex-col items-center gap-3",children:ce?e.jsxs("div",{className:"space-y-4",children:[e.jsxs(as,{className:"w-32 h-32 border-4 border-primary",children:[e.jsx(vs,{src:ce,alt:"Uploaded preview"}),e.jsx(rs,{children:"Preview"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload a different image"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(vi,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG, GIF or WebP (max 2MB)"})]})]})})}),q&&e.jsx("p",{className:"text-sm text-destructive text-center",children:q}),ce&&e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>{A(null),ue(""),le.current&&(le.current.value="")},className:"w-full",children:"Clear Upload"})]}),e.jsx(Jt,{value:"gallery",className:"py-4",children:e.jsx("div",{className:"grid grid-cols-4 gap-4",children:he.map((Ze,lt)=>e.jsxs("button",{onClick:()=>{Qe(Ze),A(null)},className:`relative rounded-full overflow-hidden aspect-square border-4 transition-all hover:scale-105 ${me===Ze&&!ce?"border-primary ring-2 ring-primary ring-offset-2 ring-offset-background":"border-border hover:border-primary/50"}`,children:[e.jsx("img",{src:Ze,alt:`Avatar option ${lt+1}`,className:"w-full h-full object-cover"}),me===Ze&&!ce&&e.jsx("div",{className:"absolute inset-0 bg-primary/20 flex items-center justify-center",children:e.jsx(Ss,{className:"w-8 h-8 text-primary"})})]},lt))})})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsx(I,{type:"button",variant:"outline",onClick:Ue,children:"Remove Avatar"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{type:"button",variant:"ghost",onClick:()=>{W(!1),M("")},children:"Cancel"}),e.jsx(I,{type:"button",onClick:ke,disabled:!me&&!ce,children:"Save Avatar"})]})]})]})}),e.jsx(Cs,{open:ae,onOpenChange:ve,children:e.jsxs(bs,{className:"sm:max-w-[450px]",children:[e.jsxs(Rs,{children:[e.jsxs(As,{className:"text-destructive flex items-center gap-2",children:[e.jsx(Vo,{className:"w-5 h-5"}),"Delete Account Permanently?"]}),e.jsx(_s,{asChild:!0,children:e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("p",{children:["This action ",e.jsx("strong",{children:"cannot be undone"}),". This will permanently:"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[e.jsx("li",{children:"Delete your profile and all personal information"}),e.jsx("li",{children:"Remove all your reviews and ratings"}),e.jsx("li",{children:"Delete all your reading lists"}),e.jsx("li",{children:"Remove your account from Cognito"}),e.jsx("li",{children:"Delete all associated data from our servers"})]})]})})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Me,{htmlFor:"deleteConfirmText",children:["Type ",e.jsx("strong",{children:"delete"})," to confirm"]}),e.jsx(Ee,{id:"deleteConfirmText",type:"text",placeholder:"Type 'delete' to confirm",value:B,onChange:Ze=>Z(Ze.target.value),className:"w-full",disabled:U})]})}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>{ve(!1),Z("")},disabled:U,children:"Cancel"}),e.jsx(I,{type:"button",variant:"destructive",disabled:B.toLowerCase()!=="delete"||U,onClick:Es,children:U?"Deleting...":"Delete My Account"})]})]})})]})}function kD({user:a,onBack:n,onLogoClick:l,theme:i,onToggleTheme:c,isCurrentUser:u,isUserLoggedIn:h,isAuthorLoggedIn:x=!1,onLoginRequired:p,onEditProfile:v,onViewBookDetails:b,currentUser:g,onUserSelect:j,onAuthorSelect:w,onViewList:C}){const[S,E]=m.useState("reviews"),[N,T]=m.useState(a),[R,D]=m.useState(!1),[_,O]=m.useState(!1),[P,$]=m.useState(!1),[se,xe]=m.useState(a.stats.followers),[oe,W]=m.useState(a.stats.following),[me,ue]=m.useState(!1),[ce,A]=m.useState("followers"),[q,M]=m.useState([]),[ae,ve]=m.useState(!1);m.useEffect(()=>{(async()=>{if(!(u&&a.username!=="Loading...")&&a.id!==0)try{D(!0);const G=await Ce.getUserById(a.id);if(T({id:G.id,username:G.username,email:G.email,avatarUrl:G.avatarUrl,bio:G.bio,location:G.location,website:G.website,joinDate:G.joinDate,isPrivate:G.isPrivate,stats:{totalReviews:G.stats.totalReviews,totalRatings:G.stats.totalRatings,booksRead:G.stats.booksRead,followers:G.stats.followers,following:G.stats.following},lists:G.lists,recentReviews:G.recentReviews,favoriteGenres:G.favoriteGenres}),xe(G.stats.followers),W(G.stats.following),u){ve(!0);try{const he=await Ce.getUserFavoriteGenres();M(he.genres.map(Ne=>Ne.genre_name))}catch(he){console.error("Failed to load favorite genres:",he),M(G.favoriteGenres||[])}finally{ve(!1)}}else M(G.favoriteGenres||[])}catch(G){console.error("Error loading user profile:",G),K.error(`Failed to load user profile: ${G.message}`),T({id:a.id,username:"User Not Found",email:"",avatarUrl:"",bio:"This user could not be loaded.",location:"",joinDate:"",isPrivate:!1,stats:{totalReviews:0,totalRatings:0,booksRead:0,followers:0,following:0},lists:[],recentReviews:[],favoriteGenres:[]})}finally{D(!1)}})()},[a.id,u]),m.useEffect(()=>{(async()=>{if(!(u||!h||x||g?.isAdmin))try{const G=await Ce.checkFollowStatus(a.id);O(G.isFollowing)}catch(G){console.error("Error checking follow status:",G)}})()},[a.id,u,h,x,g?.isAdmin]);const B=async()=>{if(!h){p&&p();return}if(!(g?.isAdmin||x)){$(!0);try{_?(await Ce.unfollowUser(N.id),O(!1),xe(te=>Math.max(0,te-1)),K.success(`Unfollowed ${N.username}`)):(await Ce.followUser(N.id),O(!0),xe(te=>te+1),K.success(`Now following ${N.username}`))}catch(te){console.error("Error toggling follow:",te),K.error(te.message||"Failed to update follow status")}finally{$(!1)}}},Z=te=>{A(te),ue(!0)},U=(te,G)=>{console.log(" Navigation triggered from FollowersModal:",{userId:te,userRole:G,hasUserSelect:!!j,hasAuthorSelect:!!w}),ue(!1),G==="author"&&w?(console.log(` Navigating to author profile for user ${te}`),w({id:te,authorType:"registered"})):j?(console.log(` Navigating to user profile for user ${te}`),j(te)):console.warn(" No navigation handler available")},Q=N.isPrivate&&!u&&!_,le=N.username.split(" ").map(te=>te[0]).join("").toUpperCase().slice(0,2);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:l,className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[e.jsx(Vs,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(js,{theme:i,onToggle:c}),e.jsxs(I,{variant:"outline",onClick:n,children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Back"]})]})]})}),R?e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:e.jsxs(ye,{className:"p-12 text-center",children:[e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-32 w-32 bg-muted rounded-full mx-auto"}),e.jsx("div",{className:"h-6 bg-muted rounded w-48 mx-auto"}),e.jsx("div",{className:"h-4 bg-muted rounded w-64 mx-auto"})]}),e.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading user profile..."})]})}):N.username==="User Not Found"?e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:e.jsxs(ye,{className:"p-12 text-center",children:[e.jsx(qs,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-20"}),e.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"User Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"This user profile could not be loaded. The user may not exist or there was an error connecting to the database."}),e.jsx(I,{onClick:n,variant:"outline",children:"Go Back"})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsx(ye,{className:"mb-6",children:e.jsx(Ae,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(as,{className:"w-32 h-32 border-4 border-primary/20",children:[e.jsx(vs,{src:N.avatarUrl,alt:N.username}),e.jsx(rs,{className:"bg-primary/10 text-primary text-3xl",children:le})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h1",{className:"text-3xl",children:N.username}),N.isPrivate&&e.jsxs(Ke,{variant:"outline",className:"gap-1",children:[e.jsx(ks,{className:"w-3 h-3"}),"Private"]}),!N.isPrivate&&e.jsxs(Ke,{variant:"outline",className:"gap-1",children:[e.jsx(Yn,{className:"w-3 h-3"}),"Public"]})]}),N.bio&&e.jsx("p",{className:"text-muted-foreground mb-3",children:N.bio}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[N.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Rd,{className:"w-4 h-4"}),N.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hi,{className:"w-4 h-4"}),"Joined ",N.joinDate]}),N.website&&e.jsxs("a",{href:N.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-primary transition-colors",children:[e.jsx(Yb,{className:"w-4 h-4"}),"Website"]})]})]}),e.jsx("div",{className:"flex gap-2",children:u?e.jsx(I,{onClick:v,children:"Edit Profile"}):!x&&!g?.isAdmin?e.jsx(I,{onClick:B,variant:_?"outline":"default",disabled:P,children:P?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Loading..."]}):_?"Unfollow":"Follow"}):null})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"text-center p-3 rounded-lg bg-accent/10",children:[e.jsx("div",{className:"text-2xl mb-1",children:N.stats.booksRead}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Books Read"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-accent/10",children:[e.jsx("div",{className:"text-2xl mb-1",children:N.stats.totalReviews}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Reviews"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-accent/10",children:[e.jsx("div",{className:"text-2xl mb-1",children:N.stats.totalRatings}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Ratings"})]}),e.jsxs("button",{className:"text-center p-3 rounded-lg bg-accent/10 hover:bg-accent/20 transition-colors cursor-pointer",onClick:()=>Z("followers"),children:[e.jsx("div",{className:"text-2xl mb-1",children:se}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Followers"})]}),e.jsxs("button",{className:"text-center p-3 rounded-lg bg-accent/10 hover:bg-accent/20 transition-colors cursor-pointer",onClick:()=>Z("following"),children:[e.jsx("div",{className:"text-2xl mb-1",children:oe}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Following"})]})]})]})]})})}),Q?e.jsx(ye,{children:e.jsxs(Ae,{className:"text-center py-12",children:[e.jsx(ks,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-20"}),e.jsx("h3",{className:"text-xl mb-2",children:"This Account is Private"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:x?"This account is private. Only regular users can follow other users.":`Follow ${N.username} to see their reviews, ratings, and reading lists.`}),!x&&!h&&e.jsx(I,{onClick:p,children:"Log In to Follow"})]})}):e.jsxs(e.Fragment,{children:[!Q&&e.jsx(e.Fragment,{children:ae?e.jsxs(ye,{className:"mb-6",children:[e.jsx(Ge,{children:e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(Zo,{className:"w-5 h-5"}),"Favorite Genres"]})}),e.jsx(Ae,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"animate-pulse flex space-x-2",children:[e.jsx("div",{className:"h-6 w-20 bg-muted rounded"}),e.jsx("div",{className:"h-6 w-24 bg-muted rounded"}),e.jsx("div",{className:"h-6 w-16 bg-muted rounded"})]})})})]}):q&&q.length>0?e.jsxs(ye,{className:"mb-6",children:[e.jsx(Ge,{children:e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(Zo,{className:"w-5 h-5"}),"Favorite Genres"]})}),e.jsx(Ae,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:q.map((te,G)=>e.jsx(Ke,{variant:"secondary",children:te},G))})})]}):null}),e.jsxs(or,{value:S,onValueChange:E,children:[e.jsxs(lr,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsxs(Qt,{value:"reviews",children:[e.jsx(ns,{className:"w-4 h-4 mr-2"}),"Reviews (",N.stats.totalReviews,")"]}),e.jsxs(Qt,{value:"lists",children:[e.jsx(yt,{className:"w-4 h-4 mr-2"}),"Lists (",N.lists.filter(te=>te.isPublic||u).length,")"]}),e.jsxs(Qt,{value:"activity",children:[e.jsx(ga,{className:"w-4 h-4 mr-2"}),"Activity"]})]}),e.jsx(Jt,{value:"reviews",children:e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Recent Reviews"}),e.jsxs(ot,{children:["Reviews written by ",u?"you":N.username]})]}),e.jsx(Ae,{children:N.recentReviews.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ns,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),e.jsx("p",{children:"No reviews yet"})]}):e.jsx("div",{className:"space-y-4",children:N.recentReviews.map(te=>e.jsxs("div",{className:"p-4 rounded-lg border border-border hover:border-primary transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"mb-1",children:te.bookTitle}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",te.bookAuthor]})]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((G,he)=>e.jsx(Ct,{className:`w-4 h-4 ${he<te.rating?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},he))})]}),e.jsx("p",{className:"text-sm mb-3",children:te.comment}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsx("span",{children:te.date}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Lf,{className:"w-3 h-3"}),te.likes," helpful"]})]})]},te.id))})})]})}),e.jsx(Jt,{value:"lists",children:e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Reading Lists"}),e.jsxs(ot,{children:[u?"Your":`${N.username}'s`," curated book collections"]})]}),e.jsx(Ae,{children:N.lists.filter(te=>te.isPublic||u).length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(yt,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),e.jsx("p",{children:"No public lists yet"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.lists.filter(te=>te.isPublic||u).map(te=>e.jsxs("button",{className:"p-4 rounded-lg border border-border hover:border-primary transition-colors cursor-pointer text-left w-full",onClick:()=>{console.log(" List clicked:",te),console.log(" onViewList exists?",!!C),C?C({id:te.id,name:te.name,count:te.count,icon:yt}):console.warn(" onViewList callback not provided!")},children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(yt,{className:"w-5 h-5 text-primary"}),!te.isPublic&&e.jsxs(Ke,{variant:"outline",className:"text-xs",children:[e.jsx(ks,{className:"w-3 h-3 mr-1"}),"Private"]})]}),e.jsx("h4",{className:"mb-1",children:te.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[te.count," ",te.count===1?"book":"books"]})]},te.id))})})]})}),e.jsx(Jt,{value:"activity",children:e.jsxs(ye,{children:[e.jsxs(Ge,{children:[e.jsx(Ve,{children:"Recent Activity"}),e.jsxs(ot,{children:["Latest actions by ",u?"you":N.username]})]}),e.jsx(Ae,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-accent/10",children:[e.jsx(Ct,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm",children:["Rated ",e.jsx("span",{className:"font-medium",children:"The Midnight Library"})," 5 stars"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 days ago"})]})]}),e.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-accent/10",children:[e.jsx(ns,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm",children:["Reviewed ",e.jsx("span",{className:"font-medium",children:"Project Hail Mary"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"3 days ago"})]})]}),e.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-accent/10",children:[e.jsx(nh,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm",children:["Finished reading ",e.jsx("span",{className:"font-medium",children:"Atomic Habits"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 week ago"})]})]}),e.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-accent/10",children:[e.jsx(Xn,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm",children:["Added ",e.jsx("span",{className:"font-medium",children:"The Seven Husbands of Evelyn Hugo"})," to Want to Read"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 week ago"})]})]})]})})]})})]})]})]}),e.jsx($h,{isOpen:me,onClose:()=>ue(!1),userId:N.id,username:N.username,defaultTab:ce,onUserClick:U})]})}function CD({list:a,onBack:n,onLogoClick:l,onBookClick:i,theme:c,onToggleTheme:u,onListUpdated:h,readonly:x=!1,userId:p}){const v=a.icon,[b,g]=m.useState([]),[j,w]=m.useState(!0),[C,S]=m.useState(null);m.useEffect(()=>{E()},[a.id]);const E=async()=>{try{w(!0),console.log(" Loading books for list:",a.id);const T=await gi.getListById(a.id);console.log(" Books loaded:",T),g(T.list.books||[])}catch(T){console.error(" Failed to load books:",T),K.error("Failed to load books from this list"),g([])}finally{w(!1)}},N=async T=>{try{S(T.book_id),await gi.removeBookFromList(a.id,T.book_id),g(R=>R.filter(D=>D.book_id!==T.book_id)),K.success(`Removed "${T.title}" from ${a.name}`),h?.()}catch(R){console.error("Failed to remove book:",R),K.error("Failed to remove book from list")}finally{S(null)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-2 hover:opacity-80 transition-opacity flex-shrink-0",children:[e.jsx(Mr,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[e.jsx(js,{theme:c,onToggle:u}),e.jsx(I,{variant:"ghost",size:"sm",onClick:n,children:"Back"})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(v,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl md:text-4xl mb-2",children:a.name}),e.jsxs("p",{className:"text-muted-foreground",children:[b.length," ",b.length===1?"book":"books"," in this list"]})]})]})}),j?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(ra,{className:"h-8 w-8 animate-spin"})}):b.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(T=>e.jsx(ye,{className:"group overflow-hidden hover:shadow-lg transition-shadow",children:e.jsxs(Ae,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-[2/3] overflow-hidden cursor-pointer bg-muted",onClick:()=>i(T.book_id),children:T.cover_image_url?e.jsx("img",{src:T.cover_image_url,alt:T.title,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(yt,{className:"h-12 w-12 text-muted-foreground"})})}),e.jsx(I,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity gap-1",onClick:()=>N(T),disabled:C===T.book_id,style:{display:x?"none":"flex"},children:C===T.book_id?e.jsx(ra,{className:"w-3 h-3 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(pi,{className:"w-3 h-3"}),"Remove"]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold line-clamp-2 mb-1 cursor-pointer hover:text-primary transition-colors",onClick:()=>i(T.book_id),children:T.title}),T.authors&&T.authors.length>0&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-1",children:T.authors.join(", ")}),e.jsxs("div",{className:"flex items-center justify-between",children:[T.average_rating!==void 0&&T.average_rating!==null&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"}),e.jsx("span",{className:"text-sm",children:Number(T.average_rating).toFixed(1)})]}),T.genre&&e.jsx(Ke,{variant:"outline",className:"text-xs",children:T.genre})]}),e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Added ",new Date(T.added_at).toLocaleDateString()]})]})]})},T.book_id))}):e.jsx(ye,{className:"border-dashed",children:e.jsxs(Ae,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mb-4",children:e.jsx(yt,{className:"w-10 h-10 text-muted-foreground"})}),e.jsx(Ve,{className:"mb-2",children:"No books yet"}),e.jsx(ot,{className:"text-center max-w-md mb-6",children:"This list is empty. Browse books and add them to this list to start building your collection!"}),e.jsxs(I,{onClick:l,className:"gap-2",children:[e.jsx(Qo,{className:"w-4 h-4"}),"Browse Books"]})]})})]})]})}function RD({open:a,onOpenChange:n,verificationStatus:l}){const[i,c]=m.useState(""),[u,h]=m.useState(null),[x,p]=m.useState(""),[v,b]=m.useState(null),[g,j]=m.useState(""),[w,C]=m.useState(!1),S=R=>{const D=R.target.files?.[0];if(D){if(D.size>5*1024*1024){K.error("File size must be less than 5MB");return}h(D);const _=new FileReader;_.onloadend=()=>{p(_.result)},_.readAsDataURL(D)}},E=R=>{const D=R.target.files?.[0];if(D){if(D.size>5*1024*1024){K.error("File size must be less than 5MB");return}b(D);const _=new FileReader;_.onloadend=()=>{j(_.result)},_.readAsDataURL(D)}},N=()=>{c(""),h(null),p(""),b(null),j("")},T=async R=>{if(R.preventDefault(),!i.trim()){K.error("Please enter your full name");return}if(!u){K.error("Please upload your ID card");return}if(!v){K.error("Please upload your selfie");return}C(!0);try{const D=x,_=g;await Ce.submitAuthorVerification({full_name:i.trim(),id_card_image:D,selfie_image:_}),K.success("Verification request submitted successfully!"),N(),n(!1),setTimeout(()=>{window.location.reload()},1500)}catch(D){console.error("Failed to submit verification:",D),K.error(D.message||"Failed to submit verification request")}finally{C(!1)}};return l==="approved"?e.jsx(Cs,{open:a,onOpenChange:n,children:e.jsxs(bs,{className:"sm:max-w-md",children:[e.jsxs(Rs,{children:[e.jsxs(As,{className:"flex items-center gap-2",children:[e.jsx(Us,{className:"w-5 h-5 text-green-500"}),"Already Verified"]}),e.jsx(_s,{children:"You are already a verified author! You can access your author dashboard."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:()=>n(!1),children:"Close"})})]})}):l==="pending"?e.jsx(Cs,{open:a,onOpenChange:n,children:e.jsxs(bs,{className:"sm:max-w-md",children:[e.jsxs(Rs,{children:[e.jsxs(As,{className:"flex items-center gap-2",children:[e.jsx(ra,{className:"w-5 h-5 text-blue-500 animate-spin"}),"Verification Pending"]}),e.jsx(_s,{children:"Your verification request is currently being reviewed by our admin team. You'll be notified once it's approved."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:()=>n(!1),children:"Close"})})]})}):e.jsx(Cs,{open:a,onOpenChange:n,children:e.jsxs(bs,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Rs,{children:[e.jsxs(As,{className:"flex items-center gap-2 text-2xl",children:[e.jsx(hn,{className:"w-6 h-6 text-primary"}),"Become an Author"]}),e.jsx(_s,{children:"Submit your verification documents to become a verified author on BookArc"})]}),e.jsxs(pa,{className:"bg-primary/10 border-primary/30",children:[e.jsx(Ia,{className:"h-4 w-4 text-primary"}),e.jsxs(va,{className:"text-sm",children:[e.jsx("strong",{children:"Privacy Notice:"})," Your documents are encrypted and used only for verification purposes. They will not be shared with third parties."]})]}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(Me,{htmlFor:"fullName",className:"mb-2 block",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ee,{id:"fullName",placeholder:"Enter your full legal name",value:i,onChange:R=>c(R.target.value),required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Must match the name on your ID card"})]}),e.jsxs("div",{children:[e.jsxs(Me,{className:"mb-2 block",children:["Government-issued ID Card ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upload a clear photo of your passport, driver's license, or national ID card"}),x?e.jsxs("div",{className:"relative border-2 border-dashed border-primary/50 rounded-lg p-4 bg-primary/5",children:[e.jsx("img",{src:x,alt:"ID Card Preview",className:"max-h-48 mx-auto rounded"}),e.jsx(I,{type:"button",variant:"ghost",size:"sm",onClick:()=>{h(null),p("")},className:"absolute top-2 right-2",children:e.jsx(Fa,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"border-2 border-dashed border-border rounded-lg p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-accent/10 transition-colors",children:[e.jsx(vi,{className:"w-10 h-10 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground mb-1",children:"Click to upload or drag and drop"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"PNG, JPG (max. 5MB)"}),e.jsx(Ee,{type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsxs(Me,{className:"mb-2 block",children:["Selfie Photo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upload a clear selfie showing your face. Make sure your face is well-lit and matches your ID"}),g?e.jsxs("div",{className:"relative border-2 border-dashed border-primary/50 rounded-lg p-4 bg-primary/5",children:[e.jsx("img",{src:g,alt:"Selfie Preview",className:"max-h-48 mx-auto rounded"}),e.jsx(I,{type:"button",variant:"ghost",size:"sm",onClick:()=>{b(null),j("")},className:"absolute top-2 right-2",children:e.jsx(Fa,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"border-2 border-dashed border-border rounded-lg p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-accent/10 transition-colors",children:[e.jsx(vi,{className:"w-10 h-10 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground mb-1",children:"Click to upload or drag and drop"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"PNG or JPG (max. 5MB)"}),e.jsx(Ee,{type:"file",accept:"image/*",onChange:E,className:"hidden"})]})]}),l==="rejected"&&e.jsxs(pa,{className:"bg-red-500/10 border-red-500/30",children:[e.jsx(Ia,{className:"h-4 w-4 text-red-500"}),e.jsx(va,{children:"Your previous verification request was rejected. Please review your documents and submit again."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>{N(),n(!1)},className:"flex-1",children:"Cancel"}),e.jsx(I,{type:"submit",disabled:w||!i.trim()||!u||!v,className:"flex-1 bg-primary hover:bg-primary/90",children:w?e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Verification"})]}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By submitting, you agree to our"," ",e.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]})})}function AD({onBack:a,onLogoClick:n,theme:l,onToggleTheme:i,isUserLoggedIn:c,onLoginRequired:u,onGenreClick:h,currentUser:x}){const[p,v]=m.useState([]),[b,g]=m.useState(!0),[j,w]=m.useState(""),[C,S]=m.useState("popularity");m.useEffect(()=>{E()},[c]);const E=async()=>{try{g(!0);const O=await Ce.getAllGenres();v(O.genres||[])}catch(O){console.error("Failed to load genres:",O),K.error("Failed to load genres")}finally{g(!1)}},N=async O=>{if(!c){K.error("Please log in to favorite genres"),u&&setTimeout(()=>u(),1500);return}if(x?.isAdmin){K.error("Admins cannot favorite genres");return}const P=p.find($=>$.genre_id===O);if(P)try{P.is_favorited?(await Ce.unfavoriteGenre(O),K.success(`Removed ${P.genre_name} from favorites`)):(await Ce.favoriteGenre(O),K.success(`Added ${P.genre_name} to favorites!`)),v(p.map($=>$.genre_id===O?{...$,is_favorited:!$.is_favorited}:$))}catch($){console.error("Failed to toggle favorite:",$),K.error($.message||"Failed to update favorite")}},T=p.filter(O=>O.genre_name.toLowerCase().includes(j.toLowerCase())).sort((O,P)=>C==="name"?O.genre_name.localeCompare(P.genre_name):P.book_count-O.book_count),R=T.filter(O=>O.is_favorited),D=T.filter(O=>!O.is_favorited),_=O=>{const P=["from-blue-500/20 to-blue-600/20 border-blue-500/30","from-purple-500/20 to-purple-600/20 border-purple-500/30","from-pink-500/20 to-pink-600/20 border-pink-500/30","from-green-500/20 to-green-600/20 border-green-500/30","from-yellow-500/20 to-yellow-600/20 border-yellow-500/30","from-red-500/20 to-red-600/20 border-red-500/30","from-indigo-500/20 to-indigo-600/20 border-indigo-500/30","from-teal-500/20 to-teal-600/20 border-teal-500/30"];return P[O%P.length]};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[e.jsx(Vs,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(js,{theme:l,onToggle:i}),e.jsxs(I,{variant:"outline",onClick:a,children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Back"]})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl mb-3",children:"Explore Genres"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Discover books by genre and save your favorites for personalized recommendations"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ee,{placeholder:"Search genres...",value:j,onChange:O=>w(O.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:C==="popularity"?"default":"outline",onClick:()=>S("popularity"),className:"gap-2",children:[e.jsx(ga,{className:"w-4 h-4"}),"Popular"]}),e.jsxs(I,{variant:C==="name"?"default":"outline",onClick:()=>S("name"),className:"gap-2",children:[e.jsx(uS,{className:"w-4 h-4"}),"A-Z"]})]})]}),b?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(12)].map((O,P)=>e.jsx(ye,{className:"animate-pulse",children:e.jsxs(Ae,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},P))}):e.jsxs(e.Fragment,{children:[c&&R.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(Xn,{className:"w-5 h-5 text-red-500 fill-red-500"}),e.jsx("h2",{className:"text-2xl",children:"Your Favorite Genres"}),e.jsx(Ke,{variant:"secondary",children:R.length})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:R.map((O,P)=>e.jsx(ye,{className:`group relative overflow-hidden border-2 bg-gradient-to-br ${_(P)} hover:shadow-xl transition-all duration-300 cursor-pointer`,children:e.jsxs(Ae,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx(yt,{className:"w-6 h-6 text-primary"}),e.jsx("button",{onClick:$=>{$.stopPropagation(),N(O.genre_id)},className:"transition-transform hover:scale-110",children:e.jsx(Xn,{className:"w-5 h-5 text-red-500 fill-red-500"})})]}),e.jsxs("button",{onClick:()=>h&&h(O.genre_name),className:"w-full text-left",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-primary transition-colors",children:O.genre_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[O.book_count.toLocaleString()," books"]})]})]})},O.genre_id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl mb-6",children:c&&R.length>0?"All Genres":"Browse Genres"}),D.length===0?e.jsxs(ye,{className:"p-12 text-center",children:[e.jsx(yt,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-20"}),e.jsx("p",{className:"text-muted-foreground",children:j?"No genres found matching your search":"No genres available"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:D.map((O,P)=>e.jsx(ye,{className:`group relative overflow-hidden border bg-gradient-to-br ${_(P+R.length)} hover:shadow-xl hover:border-primary/40 transition-all duration-300 cursor-pointer`,children:e.jsxs(Ae,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx(yt,{className:"w-6 h-6 text-primary"}),c&&!x?.isAdmin&&e.jsx("button",{onClick:$=>{$.stopPropagation(),N(O.genre_id)},className:"opacity-0 group-hover:opacity-100 transition-all hover:scale-110",children:e.jsx(Xn,{className:"w-5 h-5 text-muted-foreground hover:text-red-500"})})]}),e.jsxs("button",{onClick:()=>h&&h(O.genre_name),className:"w-full text-left",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-primary transition-colors",children:O.genre_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[O.book_count.toLocaleString()," books"]})]})]})},O.genre_id))})]})]})]})]})}function _D({authorId:a,authorType:n,onBack:l,onLogoClick:i,onBookSelect:c,theme:u,onToggleTheme:h,isUserLoggedIn:x,onLoginRequired:p,onReportSubmit:v,isFollowing:b,onFollowAuthor:g,onUnfollowAuthor:j,currentUser:w,onUserSelect:C,onAuthorSelect:S}){const[E,N]=m.useState(null),[T,R]=m.useState(!0),[D,_]=m.useState(null);return m.useEffect(()=>{a&&(async()=>{console.log(` Loading author profile for ID: ${a}`);try{R(!0),_(null),console.log(` Fetching author profile for user ID: ${a}, type: ${n||"auto"}`);const P=await Ce.getAuthorProfile(a,n);console.log(" Author profile loaded:",P),console.log(` User ID: ${P.id}`),console.log(` Author ID: ${P.authorId}`);const $={id:P.id,authorId:P.authorId,name:P.name,email:P.email,avatarUrl:P.avatarUrl,bio:P.bio||"",website:P.website,location:P.location,joinDate:P.joinDate,verified:P.verified,authorType:P.authorType,socialLinks:{twitter:"",instagram:"",facebook:""},stats:{...P.stats,ratingBreakdown:P.stats.ratingBreakdown||{5:0,4:0,3:0,2:0,1:0}},books:P.books};N($)}catch(P){console.error(" Failed to load author profile:",P),_(P.message||"Failed to load author profile"),K.error("Failed to load author profile")}finally{R(!1)}})()},[a,n]),T?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading author profile..."})]})}):D||!E?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"text-destructive text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Failed to Load Author"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:D||"Author not found"}),e.jsx("button",{onClick:l,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Go Back"})]})}):e.jsx(pw,{author:E,onBack:l,onLogoClick:i,onBookSelect:c,theme:u,onToggleTheme:h,isUserLoggedIn:x,onLoginRequired:p,onReportSubmit:v,isFollowing:b,onFollowAuthor:g,onUnfollowAuthor:j,currentUser:w,onUserSelect:C,onAuthorSelect:S})}const ED="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?q=80&w=2128&auto=format&fit=crop";function TD(){const[a,n]=m.useState("home"),[l,i]=m.useState("dark"),[c,u]=m.useState(null),[h,x]=m.useState(null),[p,v]=m.useState(null),[b,g]=m.useState(!1),[j,w]=m.useState(!1),[C,S]=m.useState(!1),[E,N]=m.useState(""),[T,R]=m.useState(null),[D,_]=m.useState("home"),[O,P]=m.useState(!1),[$,se]=m.useState(!1),[xe,oe]=m.useState("books"),[W,me]=m.useState(void 0),[ue,ce]=m.useState(null),[A,q]=m.useState({id:0,username:"",email:"",avatarUrl:"",verificationStatus:null,isAdmin:!1,isPrivate:!1,bio:"",location:"",joinDate:"",role:"normal"}),[M,ae]=m.useState({name:"Author Name",email:"author@email.com",avatarUrl:""}),[ve,B]=m.useState(!1),[Z,U]=m.useState([]),[Q,le]=m.useState([]),[te,G]=m.useState([]),[he,Ne]=m.useState([]),[_e,Be]=m.useState([]),[Pe,ct]=m.useState([]),[Se]=m.useState([{id:2,username:"Emma Wilson",email:"emma.wilson@example.com",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Emma",bio:"Sci-fi enthusiast and fantasy lover. Always hunting for the next epic adventure!",location:"London, UK",website:"https://emmareads.blog",joinDate:"March 2023",isPrivate:!1,stats:{totalReviews:156,totalRatings:342,booksRead:287,followers:1243,following:456},lists:[{id:1,name:"Best Sci-Fi 2024",count:12,isPublic:!0},{id:2,name:"Epic Fantasy Series",count:8,isPublic:!0},{id:3,name:"Personal Favorites",count:5,isPublic:!1}],recentReviews:[{id:1,bookTitle:"The Midnight Library",bookAuthor:"Matt Haig",rating:5,comment:"Absolutely mind-blowing! This book made me think about life choices in a whole new way.",date:"2 days ago",likes:45}],favoriteGenres:["Science Fiction","Fantasy","Mystery"]},{id:3,username:"David Kim",email:"david.kim@example.com",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=David",bio:"Non-fiction reader. Psychology, business, and self-improvement are my jam.",location:"San Francisco, CA",joinDate:"July 2022",isPrivate:!1,stats:{totalReviews:89,totalRatings:201,booksRead:178,followers:678,following:234},lists:[{id:1,name:"Business Classics",count:15,isPublic:!0},{id:2,name:"Psychology Must-Reads",count:20,isPublic:!0}],recentReviews:[{id:1,bookTitle:"Atomic Habits",bookAuthor:"James Clear",rating:5,comment:"Life-changing! Applied these principles and saw immediate results.",date:"5 days ago",likes:67}],favoriteGenres:["Non-Fiction","Psychology","Business"]},{id:4,username:"Olivia Martinez",email:"olivia.martinez@example.com",avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Olivia",bio:"Romance and contemporary fiction aficionado. Love a good love story!",location:"Madrid, Spain",joinDate:"November 2023",isPrivate:!0,stats:{totalReviews:64,totalRatings:128,booksRead:112,followers:289,following:167},lists:[{id:1,name:"Favorite Romance",count:18,isPublic:!1}],recentReviews:[],favoriteGenres:["Romance","Contemporary Fiction"]}]),L=V=>{u(V.id),_("browse"),n("book-details")},we=V=>{console.log(` User selected: ${V}`),v(V),n("user-profile")},[Le,ee]=m.useState(null),Qe=[Xn,yt,Ct,Go,ga],[ke,Ue]=m.useState(()=>[{id:-1,name:"Reading",count:0,bookIds:[],icon:yt},{id:-2,name:"Completed",count:0,bookIds:[],icon:nh},{id:-3,name:"Plan to Read",count:0,bookIds:[],icon:Kn},{id:-4,name:"On-Hold",count:0,bookIds:[],icon:Kb},{id:-5,name:"Dropped",count:0,bookIds:[],icon:Go}]);m.useEffect(()=>{l==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[l]),m.useEffect(()=>{(async()=>{if(b&&ar.isAuthenticated())try{const Y=await Ce.getUserProfile(),be=Y.created_at?new Date(Y.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"",at=Y.role==="admin",mt=Y.verification_status==="none"?null:Y.verification_status||null;q(X=>({...X,id:Y.user_id,username:Y.display_name||Y.username||X.username,email:Y.email||X.email,avatarUrl:Y.profile_image||"",bio:Y.bio||"",location:Y.location||"",joinDate:be,isAdmin:at,isPrivate:at?!0:!Y.is_public,role:Y.role||"normal",verificationStatus:Y.role==="author"?"approved":mt}))}catch(Y){console.error("Failed to load user profile:",Y)}})()},[b]),m.useEffect(()=>{(async()=>{if(a==="dashboard"&&b&&ar.isAuthenticated())try{console.log(" Reloading profile on dashboard...");const Y=await Ce.getUserProfile();console.log(" DEBUG: Dashboard reload - Location:",Y.location);const be=Y.created_at?new Date(Y.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"",at=Y.role==="admin",mt=Y.verification_status==="none"?null:Y.verification_status||null;q(X=>({...X,id:Y.user_id,username:Y.display_name||Y.username||X.username,email:Y.email||X.email,avatarUrl:Y.profile_image||"",bio:Y.bio||"",location:Y.location||"",joinDate:be,isAdmin:at,isPrivate:at?!0:!Y.is_public,role:Y.role||"normal",verificationStatus:Y.role==="author"?"approved":mt})),console.log(" Dashboard profile reload complete")}catch(Y){console.error(" Failed to reload user profile:",Y)}})()},[a,b]);const Ye=()=>{i(l==="dark"?"light":"dark")},nt=()=>{g(!1),q({id:0,username:"",email:"",avatarUrl:"",verificationStatus:null,isAdmin:!1,isPrivate:!1,bio:"",location:"",joinDate:"",role:"normal"}),n("home"),ar.logout()},Gt=()=>{w(!1),ae({name:"Author Name",email:"author@email.com",avatarUrl:""}),n("home")},Es=(V,Y,be,at)=>{if(A.isAdmin){K.error("Admins cannot submit reports");return}const mt={user:"User Report",author:"Author Report",review:"Review Report",book:"Book Report"},X={id:te.length+1,type:mt[V],reporter:A.username,reported:Y,reason:be,details:at,date:new Date().toISOString().split("T")[0],status:"pending"};G([...te,X])},Ze=V=>{if(A.isAdmin){K.error("Admins cannot follow authors");return}if(j&&V.email&&V.email===M.email){K.error("You cannot follow yourself");return}he.some(be=>be.id===V.id)||(Ne([...he,{id:V.id,name:V.name,avatarUrl:V.avatarUrl,bio:V.bio,stats:{totalBooks:V.stats.totalBooks,followers:V.stats.followers}}]),K.success(`You are now following ${V.name}`))},lt=V=>{const Y=he.find(be=>be.id===V);Ne(he.filter(be=>be.id!==V)),Y&&K.success(`You unfollowed ${Y.name}`)},Et=V=>{if(A.isAdmin){K.error("Admins cannot follow users");return}if(j){K.error("Authors can only follow other authors");return}const Y=Se.find(at=>at.id===V);if(!(!Y||_e.some(at=>at.id===V)))if(Y.isPrivate){const at={id:Date.now(),fromUserId:A.id,fromUsername:A.username,fromAvatarUrl:A.avatarUrl,toUserId:V,status:"pending",date:new Date().toISOString()};ct([...Pe,at]),Be([..._e,{id:Y.id,username:Y.username,avatarUrl:Y.avatarUrl,bio:Y.bio,status:"requested",stats:{totalReviews:Y.stats.totalReviews,booksRead:Y.stats.booksRead}}]),K.success(`Follow request sent to ${Y.username}`),le([{id:Date.now(),type:"follow",title:"New Follow Request",message:`${A.username} wants to follow you`,timestamp:"Just now",isRead:!1,userName:A.username},...Q])}else Be([..._e,{id:Y.id,username:Y.username,avatarUrl:Y.avatarUrl,bio:Y.bio,status:"following",stats:{totalReviews:Y.stats.totalReviews,booksRead:Y.stats.booksRead}}]),K.success(`You are now following ${Y.username}`)},Pt=V=>{const Y=_e.find(be=>be.id===V);Be(_e.filter(be=>be.id!==V)),ct(Pe.filter(be=>!(be.fromUserId===A.id&&be.toUserId===V))),Y&&(Y.status==="requested"?K.success("Follow request cancelled"):K.success(`You unfollowed ${Y.username}`))},Te=V=>{const Y=Pe.find(be=>be.id===V);Y&&(ct(Pe.map(be=>be.id===V?{...be,status:"accepted"}:be)),K.success(`You accepted ${Y.fromUsername}'s follow request`),le([{id:Date.now(),type:"follow",title:"Follow Request Accepted",message:`${A.username} accepted your follow request`,timestamp:"Just now",isRead:!1,userName:A.username},...Q]))},De=V=>{Pe.find(be=>be.id===V)&&(ct(Pe.map(be=>be.id===V?{...be,status:"rejected"}:be)),K.success("Follow request rejected"))},_t=V=>{ct(Pe.filter(Y=>!(Y.fromUserId===A.id&&Y.toUserId===V&&Y.status==="pending"))),Be(_e.filter(Y=>Y.id!==V)),K.success("Follow request cancelled")},gt=V=>{if(console.log(` getUserProfileById called with userId: ${V}`),console.log(` currentUser.id: ${A.id}`),V===A.id&&b)return console.log(" Returning current user's own profile"),{id:A.id,username:A.username,email:A.email,avatarUrl:A.avatarUrl||"",bio:A.bio||"",location:A.location||"",joinDate:A.joinDate||"",isPrivate:A.isPrivate||!1,stats:{totalReviews:Le?.total_reviews||42,totalRatings:Le?.total_ratings||156,booksRead:Le?.books_read||134,followers:Le?.followers||567,following:Le?.following||_e.length+he.length},lists:ke.map(be=>({id:be.id,name:be.name,count:be.count,isPublic:!0})),recentReviews:[],favoriteGenres:[]};const Y=Se.find(be=>be.id===V);return Y?(console.log(" Returning mock user data"),Y):V&&V>0?(console.log(` Returning placeholder for real user ID ${V} - will be loaded by API`),{id:V,username:"Loading...",email:"",avatarUrl:"",bio:"",location:"",website:"",joinDate:"",isPrivate:!1,stats:{totalReviews:0,totalRatings:0,booksRead:0,followers:0,following:0},lists:[],recentReviews:[],favoriteGenres:[]}):(console.error(` Invalid userId: ${V}`),{id:0,username:"User Not Found",email:"",avatarUrl:"",bio:"This user could not be loaded.",location:"",joinDate:"",isPrivate:!1,stats:{totalReviews:0,totalRatings:0,booksRead:0,followers:0,following:0},lists:[],recentReviews:[],favoriteGenres:[]})},Tt=[{id:1,title:"The Midnight Library",author:"Matt Haig",rating:4.5,totalRatings:12847,cover:"https://images.unsplash.com/photo-1661936901394-a993c79303c7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxib29rJTIwY292ZXIlMjBmaWN0aW9ufGVufDF8fHx8MTc2MTgzMTA2MHww&ixlib=rb-4.1.0&q=80&w=1080",genre:"Fiction",description:"Between life and death there is a library, and within that library, the shelves go on forever. Every book provides a chance to try another life you could have lived.",publishYear:2020},{id:2,title:"Project Hail Mary",author:"Andy Weir",rating:4.7,totalRatings:18293,cover:"https://images.unsplash.com/photo-1711185900806-bf85e7fe7767?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYW50YXN5JTIwYm9vayUyMGNvdmVyfGVufDF8fHx8MTc2MTc3NDExMHww&ixlib=rb-4.1.0&q=80&w=1080",genre:"Sci-Fi",description:"A lone astronaut must save the earth from disaster in this incredible new science-based thriller from the author of The Martian.",publishYear:2021},{id:3,title:"The Seven Husbands of Evelyn Hugo",author:"Taylor Jenkins Reid",rating:4.6,totalRatings:15672,cover:"https://images.unsplash.com/photo-1739521949473-a703e0536ddf?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb2Rlcm4lMjBib29rJTIwY292ZXJ8ZW58MXx8fHwxNzYxNzMxNjY3fDA&ixlib=rb-4.1.0&q=80&w=1080",genre:"Historical Fiction",description:"A reclusive Hollywood icon opens up about her glamorous and scandalous life to an unknown magazine reporter.",publishYear:2017},{id:4,title:"The Silent Patient",author:"Alex Michaelides",rating:4.4,totalRatings:21456,cover:"https://images.unsplash.com/photo-1760696473709-a7da66ee87a6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxteXN0ZXJ5JTIwbm92ZWwlMjBjb3ZlcnxlbnwxfHx8fDE3NjE4MzE1NTB8MA&ixlib=rb-4.1.0&q=80&w=1080",genre:"Mystery",description:"A famous painter married to an in-demand fashion photographer becomes a household name after shooting her husband and then never speaking another word again.",publishYear:2019}],jt=[{id:5,title:"The Measure",author:"Nikki Erlick",rating:4.3,totalRatings:3842,cover:"https://images.unsplash.com/photo-1760120482171-d9d5468f75fd?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjbGFzc2ljJTIwbGl0ZXJhdHVyZSUyMGJvb2t8ZW58MXx8fHwxNzYxNzQ4NDEwfDA&ixlib=rb-4.1.0&q=80&w=1080",genre:"Contemporary",description:"Eight ordinary people. One extraordinary choice. It seems like any other day when a mysterious box appears at people's doors containing a string the exact length of their lives.",publishYear:2022},{id:6,title:"Happy Place",author:"Emily Henry",rating:4.2,totalRatings:5621,cover:"https://images.unsplash.com/photo-1661936901394-a993c79303c7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxib29rJTIwY292ZXIlMjBmaWN0aW9ufGVufDF8fHx8MTc2MTgzMTA2MHww&ixlib=rb-4.1.0&q=80&w=1080",genre:"Romance",description:"A couple who broke up months ago pretend to still be together for one last week at their annual beach vacation with their best friends.",publishYear:2023},{id:7,title:"Holly",author:"Stephen King",rating:4.1,totalRatings:4387,cover:"https://images.unsplash.com/photo-1657550650205-a351418bbf89?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2aW50YWdlJTIwYm9vayUyMHNwaW5lfGVufDF8fHx8MTc2MTgzMTU0OXww&ixlib=rb-4.1.0&q=80&w=1080",genre:"Horror",description:"Holly Gibney, one of King's most compelling characters, returns in a riveting novel about good vs. evil in a small Midwest town.",publishYear:2023},{id:8,title:"Fourth Wing",author:"Rebecca Yarros",rating:4.5,totalRatings:8934,cover:"https://images.unsplash.com/photo-1711185900806-bf85e7fe7767?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYW50YXN5JTIwYm9vayUyMGNvdmVyfGVufDF8fHx8MTc2MTc3NDExMHww&ixlib=rb-4.1.0&q=80&w=1080",genre:"Fantasy",description:"Twenty-year-old Violet Sorrengail was supposed to enter the Scribe Quadrant, but her mother ordered her to join the riders.",publishYear:2023}],Xt=V=>{if(!V)return null;const be=[...Tt,...jt].filter(je=>je.author===V),at=be.reduce((je,tt)=>je+tt.totalRatings,0),mt=be.length>0?be.reduce((je,tt)=>je+tt.rating,0)/be.length:0,X=V.toLowerCase().replace(/\s+/g,".");return{id:Math.floor(Math.random()*1e6),name:V,email:`${X}@bookarc.com`,avatarUrl:`https://api.dicebear.com/7.x/avataaars/svg?seed=${V}`,bio:`${V} is a talented author known for captivating storytelling and deep character development. With a passion for writing that spans multiple genres, they have created works that resonate with readers worldwide.

Their books explore complex themes and emotions, offering readers both entertainment and thought-provoking narratives. Each story is crafted with care, attention to detail, and a unique voice that sets their work apart.`,website:`https://${V.toLowerCase().replace(/\s+/g,"")}.com`,location:"New York, USA",joinDate:"January 2020",verified:!0,socialLinks:{twitter:`@${V.split(" ")[0].toLowerCase()}`,instagram:`@${V.split(" ")[0].toLowerCase()}writes`,facebook:V.replace(/\s+/g,"")},stats:{totalBooks:be.length,totalReads:be.reduce((je,tt)=>je+Math.floor(tt.totalRatings*5),0),totalRatings:at,avgRating:mt,followers:Math.floor(at*.3)},books:be}},Fs=async(V,Y)=>{console.log(` Loading author profile for: ${V}, type: ${Y}`);try{if(typeof V=="string"){const mt=Xt(V);if(mt)return ce(mt),mt;throw new Error("Author not found")}const be=await Ce.getAuthorProfile(V,Y);console.log(" Loaded author profile:",be);const at={id:be.id,name:be.name,email:be.email,avatarUrl:be.avatarUrl,bio:be.bio||"",website:be.website,location:be.location,joinDate:be.joinDate,verified:be.verified,socialLinks:{twitter:"",instagram:"",facebook:""},stats:be.stats,books:be.books};return ce(at),me(Y),at}catch(be){throw console.error(" Failed to load author profile from API:",be),K.error("Failed to load author profile"),be}},Ma=V=>{const Y=[...Tt,...jt],be=localStorage.getItem("authorBooks");if(be)try{const at=JSON.parse(be);Y.push(...at)}catch(at){console.error("Error loading author books:",at)}return Y.find(at=>at.id===V)||Y[0]},Ts=V=>{const Y=new FileReader,be=new FileReader;Y.onloadend=()=>{const at=Y.result;be.onloadend=()=>{const mt=be.result,X={id:Date.now(),userId:Date.now()+1,userName:A.username,userEmail:A.email,fullName:V.fullName,idCardPreview:at,selfiePreview:mt,submittedDate:new Date().toISOString(),status:"pending"};U([...Z,X]),q({...A,verificationStatus:"pending"}),K.success("Verification submitted successfully!"),B(!1)},be.readAsDataURL(V.selfie)},Y.readAsDataURL(V.idCard)},[Wt,la]=m.useState(()=>{const V=localStorage.getItem("userReviews");if(V)try{return JSON.parse(V)}catch(Y){console.error("Error loading reviews:",Y)}return{bookReviews:{},authorReviews:{}}});m.useEffect(()=>{localStorage.setItem("userReviews",JSON.stringify(Wt))},[Wt]);const[Ds,ms]=m.useState(()=>{const V=localStorage.getItem("helpfulReviews");if(V)try{return JSON.parse(V)}catch(Y){console.error("Error loading helpful reviews:",Y)}return{}});m.useEffect(()=>{localStorage.setItem("helpfulReviews",JSON.stringify(Ds))},[Ds]);const Je=V=>{ms(Y=>({...Y,[V]:!Y[V]}))},At=(V,Y,be)=>{const at={id:Date.now(),user:A.username,avatar:A.avatarUrl||`https://api.dicebear.com/7.x/avataaars/svg?seed=${A.username}`,rating:Y,date:"Just now",review:be,helpful:0};la(mt=>({...mt,bookReviews:{...mt.bookReviews,[V]:[at,...mt.bookReviews[V]||[]]}}))};if(a==="login")return e.jsxs(e.Fragment,{children:[e.jsx(bb,{onBack:()=>n("home"),onLogin:async V=>{try{const Y=await Ce.getUserProfile(),be=Y.role==="admin";q({id:Y.user_id,username:Y.username||Y.display_name||V.username,email:V.email,avatarUrl:Y.profile_image||"",verificationStatus:null,isAdmin:be,isPrivate:be?!0:!Y.is_public,bio:Y.bio||"",location:Y.location||"",joinDate:Y.created_at?new Date(Y.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"",role:Y.role||"normal"}),g(!0),n("dashboard")}catch(Y){console.error("Error loading user profile during login:",Y),q({id:Date.now(),username:V.username,email:V.email,avatarUrl:"",verificationStatus:null,isAdmin:!1,isPrivate:!1,bio:"",location:"",joinDate:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}),role:"normal"}),g(!0),n("dashboard"),K.warning("Profile loaded with limited information")}},theme:l,onToggleTheme:Ye}),e.jsx(ps,{})]});if(a==="register")return e.jsxs(e.Fragment,{children:[e.jsx(bb,{onBack:()=>n("home"),onLogin:async V=>{try{const Y=await Ce.getUserProfile(),be=Y.role==="admin";q({id:Y.user_id,username:Y.username||Y.display_name||V.username,email:V.email,avatarUrl:Y.profile_image||"",verificationStatus:null,isAdmin:be,isPrivate:be?!0:!Y.is_public,bio:Y.bio||"",location:Y.location||"",joinDate:Y.created_at?new Date(Y.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"",role:Y.role||"normal"}),g(!0),n("dashboard")}catch(Y){console.error(" Error loading user profile:",Y),q({id:Date.now(),username:V.username,email:V.email,avatarUrl:"",verificationStatus:null,isAdmin:!1,isPrivate:!1,bio:"",location:"",joinDate:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}),role:"normal"}),g(!0),n("dashboard")}},theme:l,onToggleTheme:Ye,defaultTab:"register"}),e.jsx(ps,{})]});if(a==="author")return e.jsxs(e.Fragment,{children:[e.jsx(zA,{onBack:()=>n("home"),onLogin:()=>{w(!0),n("author-dashboard")},onRegister:()=>n("author-verification"),theme:l,onToggleTheme:Ye}),e.jsx(ps,{})]});if(a==="author-verification")return e.jsxs(e.Fragment,{children:[e.jsx(BA,{onBack:()=>n("author"),onVerified:()=>n("author-registration"),theme:l,onToggleTheme:Ye}),e.jsx(ps,{})]});if(a==="author-registration")return e.jsxs(e.Fragment,{children:[e.jsx(LA,{onBack:()=>n("author-verification"),onRegister:()=>{w(!0),n("author-dashboard")},theme:l,onToggleTheme:Ye}),e.jsx(ps,{})]});if(a==="admin")return e.jsxs(e.Fragment,{children:[e.jsx(UA,{onBack:()=>n("home"),onLogin:()=>n("admin-dashboard"),theme:l,onToggleTheme:Ye}),e.jsx(ps,{})]});if(a==="dashboard")return e.jsxs(e.Fragment,{children:[e.jsx(c3,{onLogout:nt,onLogoClick:()=>n("home"),onViewNotifications:()=>n("notifications"),onViewSubscription:()=>n("subscription"),onViewChat:()=>n("chat"),onEditProfile:()=>n("edit-profile"),onViewBookDetails:V=>{u(V),_("home"),n("book-details")},onBecomeAuthor:()=>B(!0),onViewAdminDashboard:()=>n("admin-dashboard"),onViewAuthorDashboard:()=>n("author-dashboard"),currentUser:A,userLists:ke,setUserLists:Ue,listIcons:Qe,onViewList:V=>{N(V.name),n("list-view")},followedAuthors:he,onUnfollowAuthor:lt,onViewAuthorProfile:async V=>{const Y=await Fs(V);x(Y.id),n("author-profile")},followedUsers:_e,onUnfollowUser:Pt,onViewUserProfile:V=>{v(V),n("user-profile")},followRequests:Pe.filter(V=>V.toUserId===A.id&&V.status==="pending"),onAcceptFollowRequest:Te,onRejectFollowRequest:De,theme:l,onToggleTheme:Ye,onUserSelect:V=>{console.log(" User selected from dashboard followers modal:",V),v(V),n("user-profile")},onAuthorSelect:V=>{console.log(" Author selected from dashboard followers modal:",V),x(V.id),Fs(V.id,V.authorType),n("author-profile")}}),e.jsx(ps,{})]});if(a==="author-dashboard")return e.jsxs(e.Fragment,{children:[e.jsx(P3,{onLogout:nt,onLogoClick:()=>n("home"),onViewNotifications:()=>n("notifications"),onEditProfile:()=>n("edit-profile"),onViewUserDashboard:()=>n("dashboard"),onViewBookDetails:V=>{u(V),_("browse"),n("book-details")},currentAuthor:{name:A.username,email:A.email,avatarUrl:A.avatarUrl},theme:l,onToggleTheme:Ye}),e.jsx(ps,{})]});if(a==="author-edit-profile")return e.jsxs(e.Fragment,{children:[e.jsx(t_,{onBack:()=>n("author-dashboard"),onLogoClick:()=>n("home"),currentAuthor:M,onSave:V=>{ae({name:V.name,email:V.email,avatarUrl:V.avatarUrl||""}),n("author-dashboard")},onLogout:Gt,theme:l,onToggleTheme:Ye}),e.jsx(ps,{})]});if(a==="admin-dashboard")return e.jsxs(e.Fragment,{children:[e.jsx(KR,{currentUser:{name:A.username,email:A.email,avatarUrl:A.avatarUrl,isAdmin:A.isAdmin},onNavigateToProfile:()=>{n("dashboard")},onLogout:()=>{nt(),n("home")}}),e.jsx(ps,{})]});if(a==="browse")return e.jsxs(e.Fragment,{children:[e.jsx(xD,{onBack:()=>n("home"),onBookSelect:L,onAuthorSelect:V=>{console.log(" Author selected:",V),x(V.id),me(V.authorType),Fs(V.id,V.authorType),n("author-profile")},onUserSelect:we,onGenresClick:()=>n("genres"),initialSearchType:xe,mockUsers:Se,theme:l,onToggleTheme:Ye}),e.jsx(ps,{})]});if(a==="genres")return e.jsxs(e.Fragment,{children:[e.jsx(AD,{onBack:()=>n("home"),onLogoClick:()=>n("home"),theme:l,onToggleTheme:Ye,isUserLoggedIn:b,onLoginRequired:()=>n("login"),onGenreClick:V=>{n("browse")},currentUser:A}),e.jsx(ps,{})]});if(a==="book-details"&&c){const V=Ma(c),Y=Xt(V.author);return Y?e.jsxs(e.Fragment,{children:[e.jsx(yD,{bookId:c,onBack:()=>{["home","login","register","author","author-verification","author-registration","admin","dashboard","author-dashboard","admin-dashboard","admin-reports","browse","book-details","notifications","about","contact","subscription","chat","edit-profile","author-profile","list-view","user-profile","settings","author-notifications","author-edit-profile"].includes(D)?n(D):n("home")},theme:l,onToggleTheme:Ye,onLogoClick:()=>n("home"),isUserLoggedIn:b,onLoginRequired:()=>n("login"),userReviews:Wt.bookReviews[c]||[],onAddReview:(be,at)=>At(c,be,at),helpfulReviews:Ds,onToggleHelpful:Je,onReportSubmit:Es,onAuthorClick:async be=>{const at=await Fs(be);x(at.id),n("author-profile")},isFollowingAuthor:he.some(be=>be.id===Y.id),onFollowAuthor:Ze,onUnfollowAuthor:lt,getAuthorByName:Xt,currentUser:A}),e.jsx(ps,{})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("p",{children:"Error: Author not found"}),e.jsx(I,{onClick:()=>n("home"),children:"Go Back"})]}),e.jsx(ps,{})]})}if(a==="notifications")return e.jsxs(e.Fragment,{children:[e.jsx(e_,{userRole:A.role==="premium"?"normal":A.role,onBack:()=>n("dashboard"),theme:l,onToggleTheme:Ye}),e.jsx(ps,{})]});if(a==="contact")return e.jsx(ND,{onBack:()=>n("home"),theme:l,onToggleTheme:Ye,onLogoClick:()=>n("home")});if(a==="subscription")return e.jsx(jD,{onBack:()=>n("dashboard"),theme:l,onToggleTheme:Ye});if(a==="chat")return e.jsx(wD,{onBack:()=>n("dashboard"),onLogoClick:()=>n("home"),theme:l,onToggleTheme:Ye});if(a==="edit-profile")return e.jsx(SD,{onBack:()=>n("dashboard"),onLogoClick:()=>n("home"),currentUser:A,onSave:V=>{q({...A,username:V.username,email:V.email,avatarUrl:V.avatarUrl||"",bio:V.bio||"",location:V.location||""})},onLogout:nt,theme:l,onToggleTheme:Ye});if(a==="list-view"&&(E||T)){const V=T||ke.find(Y=>Y.name===E)||{id:0,name:"",count:0,icon:Xn};return e.jsx(CD,{list:V,onBack:()=>{R(null),T?.userId?n("user-profile"):n("dashboard")},onLogoClick:()=>n("home"),onBookClick:Y=>{u(Y),_("list-view"),n("book-details")},onListUpdated:()=>{T?.readonly||console.log("List updated, should refresh")},readonly:T?.readonly||!1,userId:T?.userId,theme:l,onToggleTheme:Ye})}if(a==="user-profile"&&p){console.log(` Rendering user-profile page for userId: ${p}`);const V=gt(p);return console.log(" User object for profile page:",V),V?e.jsxs(e.Fragment,{children:[e.jsx(kD,{user:V,onBack:()=>{A.isAdmin&&p===A.id?n("admin-dashboard"):n("browse")},onLogoClick:()=>n("home"),theme:l,onToggleTheme:Ye,isCurrentUser:p===A.id&&b,isUserLoggedIn:b,isAuthorLoggedIn:j,onLoginRequired:()=>n("login"),isFollowing:_e.some(Y=>Y.id===p&&Y.status==="following"),hasRequestedFollow:_e.some(Y=>Y.id===p&&Y.status==="requested"),onFollowUser:Et,onUnfollowUser:Pt,onCancelRequest:()=>_t(p),onEditProfile:()=>n("edit-profile"),onViewBookDetails:Y=>{u(Y),_("user-profile"),n("book-details")},currentUser:A,onUserSelect:Y=>{console.log(" User selected from followers modal:",Y),v(Y),n("user-profile")},onAuthorSelect:Y=>{console.log(" Author selected from followers modal:",Y),x(Y.id),Fs(Y.id,Y.authorType),n("author-profile")},onViewList:Y=>{console.log(" View list clicked:",Y),R({id:Y.id,name:Y.name,count:Y.count,icon:Y.icon,userId:p||void 0,readonly:p!==A.id}),n("list-view")}}),e.jsx(ps,{})]}):(console.warn(" getUserProfileById returned null"),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:e.jsxs(ye,{className:"p-12 text-center",children:[e.jsx(qs,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-20"}),e.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"User Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Unable to load user profile."}),e.jsx(I,{onClick:()=>n("browse"),variant:"outline",children:"Go Back"})]})}),e.jsx(ps,{})]}))}if(a==="author-profile"&&h)return console.log(` Rendering author-profile page for authorId: ${h}, type: ${W}`),e.jsxs(e.Fragment,{children:[e.jsx(_D,{authorId:h,authorType:W,onBack:()=>n("browse"),onLogoClick:()=>n("home"),onBookSelect:V=>{u(V.id),_("author-profile"),n("book-details")},theme:l,onToggleTheme:Ye,isUserLoggedIn:b,onLoginRequired:()=>n("login"),onReportSubmit:Es,isFollowing:he.some(V=>V.id===h),onFollowAuthor:Ze,onUnfollowAuthor:lt,currentUser:A,onUserSelect:we,onAuthorSelect:V=>{console.log(" Author selected from followers modal:",V),x(V.id),Fs(V.id,V.authorType),n("author-profile")}}),e.jsx(ps,{})]});const Vt=[{icon:yt,title:"Discover Books",description:"Explore millions of titles across every genre. Find your next favorite read with personalized recommendations."},{icon:Ct,title:"Rate & Review",description:"Share your thoughts and help others discover great books. Your opinion matters to our community."},{icon:ga,title:"Follow Trends",description:"Stay up-to-date with what's popular. See what the community is reading and loving right now."},{icon:qs,title:"Connect with Readers",description:"Join a passionate community of book lovers. Discuss, share, and grow your reading list together."}],ts=[{value:"2.4M+",label:"Books Catalogued"},{value:"850K+",label:"Active Readers"},{value:"12M+",label:"Reviews Written"},{value:"95%",label:"Satisfaction Rate"}];return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("nav",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:[e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>n("home"),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[e.jsx(Vs,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xl",children:"BookArc"})]}),e.jsx("div",{className:"hidden md:flex items-center gap-6"}),e.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[e.jsx(js,{theme:l,onToggle:Ye}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>se(!$),className:"p-2",children:e.jsx(qv,{className:"w-5 h-5"})}),$&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-card border border-border rounded-lg shadow-lg overflow-hidden z-50",children:[e.jsx("button",{onClick:()=>{n("browse"),se(!1)},className:"block w-full text-left py-2.5 px-4 hover:bg-accent/10 hover:text-primary transition-colors",children:"Browse Books"}),e.jsx("button",{onClick:()=>{n("genres"),se(!1)},className:"block w-full text-left py-2.5 px-4 hover:bg-accent/10 hover:text-primary transition-colors",children:"Browse Genres"}),e.jsx("a",{href:"#trending",onClick:()=>se(!1),className:"block w-full text-left py-2.5 px-4 hover:bg-accent/10 hover:text-primary transition-colors",children:"Trending"}),e.jsx("a",{href:"#new-releases",onClick:()=>se(!1),className:"block w-full text-left py-2.5 px-4 hover:bg-accent/10 hover:text-primary transition-colors",children:"New Releases"})]})]}),b||j?e.jsx("button",{onClick:()=>n(b?"dashboard":"author-dashboard"),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:e.jsxs(as,{className:"w-8 h-8",children:[e.jsx(vs,{src:b?A.avatarUrl:M.avatarUrl}),e.jsx(rs,{className:"bg-primary/10",children:e.jsx(na,{className:"w-4 h-4 text-primary"})})]})}):e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>n("login"),children:"Login"}),b&&!j&&!A.isAdmin&&e.jsxs(e.Fragment,{children:[!A.verificationStatus&&e.jsxs(I,{size:"sm",className:"flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>B(!0),children:[e.jsx(xi,{className:"w-4 h-4"}),"Become an Author"]}),A.verificationStatus==="approved"&&e.jsxs(Ke,{className:"gap-1.5 px-3 py-1.5 bg-primary/10 text-primary border-primary/20",children:[e.jsx(xi,{className:"w-4 h-4"}),"Verified Author"]}),A.verificationStatus==="pending"&&e.jsxs(Ke,{variant:"outline",className:"gap-1.5 px-3 py-1.5",children:[e.jsx(Kn,{className:"w-4 h-4"}),"Pending Approval"]})]}),(!b||!A?.isAdmin)&&e.jsxs(I,{size:"sm",className:"flex items-center gap-2 bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 text-background border-2 border-yellow-400",onClick:()=>n("subscription"),children:[e.jsx(er,{className:"w-4 h-4"}),"Premium"]})]}),e.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[e.jsx(js,{theme:l,onToggle:Ye}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>P(!O),className:"p-2",children:O?e.jsx(Fa,{className:"w-5 h-5"}):e.jsx(qv,{className:"w-5 h-5"})})]})]}),O&&e.jsx("div",{className:"md:hidden border-t border-border bg-card",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-3",children:[e.jsx("button",{onClick:()=>{n("browse"),P(!1)},className:"block w-full text-left py-2 px-3 rounded hover:bg-accent/10 hover:text-primary transition-colors",children:"Browse Books"}),e.jsx("a",{href:"#trending",onClick:()=>P(!1),className:"block w-full text-left py-2 px-3 rounded hover:bg-accent/10 hover:text-primary transition-colors",children:"Trending"}),e.jsx("a",{href:"#new-releases",onClick:()=>P(!1),className:"block w-full text-left py-2 px-3 rounded hover:bg-accent/10 hover:text-primary transition-colors",children:"New Releases"}),e.jsxs("div",{className:"pt-3 border-t border-border space-y-2",children:[e.jsx(I,{variant:"outline",className:"w-full justify-start",onClick:()=>{n("login"),P(!1)},children:"Login"}),b&&!j&&e.jsxs(I,{variant:"outline",className:"w-full justify-start border-primary/50 hover:bg-primary/10",onClick:()=>{B(!0),P(!1)},children:[e.jsx(xi,{className:"w-4 h-4 mr-2"}),"Become an Author"]}),(!b||!A?.isAdmin)&&e.jsxs(I,{className:"w-full justify-start bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 text-background border-2 border-yellow-400",onClick:()=>{n("subscription"),P(!1)},children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Premium"]})]})]})})]}),e.jsxs("section",{className:"relative py-20 md:py-32 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:ED,alt:"",className:"w-full h-full object-cover opacity-25 dark:opacity-15"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/50 via-background/75 to-background"})]}),e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx(Ke,{className:"mb-6 bg-primary/20 text-primary border-primary/30 backdrop-blur-sm shadow-lg",children:"Join 850K+ Book Lovers"}),e.jsxs("h1",{className:"text-4xl md:text-6xl mb-6 drop-shadow-sm",children:["Your Digital Library ",e.jsx("br",{}),"Where Stories Come Alive"]}),e.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 max-w-2xl mx-auto drop-shadow-sm",children:"Discover, rate, and review books in the world's most trusted reading community. Connect with fellow readers and authors in a space built for book lovers."}),e.jsx("div",{className:"max-w-xl mx-auto mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(Ee,{placeholder:"Search for books, authors, or genres...",className:"pl-12 h-14 bg-card border-border cursor-pointer",onClick:()=>n("browse"),readOnly:!0})]})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[e.jsxs(I,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>{oe("books"),n("browse")},children:[e.jsx(Mr,{className:"w-5 h-5 mr-2"}),"Browse Books"]}),e.jsxs(I,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>{oe("authors"),n("browse")},children:[e.jsx(qs,{className:"w-5 h-5 mr-2"}),"Browse Authors"]}),e.jsxs(I,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>{oe("users"),n("browse")},children:[e.jsx(qs,{className:"w-5 h-5 mr-2"}),"Browse Users"]}),e.jsxs(I,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>n("genres"),children:[e.jsx(yt,{className:"w-5 h-5 mr-2"}),"Browse Genres"]})]})]})})]}),e.jsx("section",{className:"py-12 bg-gradient-to-r from-secondary/30 via-accent/20 to-secondary/30 border-y border-border backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:ts.map((V,Y)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl text-primary mb-2 font-semibold",children:V.value}),e.jsx("div",{className:"text-muted-foreground",children:V.label})]},Y))})})}),e.jsx("section",{id:"trending",className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl md:text-4xl mb-3",children:"Trending Now"}),e.jsx("p",{className:"text-muted-foreground",children:"The most popular books in our community this week"})]}),e.jsx(I,{variant:"outline",className:"border-border hover:bg-accent/10",children:"View All"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Tt.map((V,Y)=>e.jsx(Ff,{title:V.title,author:V.author,rating:V.rating,reviews:V.totalRatings,coverUrl:V.cover,genre:V.genre,isTrending:!0,onClick:()=>{u(V.id),_("home"),n("book-details")}},Y))})]})}),e.jsx("section",{id:"discover",className:"py-20 bg-secondary/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl mb-4",children:"Everything You Need for Your Reading Journey"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"A comprehensive platform designed for readers and writers to connect, discover, and grow"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:Vt.map((V,Y)=>{const be=V.icon,at=["bg-primary/20 hover:bg-primary/30","bg-accent/20 hover:bg-accent/30","bg-secondary/30 hover:bg-secondary/40","bg-primary/15 hover:bg-primary/25"],mt=()=>{switch(V.title){case"Discover Books":n("browse");break;case"Rate & Review":n("browse");break;case"Follow Trends":document.getElementById("trending")?.scrollIntoView({behavior:"smooth"});break;case"Connect with Readers":n("login");break}};return e.jsxs("button",{onClick:mt,className:"bg-card border border-border rounded-lg p-6 hover:shadow-xl hover:border-primary/40 transition-all duration-300 text-left cursor-pointer",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg ${at[Y]} flex items-center justify-center mb-4 transition-colors`,children:e.jsx(be,{className:"w-6 h-6 text-primary"})}),e.jsx("h3",{className:"mb-2",children:V.title}),e.jsx("p",{className:"text-muted-foreground",children:V.description})]},Y)})})]})}),e.jsx("section",{id:"new-releases",className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl md:text-4xl mb-3",children:"New Releases"}),e.jsx("p",{className:"text-muted-foreground",children:"Fresh picks from talented authors around the world"})]}),e.jsx(I,{variant:"outline",className:"border-border hover:bg-accent/10",children:"View All"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:jt.map((V,Y)=>e.jsx(Ff,{title:V.title,author:V.author,rating:V.rating,reviews:V.totalRatings,coverUrl:V.cover,genre:V.genre,onClick:()=>{u(V.id),_("home"),n("book-details")}},Y))})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-primary/30 via-accent/20 to-secondary/30 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(164,135,131,0.2),transparent_50%)]"}),e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl mb-4",children:"Ready to Start Your Reading Journey?"}),e.jsx("p",{className:"text-lg mb-8 text-muted-foreground",children:"Join thousands of readers and authors in building the world's most vibrant book community"}),e.jsx(I,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg",onClick:()=>n("register"),children:"Create Free Account"})]})})]}),e.jsx("footer",{id:"community",className:"bg-card border-t border-border py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Vs,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg",children:"BookArc"})]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Your trusted companion for discovering, rating, and reviewing books in a vibrant community of readers and writers."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4",children:"Explore"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:e.jsx("a",{href:"#trending",className:"hover:text-primary transition-colors cursor-pointer",onClick:V=>{V.preventDefault(),document.getElementById("trending")?.scrollIntoView({behavior:"smooth"})},children:"Trending Books"})}),e.jsx("li",{children:e.jsx("a",{href:"#new-releases",className:"hover:text-primary transition-colors cursor-pointer",onClick:V=>{V.preventDefault(),document.getElementById("new-releases")?.scrollIntoView({behavior:"smooth"})},children:"New Releases"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:e.jsx("a",{href:"#about",className:"hover:text-primary transition-colors cursor-pointer",onClick:V=>{V.preventDefault(),n("about"),window.scrollTo({top:0,behavior:"smooth"})},children:"About Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#contact",className:"hover:text-primary transition-colors cursor-pointer",onClick:V=>{V.preventDefault(),n("contact"),window.scrollTo({top:0,behavior:"smooth"})},children:"Contact Us"})})]})]})]}),e.jsx("div",{className:"pt-8 border-t border-border text-center text-sm text-muted-foreground",children:e.jsx("p",{children:" 2025 BookArc. All rights reserved."})})]})}),e.jsx(RD,{open:ve,onOpenChange:B,onSubmit:Ts,verificationStatus:A.verificationStatus}),e.jsx(ps,{})]})}b2.createRoot(document.getElementById("root")).render(e.jsx(TD,{}));
